var pw=Object.defineProperty;var _w=(s,e,i)=>e in s?pw(s,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):s[e]=i;var Xd=(s,e,i)=>_w(s,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))a(c);new MutationObserver(c=>{for(const h of c)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function i(c){const h={};return c.integrity&&(h.integrity=c.integrity),c.referrerPolicy&&(h.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?h.credentials="include":c.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(c){if(c.ep)return;c.ep=!0;const h=i(c);fetch(c.href,h)}})();function m0(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Qd={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zv;function gw(){if(zv)return Pl;zv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,c,h){var m=null;if(h!==void 0&&(m=""+h),c.key!==void 0&&(m=""+c.key),"key"in c){h={};for(var v in c)v!=="key"&&(h[v]=c[v])}else h=c;return c=h.ref,{$$typeof:s,type:a,key:m,ref:c!==void 0?c:null,props:h}}return Pl.Fragment=e,Pl.jsx=i,Pl.jsxs=i,Pl}var Uv;function vw(){return Uv||(Uv=1,Qd.exports=gw()),Qd.exports}var E=vw(),$d={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jv;function yw(){if(jv)return Ne;jv=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),c=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),v=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),x=Symbol.iterator;function N(A){return A===null||typeof A!="object"?null:(A=x&&A[x]||A["@@iterator"],typeof A=="function"?A:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,U={};function Y(A,V,ie){this.props=A,this.context=V,this.refs=U,this.updater=ie||D}Y.prototype.isReactComponent={},Y.prototype.setState=function(A,V){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,V,"setState")},Y.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function X(){}X.prototype=Y.prototype;function ee(A,V,ie){this.props=A,this.context=V,this.refs=U,this.updater=ie||D}var $=ee.prototype=new X;$.constructor=ee,k($,Y.prototype),$.isPureReactComponent=!0;var ce=Array.isArray,re={H:null,A:null,T:null,S:null,V:null},De=Object.prototype.hasOwnProperty;function _e(A,V,ie,te,le,fe){return ie=fe.ref,{$$typeof:s,type:A,key:V,ref:ie!==void 0?ie:null,props:fe}}function xe(A,V){return _e(A.type,V,void 0,void 0,void 0,A.props)}function ye(A){return typeof A=="object"&&A!==null&&A.$$typeof===s}function et(A){var V={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(ie){return V[ie]})}var qe=/\/+/g;function Ze(A,V){return typeof A=="object"&&A!==null&&A.key!=null?et(""+A.key):V.toString(36)}function Fn(){}function Dt(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(Fn,Fn):(A.status="pending",A.then(function(V){A.status==="pending"&&(A.status="fulfilled",A.value=V)},function(V){A.status==="pending"&&(A.status="rejected",A.reason=V)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function xt(A,V,ie,te,le){var fe=typeof A;(fe==="undefined"||fe==="boolean")&&(A=null);var se=!1;if(A===null)se=!0;else switch(fe){case"bigint":case"string":case"number":se=!0;break;case"object":switch(A.$$typeof){case s:case e:se=!0;break;case C:return se=A._init,xt(se(A._payload),V,ie,te,le)}}if(se)return le=le(A),se=te===""?"."+Ze(A,0):te,ce(le)?(ie="",se!=null&&(ie=se.replace(qe,"$&/")+"/"),xt(le,V,ie,"",function(qn){return qn})):le!=null&&(ye(le)&&(le=xe(le,ie+(le.key==null||A&&A.key===le.key?"":(""+le.key).replace(qe,"$&/")+"/")+se)),V.push(le)),1;se=0;var ct=te===""?".":te+":";if(ce(A))for(var je=0;je<A.length;je++)te=A[je],fe=ct+Ze(te,je),se+=xt(te,V,ie,fe,le);else if(je=N(A),typeof je=="function")for(A=je.call(A),je=0;!(te=A.next()).done;)te=te.value,fe=ct+Ze(te,je++),se+=xt(te,V,ie,fe,le);else if(fe==="object"){if(typeof A.then=="function")return xt(Dt(A),V,ie,te,le);throw V=String(A),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return se}function Z(A,V,ie){if(A==null)return A;var te=[],le=0;return xt(A,te,"","",function(fe){return V.call(ie,fe,le++)}),te}function ae(A){if(A._status===-1){var V=A._result;V=V(),V.then(function(ie){(A._status===0||A._status===-1)&&(A._status=1,A._result=ie)},function(ie){(A._status===0||A._status===-1)&&(A._status=2,A._result=ie)}),A._status===-1&&(A._status=0,A._result=V)}if(A._status===1)return A._result.default;throw A._result}var J=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function Ve(){}return Ne.Children={map:Z,forEach:function(A,V,ie){Z(A,function(){V.apply(this,arguments)},ie)},count:function(A){var V=0;return Z(A,function(){V++}),V},toArray:function(A){return Z(A,function(V){return V})||[]},only:function(A){if(!ye(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},Ne.Component=Y,Ne.Fragment=i,Ne.Profiler=c,Ne.PureComponent=ee,Ne.StrictMode=a,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=re,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(A){return re.H.useMemoCache(A)}},Ne.cache=function(A){return function(){return A.apply(null,arguments)}},Ne.cloneElement=function(A,V,ie){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var te=k({},A.props),le=A.key,fe=void 0;if(V!=null)for(se in V.ref!==void 0&&(fe=void 0),V.key!==void 0&&(le=""+V.key),V)!De.call(V,se)||se==="key"||se==="__self"||se==="__source"||se==="ref"&&V.ref===void 0||(te[se]=V[se]);var se=arguments.length-2;if(se===1)te.children=ie;else if(1<se){for(var ct=Array(se),je=0;je<se;je++)ct[je]=arguments[je+2];te.children=ct}return _e(A.type,le,void 0,void 0,fe,te)},Ne.createContext=function(A){return A={$$typeof:m,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:h,_context:A},A},Ne.createElement=function(A,V,ie){var te,le={},fe=null;if(V!=null)for(te in V.key!==void 0&&(fe=""+V.key),V)De.call(V,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(le[te]=V[te]);var se=arguments.length-2;if(se===1)le.children=ie;else if(1<se){for(var ct=Array(se),je=0;je<se;je++)ct[je]=arguments[je+2];le.children=ct}if(A&&A.defaultProps)for(te in se=A.defaultProps,se)le[te]===void 0&&(le[te]=se[te]);return _e(A,fe,void 0,void 0,null,le)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(A){return{$$typeof:v,render:A}},Ne.isValidElement=ye,Ne.lazy=function(A){return{$$typeof:C,_payload:{_status:-1,_result:A},_init:ae}},Ne.memo=function(A,V){return{$$typeof:y,type:A,compare:V===void 0?null:V}},Ne.startTransition=function(A){var V=re.T,ie={};re.T=ie;try{var te=A(),le=re.S;le!==null&&le(ie,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Ve,J)}catch(fe){J(fe)}finally{re.T=V}},Ne.unstable_useCacheRefresh=function(){return re.H.useCacheRefresh()},Ne.use=function(A){return re.H.use(A)},Ne.useActionState=function(A,V,ie){return re.H.useActionState(A,V,ie)},Ne.useCallback=function(A,V){return re.H.useCallback(A,V)},Ne.useContext=function(A){return re.H.useContext(A)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(A,V){return re.H.useDeferredValue(A,V)},Ne.useEffect=function(A,V,ie){var te=re.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(A,V)},Ne.useId=function(){return re.H.useId()},Ne.useImperativeHandle=function(A,V,ie){return re.H.useImperativeHandle(A,V,ie)},Ne.useInsertionEffect=function(A,V){return re.H.useInsertionEffect(A,V)},Ne.useLayoutEffect=function(A,V){return re.H.useLayoutEffect(A,V)},Ne.useMemo=function(A,V){return re.H.useMemo(A,V)},Ne.useOptimistic=function(A,V){return re.H.useOptimistic(A,V)},Ne.useReducer=function(A,V,ie){return re.H.useReducer(A,V,ie)},Ne.useRef=function(A){return re.H.useRef(A)},Ne.useState=function(A){return re.H.useState(A)},Ne.useSyncExternalStore=function(A,V,ie){return re.H.useSyncExternalStore(A,V,ie)},Ne.useTransition=function(){return re.H.useTransition()},Ne.version="19.1.0",Ne}var Bv;function qm(){return Bv||(Bv=1,$d.exports=yw()),$d.exports}var I=qm();const bm=m0(I);var Jd={exports:{}},zl={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hv;function bw(){return Hv||(Hv=1,function(s){function e(Z,ae){var J=Z.length;Z.push(ae);e:for(;0<J;){var Ve=J-1>>>1,A=Z[Ve];if(0<c(A,ae))Z[Ve]=ae,Z[J]=A,J=Ve;else break e}}function i(Z){return Z.length===0?null:Z[0]}function a(Z){if(Z.length===0)return null;var ae=Z[0],J=Z.pop();if(J!==ae){Z[0]=J;e:for(var Ve=0,A=Z.length,V=A>>>1;Ve<V;){var ie=2*(Ve+1)-1,te=Z[ie],le=ie+1,fe=Z[le];if(0>c(te,J))le<A&&0>c(fe,te)?(Z[Ve]=fe,Z[le]=J,Ve=le):(Z[Ve]=te,Z[ie]=J,Ve=ie);else if(le<A&&0>c(fe,J))Z[Ve]=fe,Z[le]=J,Ve=le;else break e}}return ae}function c(Z,ae){var J=Z.sortIndex-ae.sortIndex;return J!==0?J:Z.id-ae.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var m=Date,v=m.now();s.unstable_now=function(){return m.now()-v}}var g=[],y=[],C=1,x=null,N=3,D=!1,k=!1,U=!1,Y=!1,X=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;function ce(Z){for(var ae=i(y);ae!==null;){if(ae.callback===null)a(y);else if(ae.startTime<=Z)a(y),ae.sortIndex=ae.expirationTime,e(g,ae);else break;ae=i(y)}}function re(Z){if(U=!1,ce(Z),!k)if(i(g)!==null)k=!0,De||(De=!0,Ze());else{var ae=i(y);ae!==null&&xt(re,ae.startTime-Z)}}var De=!1,_e=-1,xe=5,ye=-1;function et(){return Y?!0:!(s.unstable_now()-ye<xe)}function qe(){if(Y=!1,De){var Z=s.unstable_now();ye=Z;var ae=!0;try{e:{k=!1,U&&(U=!1,ee(_e),_e=-1),D=!0;var J=N;try{t:{for(ce(Z),x=i(g);x!==null&&!(x.expirationTime>Z&&et());){var Ve=x.callback;if(typeof Ve=="function"){x.callback=null,N=x.priorityLevel;var A=Ve(x.expirationTime<=Z);if(Z=s.unstable_now(),typeof A=="function"){x.callback=A,ce(Z),ae=!0;break t}x===i(g)&&a(g),ce(Z)}else a(g);x=i(g)}if(x!==null)ae=!0;else{var V=i(y);V!==null&&xt(re,V.startTime-Z),ae=!1}}break e}finally{x=null,N=J,D=!1}ae=void 0}}finally{ae?Ze():De=!1}}}var Ze;if(typeof $=="function")Ze=function(){$(qe)};else if(typeof MessageChannel<"u"){var Fn=new MessageChannel,Dt=Fn.port2;Fn.port1.onmessage=qe,Ze=function(){Dt.postMessage(null)}}else Ze=function(){X(qe,0)};function xt(Z,ae){_e=X(function(){Z(s.unstable_now())},ae)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(Z){Z.callback=null},s.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):xe=0<Z?Math.floor(1e3/Z):5},s.unstable_getCurrentPriorityLevel=function(){return N},s.unstable_next=function(Z){switch(N){case 1:case 2:case 3:var ae=3;break;default:ae=N}var J=N;N=ae;try{return Z()}finally{N=J}},s.unstable_requestPaint=function(){Y=!0},s.unstable_runWithPriority=function(Z,ae){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var J=N;N=Z;try{return ae()}finally{N=J}},s.unstable_scheduleCallback=function(Z,ae,J){var Ve=s.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Ve+J:Ve):J=Ve,Z){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=J+A,Z={id:C++,callback:ae,priorityLevel:Z,startTime:J,expirationTime:A,sortIndex:-1},J>Ve?(Z.sortIndex=J,e(y,Z),i(g)===null&&Z===i(y)&&(U?(ee(_e),_e=-1):U=!0,xt(re,J-Ve))):(Z.sortIndex=A,e(g,Z),k||D||(k=!0,De||(De=!0,Ze()))),Z},s.unstable_shouldYield=et,s.unstable_wrapCallback=function(Z){var ae=N;return function(){var J=N;N=ae;try{return Z.apply(this,arguments)}finally{N=J}}}}(tm)),tm}var Fv;function Sw(){return Fv||(Fv=1,em.exports=bw()),em.exports}var nm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qv;function Ew(){if(qv)return Wt;qv=1;var s=qm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var C=2;C<arguments.length;C++)y+="&args[]="+encodeURIComponent(arguments[C])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},c=Symbol.for("react.portal");function h(g,y,C){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:x==null?null:""+x,children:g,containerInfo:y,implementation:C}}var m=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function v(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Wt.createPortal=function(g,y){var C=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return h(g,y,null,C)},Wt.flushSync=function(g){var y=m.T,C=a.p;try{if(m.T=null,a.p=2,g)return g()}finally{m.T=y,a.p=C,a.d.f()}},Wt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(g,y))},Wt.prefetchDNS=function(g){typeof g=="string"&&a.d.D(g)},Wt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var C=y.as,x=v(C,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,D=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;C==="style"?a.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:x,integrity:N,fetchPriority:D}):C==="script"&&a.d.X(g,{crossOrigin:x,integrity:N,fetchPriority:D,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Wt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var C=v(y.as,y.crossOrigin);a.d.M(g,{crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(g)},Wt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var C=y.as,x=v(C,y.crossOrigin);a.d.L(g,C,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Wt.preloadModule=function(g,y){if(typeof g=="string")if(y){var C=v(y.as,y.crossOrigin);a.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:C,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(g)},Wt.requestFormReset=function(g){a.d.r(g)},Wt.unstable_batchedUpdates=function(g,y){return g(y)},Wt.useFormState=function(g,y,C){return m.H.useFormState(g,y,C)},Wt.useFormStatus=function(){return m.H.useHostTransitionStatus()},Wt.version="19.1.0",Wt}var Zv;function p0(){if(Zv)return nm.exports;Zv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),nm.exports=Ew(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vv;function ww(){if(Vv)return zl;Vv=1;var s=Sw(),e=qm(),i=p0();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,o=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(o=n.return),t=n.return;while(t)}return n.tag===3?o:null}function m(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function v(t){if(h(t)!==t)throw Error(a(188))}function g(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var o=t,u=n;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return v(d),t;if(p===u)return v(d),n;p=p.sibling}throw Error(a(188))}if(o.return!==u.return)o=d,u=p;else{for(var S=!1,T=d.child;T;){if(T===o){S=!0,o=d,u=p;break}if(T===u){S=!0,u=d,o=p;break}T=T.sibling}if(!S){for(T=p.child;T;){if(T===o){S=!0,o=p,u=d;break}if(T===u){S=!0,u=p,o=d;break}T=T.sibling}if(!S)throw Error(a(189))}}if(o.alternate!==u)throw Error(a(190))}if(o.tag!==3)throw Error(a(188));return o.stateNode.current===o?t:n}function y(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=y(t),n!==null)return n;t=t.sibling}return null}var C=Object.assign,x=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),D=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ee=Symbol.for("react.consumer"),$=Symbol.for("react.context"),ce=Symbol.for("react.forward_ref"),re=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),xe=Symbol.for("react.lazy"),ye=Symbol.for("react.activity"),et=Symbol.for("react.memo_cache_sentinel"),qe=Symbol.iterator;function Ze(t){return t===null||typeof t!="object"?null:(t=qe&&t[qe]||t["@@iterator"],typeof t=="function"?t:null)}var Fn=Symbol.for("react.client.reference");function Dt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Fn?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case Y:return"Profiler";case U:return"StrictMode";case re:return"Suspense";case De:return"SuspenseList";case ye:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case D:return"Portal";case $:return(t.displayName||"Context")+".Provider";case ee:return(t._context.displayName||"Context")+".Consumer";case ce:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _e:return n=t.displayName||null,n!==null?n:Dt(t.type)||"Memo";case xe:n=t._payload,t=t._init;try{return Dt(t(n))}catch{}}return null}var xt=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},Ve=[],A=-1;function V(t){return{current:t}}function ie(t){0>A||(t.current=Ve[A],Ve[A]=null,A--)}function te(t,n){A++,Ve[A]=t.current,t.current=n}var le=V(null),fe=V(null),se=V(null),ct=V(null);function je(t,n){switch(te(se,n),te(fe,t),te(le,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?hv(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=hv(n),t=fv(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ie(le),te(le,t)}function qn(){ie(le),ie(fe),ie(se)}function Cr(t){t.memoizedState!==null&&te(ct,t);var n=le.current,o=fv(n,t.type);n!==o&&(te(fe,t),te(le,o))}function gs(t){fe.current===t&&(ie(le),ie(fe)),ct.current===t&&(ie(ct),Ll._currentValue=J)}var Ci=Object.prototype.hasOwnProperty,xr=s.unstable_scheduleCallback,Mo=s.unstable_cancelCallback,Ru=s.unstable_shouldYield,Ou=s.unstable_requestPaint,on=s.unstable_now,pa=s.unstable_getCurrentPriorityLevel,Lu=s.unstable_ImmediatePriority,Io=s.unstable_UserBlockingPriority,vs=s.unstable_NormalPriority,Mu=s.unstable_LowPriority,ko=s.unstable_IdlePriority,ef=s.log,tf=s.unstable_setDisableYieldValue,xi=null,qt=null;function Zn(t){if(typeof ef=="function"&&tf(t),qt&&typeof qt.setStrictMode=="function")try{qt.setStrictMode(xi,t)}catch{}}var Xt=Math.clz32?Math.clz32:nf,Iu=Math.log,ku=Math.LN2;function nf(t){return t>>>=0,t===0?32:31-(Iu(t)/ku|0)|0}var Nr=256,ys=4194304;function li(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function _a(t,n,o){var u=t.pendingLanes;if(u===0)return 0;var d=0,p=t.suspendedLanes,S=t.pingedLanes;t=t.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?d=li(u):(S&=T,S!==0?d=li(S):o||(o=T&~t,o!==0&&(d=li(o))))):(T=u&~p,T!==0?d=li(T):S!==0?d=li(S):o||(o=u&~t,o!==0&&(d=li(o)))),d===0?0:n!==0&&n!==d&&(n&p)===0&&(p=d&-d,o=n&-n,p>=o||p===32&&(o&4194048)!==0)?n:d}function Vn(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function sf(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var t=Nr;return Nr<<=1,(Nr&4194048)===0&&(Nr=256),t}function Do(){var t=ys;return ys<<=1,(ys&62914560)===0&&(ys=4194304),t}function ga(t){for(var n=[],o=0;31>o;o++)n.push(t);return n}function bs(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function rf(t,n,o,u,d,p){var S=t.pendingLanes;t.pendingLanes=o,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=o,t.entangledLanes&=o,t.errorRecoveryDisabledLanes&=o,t.shellSuspendCounter=0;var T=t.entanglements,O=t.expirationTimes,B=t.hiddenUpdates;for(o=S&~o;0<o;){var G=31-Xt(o),K=1<<G;T[G]=0,O[G]=-1;var H=B[G];if(H!==null)for(B[G]=null,G=0;G<H.length;G++){var F=H[G];F!==null&&(F.lane&=-536870913)}o&=~K}u!==0&&Pu(t,u,0),p!==0&&d===0&&t.tag!==0&&(t.suspendedLanes|=p&~(S&~n))}function Pu(t,n,o){t.pendingLanes|=n,t.suspendedLanes&=~n;var u=31-Xt(n);t.entangledLanes|=n,t.entanglements[u]=t.entanglements[u]|1073741824|o&4194090}function zu(t,n){var o=t.entangledLanes|=n;for(t=t.entanglements;o;){var u=31-Xt(o),d=1<<u;d&n|t[u]&n&&(t[u]|=n),o&=~d}}function Po(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Uu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Lv(t.type))}function Uo(t,n){var o=ae.p;try{return ae.p=t,n()}finally{ae.p=o}}var ui=Math.random().toString(36).slice(2),Nt="__reactFiber$"+ui,Zt="__reactProps$"+ui,Ss="__reactContainer$"+ui,ln="__reactEvents$"+ui,me="__reactListeners$"+ui,ju="__reactHandles$"+ui,jo="__reactResources$"+ui,Es="__reactMarker$"+ui;function va(t){delete t[Nt],delete t[Zt],delete t[ln],delete t[me],delete t[ju]}function ci(t){var n=t[Nt];if(n)return n;for(var o=t.parentNode;o;){if(n=o[Ss]||o[Nt]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(t=_v(t);t!==null;){if(o=t[Nt])return o;t=_v(t)}return n}t=o,o=t.parentNode}return null}function Ni(t){if(t=t[Nt]||t[Ss]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function On(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ai(t){var n=t[jo];return n||(n=t[jo]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function yt(t){t[Es]=!0}var Bu=new Set,Hu={};function Ri(t,n){Oi(t,n),Oi(t+"Capture",n)}function Oi(t,n){for(Hu[t]=n,t=0;t<n.length;t++)Bu.add(n[t])}var af=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ar={},Fu={};function of(t){return Ci.call(Fu,t)?!0:Ci.call(Ar,t)?!1:af.test(t)?Fu[t]=!0:(Ar[t]=!0,!1)}function ya(t,n,o){if(of(n))if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var u=n.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+o)}}function ba(t,n,o){if(o===null)t.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+o)}}function Gn(t,n,o,u){if(u===null)t.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(o);return}t.setAttributeNS(n,o,""+u)}}var Rr,ws;function Li(t){if(Rr===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);Rr=n&&n[1]||"",ws=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rr+t+ws}var Sa=!1;function Mi(t,n){if(!t||Sa)return"";Sa=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(F){var H=F}Reflect.construct(t,[],K)}else{try{K.call()}catch(F){H=F}t.call(K.prototype)}}else{try{throw Error()}catch(F){H=F}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(F){if(F&&H&&typeof F.stack=="string")return[F.stack,H.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],T=p[1];if(S&&T){var O=S.split(`
`),B=T.split(`
`);for(d=u=0;u<O.length&&!O[u].includes("DetermineComponentFrameRoot");)u++;for(;d<B.length&&!B[d].includes("DetermineComponentFrameRoot");)d++;if(u===O.length||d===B.length)for(u=O.length-1,d=B.length-1;1<=u&&0<=d&&O[u]!==B[d];)d--;for(;1<=u&&0<=d;u--,d--)if(O[u]!==B[d]){if(u!==1||d!==1)do if(u--,d--,0>d||O[u]!==B[d]){var G=`
`+O[u].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=u&&0<=d);break}}}finally{Sa=!1,Error.prepareStackTrace=o}return(o=t?t.displayName||t.name:"")?Li(o):""}function ze(t){switch(t.tag){case 26:case 27:case 5:return Li(t.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return Mi(t.type,!1);case 11:return Mi(t.type.render,!1);case 1:return Mi(t.type,!0);case 31:return Li("Activity");default:return""}}function tt(t){try{var n="";do n+=ze(t),t=t.return;while(t);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ii(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ts(t){var n=Ii(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),u=""+t[n];if(!t.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return d.call(this)},set:function(S){u=""+S,p.call(this,S)}}),Object.defineProperty(t,n,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(S){u=""+S},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function Cs(t){t._valueTracker||(t._valueTracker=Ts(t))}function Ce(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var o=n.getValue(),u="";return t&&(u=Ii(t)?t.checked?"true":"false":t.value),t=u,t!==o?(n.setValue(t),!0):!1}function nt(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Bo=/[\n"\\]/g;function zt(t){return t.replace(Bo,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Vt(t,n,o,u,d,p,S,T){t.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.type=S:t.removeAttribute("type"),n!=null?S==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Pt(n)):t.value!==""+Pt(n)&&(t.value=""+Pt(n)):S!=="submit"&&S!=="reset"||t.removeAttribute("value"),n!=null?xs(t,S,Pt(n)):o!=null?xs(t,S,Pt(o)):u!=null&&t.removeAttribute("value"),d==null&&p!=null&&(t.defaultChecked=!!p),d!=null&&(t.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+Pt(T):t.removeAttribute("name")}function qu(t,n,o,u,d,p,S,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(t.type=p),n!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||n!=null))return;o=o!=null?""+Pt(o):"",n=n!=null?""+Pt(n):o,T||n===t.value||(t.value=n),t.defaultValue=n}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,t.checked=T?t.checked:!!u,t.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(t.name=S)}function xs(t,n,o){n==="number"&&nt(t.ownerDocument)===t||t.defaultValue===""+o||(t.defaultValue=""+o)}function un(t,n,o,u){if(t=t.options,n){n={};for(var d=0;d<o.length;d++)n["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=n.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&u&&(t[o].defaultSelected=!0)}else{for(o=""+Pt(o),n=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,u&&(t[d].defaultSelected=!0);return}n!==null||t[d].disabled||(n=t[d])}n!==null&&(n.selected=!0)}}function ht(t,n,o){if(n!=null&&(n=""+Pt(n),n!==t.value&&(t.value=n),o==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=o!=null?""+Pt(o):""}function hi(t,n,o,u){if(n==null){if(u!=null){if(o!=null)throw Error(a(92));if(xt(u)){if(1<u.length)throw Error(a(93));u=u[0]}o=u}o==null&&(o=""),n=o}o=Pt(n),t.defaultValue=o,u=t.textContent,u===o&&u!==""&&u!==null&&(t.value=u)}function Ln(t,n){if(n){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=n;return}}t.textContent=n}var Or=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ea(t,n,o){var u=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":u?t.setProperty(n,o):typeof o!="number"||o===0||Or.has(n)?n==="float"?t.cssFloat=o:t[n]=(""+o).trim():t[n]=o+"px"}function Ns(t,n,o){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||n!=null&&n.hasOwnProperty(u)||(u.indexOf("--")===0?t.setProperty(u,""):u==="float"?t.cssFloat="":t[u]="");for(var d in n)u=n[d],n.hasOwnProperty(d)&&o[d]!==u&&Ea(t,d,u)}else for(var p in n)n.hasOwnProperty(p)&&Ea(t,p,n[p])}function Lr(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ho=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wa=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function As(t){return wa.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Mr=null;function Rs(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,fi=null;function Zu(t){var n=Ni(t);if(n&&(t=n.stateNode)){var o=t[Zt]||null;e:switch(t=n.stateNode,n.type){case"input":if(Vt(t,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+zt(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var u=o[n];if(u!==t&&u.form===t.form){var d=u[Zt]||null;if(!d)throw Error(a(90));Vt(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(n=0;n<o.length;n++)u=o[n],u.form===t.form&&Ce(u)}break e;case"textarea":ht(t,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&un(t,!!o.multiple,n,!1)}}}var Te=!1;function _n(t,n,o){if(Te)return t(n,o);Te=!0;try{var u=t(n);return u}finally{if(Te=!1,(ki!==null||fi!==null)&&(Uc(),ki&&(n=ki,t=fi,fi=ki=null,Zu(n),t)))for(n=0;n<t.length;n++)Zu(t[n])}}function Be(t,n){var o=t.stateNode;if(o===null)return null;var u=o[Zt]||null;if(u===null)return null;o=u[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(t=t.type,u=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!u;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(a(231,n,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Mn)try{var Di={};Object.defineProperty(Di,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",Di,Di),window.removeEventListener("test",Di,Di)}catch{Ir=!1}var In=null,Yn=null,Os=null;function Ls(){if(Os)return Os;var t,n=Yn,o=n.length,u,d="value"in In?In.value:In.textContent,p=d.length;for(t=0;t<o&&n[t]===d[t];t++);var S=o-t;for(u=1;u<=S&&n[o-u]===d[p-u];u++);return Os=d.slice(t,1<u?1-u:void 0)}function mt(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function kn(){return!0}function Fo(){return!1}function Ut(t){function n(o,u,d,p,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(o=t[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?kn:Fo,this.isPropagationStopped=Fo,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=kn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=kn)},persist:function(){},isPersistent:kn}),n}var Pi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kr=Ut(Pi),zi=C({},Pi,{view:0,detail:0}),lf=Ut(zi),Ta,Re,Dr,Gt=C({},zi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ca,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(Ta=t.screenX-Dr.screenX,Re=t.screenY-Dr.screenY):Re=Ta=0,Dr=t),Ta)},movementY:function(t){return"movementY"in t?t.movementY:Re}}),Ms=Ut(Gt),Vu=C({},Gt,{dataTransfer:0}),uf=Ut(Vu),qo=C({},zi,{relatedTarget:0}),Zo=Ut(qo),Gu=C({},Pi,{animationName:0,elapsedTime:0,pseudoElement:0}),cf=Ut(Gu),hf=C({},Pi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Vo=Ut(hf),ff=C({},Pi,{data:0}),gn=Ut(ff),df={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},di={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wu(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=di[t])?!!n[t]:!1}function Ca(){return Wu}var Go=C({},zi,{key:function(t){if(t.key){var n=df[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=mt(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ca,charCode:function(t){return t.type==="keypress"?mt(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mt(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),mf=Ut(Go),Ku=C({},Gt,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Yo=Ut(Ku),pf=C({},zi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ca}),_f=Ut(pf),Wo=C({},Pi,{propertyName:0,elapsedTime:0,pseudoElement:0}),gf=Ut(Wo),Xu=C({},Gt,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Qu=Ut(Xu),xa=C({},Pi,{newState:0,oldState:0}),Ui=Ut(xa),vf=[9,13,27,32],ji=Mn&&"CompositionEvent"in window,At=null;Mn&&"documentMode"in document&&(At=document.documentMode);var $u=Mn&&"TextEvent"in window&&!At,Ko=Mn&&(!ji||At&&8<At&&11>=At),Ju=" ",Na=!1;function Aa(t,n){switch(t){case"keyup":return vf.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ec(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Is=!1;function tc(t,n){switch(t){case"compositionend":return ec(n);case"keypress":return n.which!==32?null:(Na=!0,Ju);case"textInput":return t=n.data,t===Ju&&Na?null:t;default:return null}}function yf(t,n){if(Is)return t==="compositionend"||!ji&&Aa(t,n)?(t=Ls(),Os=Yn=In=null,Is=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ko&&n.locale!=="ko"?null:n.data;default:return null}}var vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bi(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!vn[t.type]:n==="textarea"}function nc(t,n,o,u){ki?fi?fi.push(u):fi=[u]:ki=u,n=Zc(n,"onChange"),0<n.length&&(o=new kr("onChange","change",null,o,u),t.push({event:o,listeners:n}))}var Qt=null,Pr=null;function ks(t){av(t,0)}function Ra(t){var n=On(t);if(Ce(n))return t}function Ds(t,n){if(t==="change")return n}var Xo=!1;if(Mn){var Ps;if(Mn){var Qo="oninput"in document;if(!Qo){var Wn=document.createElement("div");Wn.setAttribute("oninput","return;"),Qo=typeof Wn.oninput=="function"}Ps=Qo}else Ps=!1;Xo=Ps&&(!document.documentMode||9<document.documentMode)}function zr(){Qt&&(Qt.detachEvent("onpropertychange",ic),Pr=Qt=null)}function ic(t){if(t.propertyName==="value"&&Ra(Pr)){var n=[];nc(n,Pr,t,Rs(t)),_n(ks,n)}}function $o(t,n,o){t==="focusin"?(zr(),Qt=n,Pr=o,Qt.attachEvent("onpropertychange",ic)):t==="focusout"&&zr()}function bf(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ra(Pr)}function Kn(t,n){if(t==="click")return Ra(n)}function Sf(t,n){if(t==="input"||t==="change")return Ra(n)}function zs(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var $t=typeof Object.is=="function"?Object.is:zs;function Jt(t,n){if($t(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var o=Object.keys(t),u=Object.keys(n);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Ci.call(n,d)||!$t(t[d],n[d]))return!1}return!0}function Ur(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jo(t,n){var o=Ur(t);t=0;for(var u;o;){if(o.nodeType===3){if(u=t+o.textContent.length,t<=n&&u>=n)return{node:o,offset:n-t};t=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Ur(o)}}function Oa(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Oa(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function jr(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=nt(t.document);n instanceof t.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)t=n.contentWindow;else break;n=nt(t.document)}return n}function Br(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var La=Mn&&"documentMode"in document&&11>=document.documentMode,yn=null,Us=null,Hi=null,Ma=!1;function sc(t,n,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Ma||yn==null||yn!==nt(u)||(u=yn,"selectionStart"in u&&Br(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hi&&Jt(Hi,u)||(Hi=u,u=Zc(Us,"onSelect"),0<u.length&&(n=new kr("onSelect","select",null,n,o),t.push({event:n,listeners:u}),n.target=yn)))}function Dn(t,n){var o={};return o[t.toLowerCase()]=n.toLowerCase(),o["Webkit"+t]="webkit"+n,o["Moz"+t]="moz"+n,o}var js={animationend:Dn("Animation","AnimationEnd"),animationiteration:Dn("Animation","AnimationIteration"),animationstart:Dn("Animation","AnimationStart"),transitionrun:Dn("Transition","TransitionRun"),transitionstart:Dn("Transition","TransitionStart"),transitioncancel:Dn("Transition","TransitionCancel"),transitionend:Dn("Transition","TransitionEnd")},Ia={},rc={};Mn&&(rc=document.createElement("div").style,"AnimationEvent"in window||(delete js.animationend.animation,delete js.animationiteration.animation,delete js.animationstart.animation),"TransitionEvent"in window||delete js.transitionend.transition);function mi(t){if(Ia[t])return Ia[t];if(!js[t])return t;var n=js[t],o;for(o in n)if(n.hasOwnProperty(o)&&o in rc)return Ia[t]=n[o];return t}var ac=mi("animationend"),bn=mi("animationiteration"),Hr=mi("animationstart"),Ef=mi("transitionrun"),ka=mi("transitionstart"),wf=mi("transitioncancel"),el=mi("transitionend"),oc=new Map,Fi="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fi.push("scrollEnd");function Sn(t,n){oc.set(t,n),Ri(n,[t])}var qi=new WeakMap;function en(t,n){if(typeof t=="object"&&t!==null){var o=qi.get(t);return o!==void 0?o:(n={value:t,source:n,stack:tt(n)},qi.set(t,n),n)}return{value:t,source:n,stack:tt(n)}}var tn=[],Bs=0,En=0;function Fr(){for(var t=Bs,n=En=Bs=0;n<t;){var o=tn[n];tn[n++]=null;var u=tn[n];tn[n++]=null;var d=tn[n];tn[n++]=null;var p=tn[n];if(tn[n++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}p!==0&&Zr(o,d,p)}}function qr(t,n,o,u){tn[Bs++]=t,tn[Bs++]=n,tn[Bs++]=o,tn[Bs++]=u,En|=u,t.lanes|=u,t=t.alternate,t!==null&&(t.lanes|=u)}function Zi(t,n,o,u){return qr(t,n,o,u),pi(t)}function Hs(t,n){return qr(t,null,null,n),pi(t)}function Zr(t,n,o){t.lanes|=o;var u=t.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=t.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(t=p.stateNode,t===null||t._visibility&1||(d=!0)),t=p,p=p.return;return t.tag===3?(p=t.stateNode,d&&n!==null&&(d=31-Xt(o),t=p.hiddenUpdates,u=t[d],u===null?t[d]=[n]:u.push(n),n.lane=o|536870912),p):null}function pi(t){if(50<wl)throw wl=0,bd=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Vi={};function lc(t,n,o,u){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(t,n,o,u){return new lc(t,n,o,u)}function Da(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Pn(t,n){var o=t.alternate;return o===null?(o=nn(t.tag,n,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=n,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&65011712,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,n=t.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o.refCleanup=t.refCleanup,o}function tl(t,n){t.flags&=65011714;var o=t.alternate;return o===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=o.childLanes,t.lanes=o.lanes,t.child=o.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=o.memoizedProps,t.memoizedState=o.memoizedState,t.updateQueue=o.updateQueue,t.type=o.type,n=o.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Vr(t,n,o,u,d,p){var S=0;if(u=t,typeof t=="function")Da(t)&&(S=1);else if(typeof t=="string")S=nw(t,o,le.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ye:return t=nn(31,o,n,d),t.elementType=ye,t.lanes=p,t;case k:return _i(o.children,d,p,n);case U:S=8,d|=24;break;case Y:return t=nn(12,o,n,d|2),t.elementType=Y,t.lanes=p,t;case re:return t=nn(13,o,n,d),t.elementType=re,t.lanes=p,t;case De:return t=nn(19,o,n,d),t.elementType=De,t.lanes=p,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X:case $:S=10;break e;case ee:S=9;break e;case ce:S=11;break e;case _e:S=14;break e;case xe:S=16,u=null;break e}S=29,o=Error(a(130,t===null?"null":typeof t,"")),u=null}return n=nn(S,o,n,d),n.elementType=t,n.type=u,n.lanes=p,n}function _i(t,n,o,u){return t=nn(7,t,u,n),t.lanes=o,t}function nl(t,n,o){return t=nn(6,t,null,n),t.lanes=o,t}function Pa(t,n,o){return n=nn(4,t.children!==null?t.children:[],t.key,n),n.lanes=o,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var Gi=[],Fs=0,r=null,l=0,f=[],_=0,b=null,w=1,R="";function z(t,n){Gi[Fs++]=l,Gi[Fs++]=r,r=t,l=n}function q(t,n,o){f[_++]=w,f[_++]=R,f[_++]=b,b=t;var u=w;t=R;var d=32-Xt(u)-1;u&=~(1<<d),o+=1;var p=32-Xt(n)+d;if(30<p){var S=d-d%5;p=(u&(1<<S)-1).toString(32),u>>=S,d-=S,w=1<<32-Xt(n)+d|o<<d|u,R=p+t}else w=1<<p|o<<d|u,R=t}function Q(t){t.return!==null&&(z(t,1),q(t,1,0))}function oe(t){for(;t===r;)r=Gi[--Fs],Gi[Fs]=null,l=Gi[--Fs],Gi[Fs]=null;for(;t===b;)b=f[--_],f[_]=null,R=f[--_],f[_]=null,w=f[--_],f[_]=null}var ue=null,de=null,we=!1,it=null,ft=!1,Rt=Error(a(519));function cn(t){var n=Error(a(418,""));throw Zs(en(n,t)),Rt}function uc(t){var n=t.stateNode,o=t.type,u=t.memoizedProps;switch(n[Nt]=t,n[Zt]=u,o){case"dialog":Ie("cancel",n),Ie("close",n);break;case"iframe":case"object":case"embed":Ie("load",n);break;case"video":case"audio":for(o=0;o<Cl.length;o++)Ie(Cl[o],n);break;case"source":Ie("error",n);break;case"img":case"image":case"link":Ie("error",n),Ie("load",n);break;case"details":Ie("toggle",n);break;case"input":Ie("invalid",n),qu(n,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),Cs(n);break;case"select":Ie("invalid",n);break;case"textarea":Ie("invalid",n),hi(n,u.value,u.defaultValue,u.children),Cs(n)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||u.suppressHydrationWarning===!0||cv(n.textContent,o)?(u.popover!=null&&(Ie("beforetoggle",n),Ie("toggle",n)),u.onScroll!=null&&Ie("scroll",n),u.onScrollEnd!=null&&Ie("scrollend",n),u.onClick!=null&&(n.onclick=Vc),n=!0):n=!1,n||cn(t)}function cc(t){for(ue=t.return;ue;)switch(ue.tag){case 5:case 13:ft=!1;return;case 27:case 3:ft=!0;return;default:ue=ue.return}}function Gr(t){if(t!==ue)return!1;if(!we)return cc(t),we=!0,!1;var n=t.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=t.type,o=!(o!=="form"&&o!=="button")||Pd(t.type,t.memoizedProps)),o=!o),o&&de&&cn(t),cc(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));e:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(o=t.data,o==="/$"){if(n===0){de=Jn(t.nextSibling);break e}n--}else o!=="$"&&o!=="$!"&&o!=="$?"||n++;t=t.nextSibling}de=null}}else n===27?(n=de,rr(t.type)?(t=Bd,Bd=null,de=t):de=n):de=ue?Jn(t.stateNode.nextSibling):null;return!0}function qs(){de=ue=null,we=!1}function hc(){var t=it;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),it=null),t}function Zs(t){it===null?it=[t]:it.push(t)}var ot=V(null),zn=null,Xn=null;function gi(t,n,o){te(ot,n._currentValue),n._currentValue=o}function Qn(t){t._currentValue=ot.current,ie(ot)}function Yr(t,n,o){for(;t!==null;){var u=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,u!==null&&(u.childLanes|=n)):u!==null&&(u.childLanes&n)!==n&&(u.childLanes|=n),t===o)break;t=t.return}}function za(t,n,o,u){var d=t.child;for(d!==null&&(d.return=t);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=d;for(var O=0;O<n.length;O++)if(T.context===n[O]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),Yr(p.return,o,t),u||(S=null);break e}p=T.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(a(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),Yr(S,o,t),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===t){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function Wr(t,n,o,u){t=null;for(var d=n,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var T=d.type;$t(d.pendingProps.value,S.value)||(t!==null?t.push(T):t=[T])}}else if(d===ct.current){if(S=d.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(t!==null?t.push(Ll):t=[Ll])}d=d.return}t!==null&&za(n,t,o,u),n.flags|=262144}function fc(t){for(t=t.firstContext;t!==null;){if(!$t(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Kr(t){zn=t,Xn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return Xp(zn,t)}function dc(t,n){return zn===null&&Kr(t),Xp(t,n)}function Xp(t,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},Xn===null){if(t===null)throw Error(a(308));Xn=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else Xn=Xn.next=n;return o}var tE=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(o,u){t.push(u)}};this.abort=function(){n.aborted=!0,t.forEach(function(o){return o()})}},nE=s.unstable_scheduleCallback,iE=s.unstable_NormalPriority,Et={$$typeof:$,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new tE,data:new Map,refCount:0}}function il(t){t.refCount--,t.refCount===0&&nE(iE,function(){t.controller.abort()})}var sl=null,Cf=0,Ua=0,ja=null;function sE(t,n){if(sl===null){var o=sl=[];Cf=0,Ua=Nd(),ja={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Cf++,n.then(Qp,Qp),n}function Qp(){if(--Cf===0&&sl!==null){ja!==null&&(ja.status="fulfilled");var t=sl;sl=null,Ua=0,ja=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function rE(t,n){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return t.then(function(){u.status="fulfilled",u.value=n;for(var d=0;d<o.length;d++)(0,o[d])(n)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var $p=Z.S;Z.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&sE(t,n),$p!==null&&$p(t,n)};var Xr=V(null);function xf(){var t=Xr.current;return t!==null?t:st.pooledCache}function mc(t,n){n===null?te(Xr,Xr.current):te(Xr,n.pool)}function Jp(){var t=xf();return t===null?null:{parent:Et._currentValue,pool:t}}var rl=Error(a(460)),e_=Error(a(474)),pc=Error(a(542)),Nf={then:function(){}};function t_(t){return t=t.status,t==="fulfilled"||t==="rejected"}function _c(){}function n_(t,n,o){switch(o=t[o],o===void 0?t.push(n):o!==n&&(n.then(_c,_c),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,s_(t),t;default:if(typeof n.status=="string")n.then(_c,_c);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(u){if(n.status==="pending"){var d=n;d.status="fulfilled",d.value=u}},function(u){if(n.status==="pending"){var d=n;d.status="rejected",d.reason=u}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,s_(t),t}throw al=n,rl}}var al=null;function i_(){if(al===null)throw Error(a(459));var t=al;return al=null,t}function s_(t){if(t===rl||t===pc)throw Error(a(483))}var Vs=!1;function Af(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Rf(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gs(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ys(t,n,o){var u=t.updateQueue;if(u===null)return null;if(u=u.shared,(Ge&2)!==0){var d=u.pending;return d===null?n.next=n:(n.next=d.next,d.next=n),u.pending=n,n=pi(t),Zr(t,null,o),n}return qr(t,u,n,o),pi(t)}function ol(t,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var u=n.lanes;u&=t.pendingLanes,o|=u,n.lanes=o,zu(t,o)}}function Of(t,n){var o=t.updateQueue,u=t.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?d=p=n:p=p.next=n}else d=p=n;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=n:t.next=n,o.lastBaseUpdate=n}var Lf=!1;function ll(){if(Lf){var t=ja;if(t!==null)throw t}}function ul(t,n,o,u){Lf=!1;var d=t.updateQueue;Vs=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var O=T,B=O.next;O.next=null,S===null?p=B:S.next=B,S=O;var G=t.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==S&&(T===null?G.firstBaseUpdate=B:T.next=B,G.lastBaseUpdate=O))}if(p!==null){var K=d.baseState;S=0,G=B=O=null,T=p;do{var H=T.lane&-536870913,F=H!==T.lane;if(F?(Ue&H)===H:(u&H)===H){H!==0&&H===Ua&&(Lf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ee=t,ge=T;H=n;var Xe=o;switch(ge.tag){case 1:if(Ee=ge.payload,typeof Ee=="function"){K=Ee.call(Xe,K,H);break e}K=Ee;break e;case 3:Ee.flags=Ee.flags&-65537|128;case 0:if(Ee=ge.payload,H=typeof Ee=="function"?Ee.call(Xe,K,H):Ee,H==null)break e;K=C({},K,H);break e;case 2:Vs=!0}}H=T.callback,H!==null&&(t.flags|=64,F&&(t.flags|=8192),F=d.callbacks,F===null?d.callbacks=[H]:F.push(H))}else F={lane:H,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(B=G=F,O=K):G=G.next=F,S|=H;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;F=T,T=F.next,F.next=null,d.lastBaseUpdate=F,d.shared.pending=null}}while(!0);G===null&&(O=K),d.baseState=O,d.firstBaseUpdate=B,d.lastBaseUpdate=G,p===null&&(d.shared.lanes=0),tr|=S,t.lanes=S,t.memoizedState=K}}function r_(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function a_(t,n){var o=t.callbacks;if(o!==null)for(t.callbacks=null,t=0;t<o.length;t++)r_(o[t],n)}var Ba=V(null),gc=V(0);function o_(t,n){t=Ji,te(gc,t),te(Ba,n),Ji=t|n.baseLanes}function Mf(){te(gc,Ji),te(Ba,Ba.current)}function If(){Ji=gc.current,ie(Ba),ie(gc)}var Ws=0,Ae=null,We=null,bt=null,vc=!1,Ha=!1,Qr=!1,yc=0,cl=0,Fa=null,aE=0;function gt(){throw Error(a(321))}function kf(t,n){if(n===null)return!1;for(var o=0;o<n.length&&o<t.length;o++)if(!$t(t[o],n[o]))return!1;return!0}function Df(t,n,o,u,d,p){return Ws=p,Ae=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Z.H=t===null||t.memoizedState===null?Z_:V_,Qr=!1,p=o(u,d),Qr=!1,Ha&&(p=u_(n,o,u,d)),l_(t),p}function l_(t){Z.H=Cc;var n=We!==null&&We.next!==null;if(Ws=0,bt=We=Ae=null,vc=!1,cl=0,Fa=null,n)throw Error(a(300));t===null||Ot||(t=t.dependencies,t!==null&&fc(t)&&(Ot=!0))}function u_(t,n,o,u){Ae=t;var d=0;do{if(Ha&&(Fa=null),cl=0,Ha=!1,25<=d)throw Error(a(301));if(d+=1,bt=We=null,t.updateQueue!=null){var p=t.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}Z.H=dE,p=n(o,u)}while(Ha);return p}function oE(){var t=Z.H,n=t.useState()[0];return n=typeof n.then=="function"?hl(n):n,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ae.flags|=1024),n}function Pf(){var t=yc!==0;return yc=0,t}function zf(t,n,o){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~o}function Uf(t){if(vc){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}vc=!1}Ws=0,bt=We=Ae=null,Ha=!1,cl=yc=0,Fa=null}function hn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ae.memoizedState=bt=t:bt=bt.next=t,bt}function St(){if(We===null){var t=Ae.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var n=bt===null?Ae.memoizedState:bt.next;if(n!==null)bt=n,We=t;else{if(t===null)throw Ae.alternate===null?Error(a(467)):Error(a(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},bt===null?Ae.memoizedState=bt=t:bt=bt.next=t}return bt}function jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function hl(t){var n=cl;return cl+=1,Fa===null&&(Fa=[]),t=n_(Fa,t,n),n=Ae,(bt===null?n.memoizedState:bt.next)===null&&(n=n.alternate,Z.H=n===null||n.memoizedState===null?Z_:V_),t}function bc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return hl(t);if(t.$$typeof===$)return Yt(t)}throw Error(a(438,String(t)))}function Bf(t){var n=null,o=Ae.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var u=Ae.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(n={data:u.data.map(function(d){return d.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=jf(),Ae.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(t),u=0;u<t;u++)o[u]=et;return n.index++,o}function Yi(t,n){return typeof n=="function"?n(t):n}function Sc(t){var n=St();return Hf(n,We,t)}function Hf(t,n,o){var u=t.queue;if(u===null)throw Error(a(311));u.lastRenderedReducer=o;var d=t.baseQueue,p=u.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}n.baseQueue=d=p,u.pending=null}if(p=t.baseState,d===null)t.memoizedState=p;else{n=d.next;var T=S=null,O=null,B=n,G=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(Ue&K)===K:(Ws&K)===K){var H=B.revertLane;if(H===0)O!==null&&(O=O.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===Ua&&(G=!0);else if((Ws&H)===H){B=B.next,H===Ua&&(G=!0);continue}else K={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(T=O=K,S=p):O=O.next=K,Ae.lanes|=H,tr|=H;K=B.action,Qr&&o(p,K),p=B.hasEagerState?B.eagerState:o(p,K)}else H={lane:K,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},O===null?(T=O=H,S=p):O=O.next=H,Ae.lanes|=K,tr|=K;B=B.next}while(B!==null&&B!==n);if(O===null?S=p:O.next=T,!$t(p,t.memoizedState)&&(Ot=!0,G&&(o=ja,o!==null)))throw o;t.memoizedState=p,t.baseState=S,t.baseQueue=O,u.lastRenderedState=p}return d===null&&(u.lanes=0),[t.memoizedState,u.dispatch]}function Ff(t){var n=St(),o=n.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=t;var u=o.dispatch,d=o.pending,p=n.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do p=t(p,S.action),S=S.next;while(S!==d);$t(p,n.memoizedState)||(Ot=!0),n.memoizedState=p,n.baseQueue===null&&(n.baseState=p),o.lastRenderedState=p}return[p,u]}function c_(t,n,o){var u=Ae,d=St(),p=we;if(p){if(o===void 0)throw Error(a(407));o=o()}else o=n();var S=!$t((We||d).memoizedState,o);S&&(d.memoizedState=o,Ot=!0),d=d.queue;var T=d_.bind(null,u,d,t);if(fl(2048,8,T,[t]),d.getSnapshot!==n||S||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,qa(9,Ec(),f_.bind(null,u,d,o,n),null),st===null)throw Error(a(349));p||(Ws&124)!==0||h_(u,n,o)}return o}function h_(t,n,o){t.flags|=16384,t={getSnapshot:n,value:o},n=Ae.updateQueue,n===null?(n=jf(),Ae.updateQueue=n,n.stores=[t]):(o=n.stores,o===null?n.stores=[t]:o.push(t))}function f_(t,n,o,u){n.value=o,n.getSnapshot=u,m_(n)&&p_(t)}function d_(t,n,o){return o(function(){m_(n)&&p_(t)})}function m_(t){var n=t.getSnapshot;t=t.value;try{var o=n();return!$t(t,o)}catch{return!0}}function p_(t){var n=Hs(t,2);n!==null&&Nn(n,t,2)}function qf(t){var n=hn();if(typeof t=="function"){var o=t;if(t=o(),Qr){Zn(!0);try{o()}finally{Zn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},n}function __(t,n,o,u){return t.baseState=o,Hf(t,We,typeof u=="function"?u:Yi)}function lE(t,n,o,u,d){if(Tc(t))throw Error(a(485));if(t=n.action,t!==null){var p={payload:d,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};Z.T!==null?o(!0):p.isTransition=!1,u(p),o=n.pending,o===null?(p.next=n.pending=p,g_(n,p)):(p.next=o.next,n.pending=o.next=p)}}function g_(t,n){var o=n.action,u=n.payload,d=t.state;if(n.isTransition){var p=Z.T,S={};Z.T=S;try{var T=o(d,u),O=Z.S;O!==null&&O(S,T),v_(t,n,T)}catch(B){Zf(t,n,B)}finally{Z.T=p}}else try{p=o(d,u),v_(t,n,p)}catch(B){Zf(t,n,B)}}function v_(t,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){y_(t,n,u)},function(u){return Zf(t,n,u)}):y_(t,n,o)}function y_(t,n,o){n.status="fulfilled",n.value=o,b_(n),t.state=o,n=t.pending,n!==null&&(o=n.next,o===n?t.pending=null:(o=o.next,n.next=o,g_(t,o)))}function Zf(t,n,o){var u=t.pending;if(t.pending=null,u!==null){u=u.next;do n.status="rejected",n.reason=o,b_(n),n=n.next;while(n!==u)}t.action=null}function b_(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function S_(t,n){return n}function E_(t,n){if(we){var o=st.formState;if(o!==null){e:{var u=Ae;if(we){if(de){t:{for(var d=de,p=ft;d.nodeType!==8;){if(!p){d=null;break t}if(d=Jn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){de=Jn(d.nextSibling),u=d.data==="F!";break e}}cn(u)}u=!1}u&&(n=o[0])}}return o=hn(),o.memoizedState=o.baseState=n,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:S_,lastRenderedState:n},o.queue=u,o=H_.bind(null,Ae,u),u.dispatch=o,u=qf(!1),p=Kf.bind(null,Ae,!1,u.queue),u=hn(),d={state:n,dispatch:null,action:t,pending:null},u.queue=d,o=lE.bind(null,Ae,d,p,o),d.dispatch=o,u.memoizedState=t,[n,o,!1]}function w_(t){var n=St();return T_(n,We,t)}function T_(t,n,o){if(n=Hf(t,n,S_)[0],t=Sc(Yi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var u=hl(n)}catch(S){throw S===rl?pc:S}else u=n;n=St();var d=n.queue,p=d.dispatch;return o!==n.memoizedState&&(Ae.flags|=2048,qa(9,Ec(),uE.bind(null,d,o),null)),[u,p,t]}function uE(t,n){t.action=n}function C_(t){var n=St(),o=We;if(o!==null)return T_(n,o,t);St(),n=n.memoizedState,o=St();var u=o.queue.dispatch;return o.memoizedState=t,[n,u,!1]}function qa(t,n,o,u){return t={tag:t,create:o,deps:u,inst:n,next:null},n=Ae.updateQueue,n===null&&(n=jf(),Ae.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=t.next=t:(u=o.next,o.next=t,t.next=u,n.lastEffect=t),t}function Ec(){return{destroy:void 0,resource:void 0}}function x_(){return St().memoizedState}function wc(t,n,o,u){var d=hn();u=u===void 0?null:u,Ae.flags|=t,d.memoizedState=qa(1|n,Ec(),o,u)}function fl(t,n,o,u){var d=St();u=u===void 0?null:u;var p=d.memoizedState.inst;We!==null&&u!==null&&kf(u,We.memoizedState.deps)?d.memoizedState=qa(n,p,o,u):(Ae.flags|=t,d.memoizedState=qa(1|n,p,o,u))}function N_(t,n){wc(8390656,8,t,n)}function A_(t,n){fl(2048,8,t,n)}function R_(t,n){return fl(4,2,t,n)}function O_(t,n){return fl(4,4,t,n)}function L_(t,n){if(typeof n=="function"){t=t();var o=n(t);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function M_(t,n,o){o=o!=null?o.concat([t]):null,fl(4,4,L_.bind(null,n,t),o)}function Vf(){}function I_(t,n){var o=St();n=n===void 0?null:n;var u=o.memoizedState;return n!==null&&kf(n,u[1])?u[0]:(o.memoizedState=[t,n],t)}function k_(t,n){var o=St();n=n===void 0?null:n;var u=o.memoizedState;if(n!==null&&kf(n,u[1]))return u[0];if(u=t(),Qr){Zn(!0);try{t()}finally{Zn(!1)}}return o.memoizedState=[u,n],u}function Gf(t,n,o){return o===void 0||(Ws&1073741824)!==0?t.memoizedState=n:(t.memoizedState=o,t=zg(),Ae.lanes|=t,tr|=t,o)}function D_(t,n,o,u){return $t(o,n)?o:Ba.current!==null?(t=Gf(t,o,u),$t(t,n)||(Ot=!0),t):(Ws&42)===0?(Ot=!0,t.memoizedState=o):(t=zg(),Ae.lanes|=t,tr|=t,n)}function P_(t,n,o,u,d){var p=ae.p;ae.p=p!==0&&8>p?p:8;var S=Z.T,T={};Z.T=T,Kf(t,!1,n,o);try{var O=d(),B=Z.S;if(B!==null&&B(T,O),O!==null&&typeof O=="object"&&typeof O.then=="function"){var G=rE(O,u);dl(t,n,G,xn(t))}else dl(t,n,u,xn(t))}catch(K){dl(t,n,{then:function(){},status:"rejected",reason:K},xn())}finally{ae.p=p,Z.T=S}}function cE(){}function Yf(t,n,o,u){if(t.tag!==5)throw Error(a(476));var d=z_(t).queue;P_(t,d,n,J,o===null?cE:function(){return U_(t),o(u)})}function z_(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:J},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:o},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function U_(t){var n=z_(t).next.queue;dl(t,n,{},xn())}function Wf(){return Yt(Ll)}function j_(){return St().memoizedState}function B_(){return St().memoizedState}function hE(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var o=xn();t=Gs(o);var u=Ys(n,t,o);u!==null&&(Nn(u,n,o),ol(u,n,o)),n={cache:Tf()},t.payload=n;return}n=n.return}}function fE(t,n,o){var u=xn();o={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},Tc(t)?F_(n,o):(o=Zi(t,n,o,u),o!==null&&(Nn(o,t,u),q_(o,n,u)))}function H_(t,n,o){var u=xn();dl(t,n,o,u)}function dl(t,n,o,u){var d={lane:u,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))F_(n,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=n.lastRenderedReducer,p!==null))try{var S=n.lastRenderedState,T=p(S,o);if(d.hasEagerState=!0,d.eagerState=T,$t(T,S))return qr(t,n,d,0),st===null&&Fr(),!1}catch{}finally{}if(o=Zi(t,n,d,u),o!==null)return Nn(o,t,u),q_(o,n,u),!0}return!1}function Kf(t,n,o,u){if(u={lane:2,revertLane:Nd(),action:u,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(n)throw Error(a(479))}else n=Zi(t,o,u,2),n!==null&&Nn(n,t,2)}function Tc(t){var n=t.alternate;return t===Ae||n!==null&&n===Ae}function F_(t,n){Ha=vc=!0;var o=t.pending;o===null?n.next=n:(n.next=o.next,o.next=n),t.pending=n}function q_(t,n,o){if((o&4194048)!==0){var u=n.lanes;u&=t.pendingLanes,o|=u,n.lanes=o,zu(t,o)}}var Cc={readContext:Yt,use:bc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Z_={readContext:Yt,use:bc,useCallback:function(t,n){return hn().memoizedState=[t,n===void 0?null:n],t},useContext:Yt,useEffect:N_,useImperativeHandle:function(t,n,o){o=o!=null?o.concat([t]):null,wc(4194308,4,L_.bind(null,n,t),o)},useLayoutEffect:function(t,n){return wc(4194308,4,t,n)},useInsertionEffect:function(t,n){wc(4,2,t,n)},useMemo:function(t,n){var o=hn();n=n===void 0?null:n;var u=t();if(Qr){Zn(!0);try{t()}finally{Zn(!1)}}return o.memoizedState=[u,n],u},useReducer:function(t,n,o){var u=hn();if(o!==void 0){var d=o(n);if(Qr){Zn(!0);try{o(n)}finally{Zn(!1)}}}else d=n;return u.memoizedState=u.baseState=d,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:d},u.queue=t,t=t.dispatch=fE.bind(null,Ae,t),[u.memoizedState,t]},useRef:function(t){var n=hn();return t={current:t},n.memoizedState=t},useState:function(t){t=qf(t);var n=t.queue,o=H_.bind(null,Ae,n);return n.dispatch=o,[t.memoizedState,o]},useDebugValue:Vf,useDeferredValue:function(t,n){var o=hn();return Gf(o,t,n)},useTransition:function(){var t=qf(!1);return t=P_.bind(null,Ae,t.queue,!0,!1),hn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,o){var u=Ae,d=hn();if(we){if(o===void 0)throw Error(a(407));o=o()}else{if(o=n(),st===null)throw Error(a(349));(Ue&124)!==0||h_(u,n,o)}d.memoizedState=o;var p={value:o,getSnapshot:n};return d.queue=p,N_(d_.bind(null,u,p,t),[t]),u.flags|=2048,qa(9,Ec(),f_.bind(null,u,p,o,n),null),o},useId:function(){var t=hn(),n=st.identifierPrefix;if(we){var o=R,u=w;o=(u&~(1<<32-Xt(u)-1)).toString(32)+o,n="«"+n+"R"+o,o=yc++,0<o&&(n+="H"+o.toString(32)),n+="»"}else o=aE++,n="«"+n+"r"+o.toString(32)+"»";return t.memoizedState=n},useHostTransitionStatus:Wf,useFormState:E_,useActionState:E_,useOptimistic:function(t){var n=hn();n.memoizedState=n.baseState=t;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Kf.bind(null,Ae,!0,o),o.dispatch=n,[t,n]},useMemoCache:Bf,useCacheRefresh:function(){return hn().memoizedState=hE.bind(null,Ae)}},V_={readContext:Yt,use:bc,useCallback:I_,useContext:Yt,useEffect:A_,useImperativeHandle:M_,useInsertionEffect:R_,useLayoutEffect:O_,useMemo:k_,useReducer:Sc,useRef:x_,useState:function(){return Sc(Yi)},useDebugValue:Vf,useDeferredValue:function(t,n){var o=St();return D_(o,We.memoizedState,t,n)},useTransition:function(){var t=Sc(Yi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:c_,useId:j_,useHostTransitionStatus:Wf,useFormState:w_,useActionState:w_,useOptimistic:function(t,n){var o=St();return __(o,We,t,n)},useMemoCache:Bf,useCacheRefresh:B_},dE={readContext:Yt,use:bc,useCallback:I_,useContext:Yt,useEffect:A_,useImperativeHandle:M_,useInsertionEffect:R_,useLayoutEffect:O_,useMemo:k_,useReducer:Ff,useRef:x_,useState:function(){return Ff(Yi)},useDebugValue:Vf,useDeferredValue:function(t,n){var o=St();return We===null?Gf(o,t,n):D_(o,We.memoizedState,t,n)},useTransition:function(){var t=Ff(Yi)[0],n=St().memoizedState;return[typeof t=="boolean"?t:hl(t),n]},useSyncExternalStore:c_,useId:j_,useHostTransitionStatus:Wf,useFormState:C_,useActionState:C_,useOptimistic:function(t,n){var o=St();return We!==null?__(o,We,t,n):(o.baseState=t,[t,o.queue.dispatch])},useMemoCache:Bf,useCacheRefresh:B_},Za=null,ml=0;function xc(t){var n=ml;return ml+=1,Za===null&&(Za=[]),n_(Za,t,n)}function pl(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Nc(t,n){throw n.$$typeof===x?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function G_(t){var n=t._init;return n(t._payload)}function Y_(t){function n(P,M){if(t){var j=P.deletions;j===null?(P.deletions=[M],P.flags|=16):j.push(M)}}function o(P,M){if(!t)return null;for(;M!==null;)n(P,M),M=M.sibling;return null}function u(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function d(P,M){return P=Pn(P,M),P.index=0,P.sibling=null,P}function p(P,M,j){return P.index=j,t?(j=P.alternate,j!==null?(j=j.index,j<M?(P.flags|=67108866,M):j):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function S(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function T(P,M,j,W){return M===null||M.tag!==6?(M=nl(j,P.mode,W),M.return=P,M):(M=d(M,j),M.return=P,M)}function O(P,M,j,W){var he=j.type;return he===k?G(P,M,j.props.children,W,j.key):M!==null&&(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xe&&G_(he)===M.type)?(M=d(M,j.props),pl(M,j),M.return=P,M):(M=Vr(j.type,j.key,j.props,null,P.mode,W),pl(M,j),M.return=P,M)}function B(P,M,j,W){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=Pa(j,P.mode,W),M.return=P,M):(M=d(M,j.children||[]),M.return=P,M)}function G(P,M,j,W,he){return M===null||M.tag!==7?(M=_i(j,P.mode,W,he),M.return=P,M):(M=d(M,j),M.return=P,M)}function K(P,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nl(""+M,P.mode,j),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return j=Vr(M.type,M.key,M.props,null,P.mode,j),pl(j,M),j.return=P,j;case D:return M=Pa(M,P.mode,j),M.return=P,M;case xe:var W=M._init;return M=W(M._payload),K(P,M,j)}if(xt(M)||Ze(M))return M=_i(M,P.mode,j,null),M.return=P,M;if(typeof M.then=="function")return K(P,xc(M),j);if(M.$$typeof===$)return K(P,dc(P,M),j);Nc(P,M)}return null}function H(P,M,j,W){var he=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return he!==null?null:T(P,M,""+j,W);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return j.key===he?O(P,M,j,W):null;case D:return j.key===he?B(P,M,j,W):null;case xe:return he=j._init,j=he(j._payload),H(P,M,j,W)}if(xt(j)||Ze(j))return he!==null?null:G(P,M,j,W,null);if(typeof j.then=="function")return H(P,M,xc(j),W);if(j.$$typeof===$)return H(P,M,dc(P,j),W);Nc(P,j)}return null}function F(P,M,j,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return P=P.get(j)||null,T(M,P,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case N:return P=P.get(W.key===null?j:W.key)||null,O(M,P,W,he);case D:return P=P.get(W.key===null?j:W.key)||null,B(M,P,W,he);case xe:var Oe=W._init;return W=Oe(W._payload),F(P,M,j,W,he)}if(xt(W)||Ze(W))return P=P.get(j)||null,G(M,P,W,he,null);if(typeof W.then=="function")return F(P,M,j,xc(W),he);if(W.$$typeof===$)return F(P,M,j,dc(M,W),he);Nc(M,W)}return null}function Ee(P,M,j,W){for(var he=null,Oe=null,pe=M,ve=M=0,Mt=null;pe!==null&&ve<j.length;ve++){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var He=H(P,pe,j[ve],W);if(He===null){pe===null&&(pe=Mt);break}t&&pe&&He.alternate===null&&n(P,pe),M=p(He,M,ve),Oe===null?he=He:Oe.sibling=He,Oe=He,pe=Mt}if(ve===j.length)return o(P,pe),we&&z(P,ve),he;if(pe===null){for(;ve<j.length;ve++)pe=K(P,j[ve],W),pe!==null&&(M=p(pe,M,ve),Oe===null?he=pe:Oe.sibling=pe,Oe=pe);return we&&z(P,ve),he}for(pe=u(pe);ve<j.length;ve++)Mt=F(pe,P,ve,j[ve],W),Mt!==null&&(t&&Mt.alternate!==null&&pe.delete(Mt.key===null?ve:Mt.key),M=p(Mt,M,ve),Oe===null?he=Mt:Oe.sibling=Mt,Oe=Mt);return t&&pe.forEach(function(cr){return n(P,cr)}),we&&z(P,ve),he}function ge(P,M,j,W){if(j==null)throw Error(a(151));for(var he=null,Oe=null,pe=M,ve=M=0,Mt=null,He=j.next();pe!==null&&!He.done;ve++,He=j.next()){pe.index>ve?(Mt=pe,pe=null):Mt=pe.sibling;var cr=H(P,pe,He.value,W);if(cr===null){pe===null&&(pe=Mt);break}t&&pe&&cr.alternate===null&&n(P,pe),M=p(cr,M,ve),Oe===null?he=cr:Oe.sibling=cr,Oe=cr,pe=Mt}if(He.done)return o(P,pe),we&&z(P,ve),he;if(pe===null){for(;!He.done;ve++,He=j.next())He=K(P,He.value,W),He!==null&&(M=p(He,M,ve),Oe===null?he=He:Oe.sibling=He,Oe=He);return we&&z(P,ve),he}for(pe=u(pe);!He.done;ve++,He=j.next())He=F(pe,P,ve,He.value,W),He!==null&&(t&&He.alternate!==null&&pe.delete(He.key===null?ve:He.key),M=p(He,M,ve),Oe===null?he=He:Oe.sibling=He,Oe=He);return t&&pe.forEach(function(mw){return n(P,mw)}),we&&z(P,ve),he}function Xe(P,M,j,W){if(typeof j=="object"&&j!==null&&j.type===k&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case N:e:{for(var he=j.key;M!==null;){if(M.key===he){if(he=j.type,he===k){if(M.tag===7){o(P,M.sibling),W=d(M,j.props.children),W.return=P,P=W;break e}}else if(M.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xe&&G_(he)===M.type){o(P,M.sibling),W=d(M,j.props),pl(W,j),W.return=P,P=W;break e}o(P,M);break}else n(P,M);M=M.sibling}j.type===k?(W=_i(j.props.children,P.mode,W,j.key),W.return=P,P=W):(W=Vr(j.type,j.key,j.props,null,P.mode,W),pl(W,j),W.return=P,P=W)}return S(P);case D:e:{for(he=j.key;M!==null;){if(M.key===he)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){o(P,M.sibling),W=d(M,j.children||[]),W.return=P,P=W;break e}else{o(P,M);break}else n(P,M);M=M.sibling}W=Pa(j,P.mode,W),W.return=P,P=W}return S(P);case xe:return he=j._init,j=he(j._payload),Xe(P,M,j,W)}if(xt(j))return Ee(P,M,j,W);if(Ze(j)){if(he=Ze(j),typeof he!="function")throw Error(a(150));return j=he.call(j),ge(P,M,j,W)}if(typeof j.then=="function")return Xe(P,M,xc(j),W);if(j.$$typeof===$)return Xe(P,M,dc(P,j),W);Nc(P,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(o(P,M.sibling),W=d(M,j),W.return=P,P=W):(o(P,M),W=nl(j,P.mode,W),W.return=P,P=W),S(P)):o(P,M)}return function(P,M,j,W){try{ml=0;var he=Xe(P,M,j,W);return Za=null,he}catch(pe){if(pe===rl||pe===pc)throw pe;var Oe=nn(29,pe,null,P.mode);return Oe.lanes=W,Oe.return=P,Oe}finally{}}}var Va=Y_(!0),W_=Y_(!1),Un=V(null),vi=null;function Ks(t){var n=t.alternate;te(wt,wt.current&1),te(Un,t),vi===null&&(n===null||Ba.current!==null||n.memoizedState!==null)&&(vi=t)}function K_(t){if(t.tag===22){if(te(wt,wt.current),te(Un,t),vi===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(vi=t)}}else Xs()}function Xs(){te(wt,wt.current),te(Un,Un.current)}function Wi(t){ie(Un),vi===t&&(vi=null),ie(wt)}var wt=V(0);function Ac(t){for(var n=t;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||jd(o)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Xf(t,n,o,u){n=t.memoizedState,o=o(u,n),o=o==null?n:C({},n,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var Qf={enqueueSetState:function(t,n,o){t=t._reactInternals;var u=xn(),d=Gs(u);d.payload=n,o!=null&&(d.callback=o),n=Ys(t,d,u),n!==null&&(Nn(n,t,u),ol(n,t,u))},enqueueReplaceState:function(t,n,o){t=t._reactInternals;var u=xn(),d=Gs(u);d.tag=1,d.payload=n,o!=null&&(d.callback=o),n=Ys(t,d,u),n!==null&&(Nn(n,t,u),ol(n,t,u))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var o=xn(),u=Gs(o);u.tag=2,n!=null&&(u.callback=n),n=Ys(t,u,o),n!==null&&(Nn(n,t,o),ol(n,t,o))}};function X_(t,n,o,u,d,p,S){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(u,p,S):n.prototype&&n.prototype.isPureReactComponent?!Jt(o,u)||!Jt(d,p):!0}function Q_(t,n,o,u){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,u),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,u),n.state!==t&&Qf.enqueueReplaceState(n,n.state,null)}function $r(t,n){var o=n;if("ref"in n){o={};for(var u in n)u!=="ref"&&(o[u]=n[u])}if(t=t.defaultProps){o===n&&(o=C({},o));for(var d in t)o[d]===void 0&&(o[d]=t[d])}return o}var Rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function $_(t){Rc(t)}function J_(t){console.error(t)}function eg(t){Rc(t)}function Oc(t,n){try{var o=t.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(u){setTimeout(function(){throw u})}}function tg(t,n,o){try{var u=t.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function $f(t,n,o){return o=Gs(o),o.tag=3,o.payload={element:null},o.callback=function(){Oc(t,n)},o}function ng(t){return t=Gs(t),t.tag=3,t}function ig(t,n,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;t.payload=function(){return d(p)},t.callback=function(){tg(n,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(t.callback=function(){tg(n,o,u),typeof d!="function"&&(nr===null?nr=new Set([this]):nr.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function mE(t,n,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(n=o.alternate,n!==null&&Wr(n,o,d,!0),o=Un.current,o!==null){switch(o.tag){case 13:return vi===null?Ed():o.alternate===null&&pt===0&&(pt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===Nf?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([u]):n.add(u),Td(t,u,d)),!1;case 22:return o.flags|=65536,u===Nf?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([u]):o.add(u)),Td(t,u,d)),!1}throw Error(a(435,o.tag))}return Td(t,u,d),Ed(),!1}if(we)return n=Un.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=d,u!==Rt&&(t=Error(a(422),{cause:u}),Zs(en(t,o)))):(u!==Rt&&(n=Error(a(423),{cause:u}),Zs(en(n,o))),t=t.current.alternate,t.flags|=65536,d&=-d,t.lanes|=d,u=en(u,o),d=$f(t.stateNode,u,d),Of(t,d),pt!==4&&(pt=2)),!1;var p=Error(a(520),{cause:u});if(p=en(p,o),El===null?El=[p]:El.push(p),pt!==4&&(pt=2),n===null)return!0;u=en(u,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,t=d&-d,o.lanes|=t,t=$f(o.stateNode,u,t),Of(o,t),!1;case 1:if(n=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(nr===null||!nr.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=ng(d),ig(d,t,o,u),Of(o,d),!1}o=o.return}while(o!==null);return!1}var sg=Error(a(461)),Ot=!1;function jt(t,n,o,u){n.child=t===null?W_(n,null,o,u):Va(n,t.child,o,u)}function rg(t,n,o,u,d){o=o.render;var p=n.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return Kr(n),u=Df(t,n,o,S,p,d),T=Pf(),t!==null&&!Ot?(zf(t,n,d),Ki(t,n,d)):(we&&T&&Q(n),n.flags|=1,jt(t,n,u,d),n.child)}function ag(t,n,o,u,d){if(t===null){var p=o.type;return typeof p=="function"&&!Da(p)&&p.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=p,og(t,n,p,u,d)):(t=Vr(o.type,null,u,n,n.mode,d),t.ref=n.ref,t.return=n,n.child=t)}if(p=t.child,!ad(t,d)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:Jt,o(S,u)&&t.ref===n.ref)return Ki(t,n,d)}return n.flags|=1,t=Pn(p,u),t.ref=n.ref,t.return=n,n.child=t}function og(t,n,o,u,d){if(t!==null){var p=t.memoizedProps;if(Jt(p,u)&&t.ref===n.ref)if(Ot=!1,n.pendingProps=u=p,ad(t,d))(t.flags&131072)!==0&&(Ot=!0);else return n.lanes=t.lanes,Ki(t,n,d)}return Jf(t,n,o,u,d)}function lg(t,n,o){var u=n.pendingProps,d=u.children,p=t!==null?t.memoizedState:null;if(u.mode==="hidden"){if((n.flags&128)!==0){if(u=p!==null?p.baseLanes|o:o,t!==null){for(d=n.child=t.child,p=0;d!==null;)p=p|d.lanes|d.childLanes,d=d.sibling;n.childLanes=p&~u}else n.childLanes=0,n.child=null;return ug(t,n,u,o)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&mc(n,p!==null?p.cachePool:null),p!==null?o_(n,p):Mf(),K_(n);else return n.lanes=n.childLanes=536870912,ug(t,n,p!==null?p.baseLanes|o:o,o)}else p!==null?(mc(n,p.cachePool),o_(n,p),Xs(),n.memoizedState=null):(t!==null&&mc(n,null),Mf(),Xs());return jt(t,n,d,o),n.child}function ug(t,n,o,u){var d=xf();return d=d===null?null:{parent:Et._currentValue,pool:d},n.memoizedState={baseLanes:o,cachePool:d},t!==null&&mc(n,null),Mf(),K_(n),t!==null&&Wr(t,n,u,!0),null}function Lc(t,n){var o=n.ref;if(o===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(a(284));(t===null||t.ref!==o)&&(n.flags|=4194816)}}function Jf(t,n,o,u,d){return Kr(n),o=Df(t,n,o,u,void 0,d),u=Pf(),t!==null&&!Ot?(zf(t,n,d),Ki(t,n,d)):(we&&u&&Q(n),n.flags|=1,jt(t,n,o,d),n.child)}function cg(t,n,o,u,d,p){return Kr(n),n.updateQueue=null,o=u_(n,u,o,d),l_(t),u=Pf(),t!==null&&!Ot?(zf(t,n,p),Ki(t,n,p)):(we&&u&&Q(n),n.flags|=1,jt(t,n,o,p),n.child)}function hg(t,n,o,u,d){if(Kr(n),n.stateNode===null){var p=Vi,S=o.contextType;typeof S=="object"&&S!==null&&(p=Yt(S)),p=new o(u,p),n.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Qf,n.stateNode=p,p._reactInternals=n,p=n.stateNode,p.props=u,p.state=n.memoizedState,p.refs={},Af(n),S=o.contextType,p.context=typeof S=="object"&&S!==null?Yt(S):Vi,p.state=n.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(Xf(n,o,S,u),p.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&Qf.enqueueReplaceState(p,p.state,null),ul(n,u,p,d),ll(),p.state=n.memoizedState),typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!0}else if(t===null){p=n.stateNode;var T=n.memoizedProps,O=$r(o,T);p.props=O;var B=p.context,G=o.contextType;S=Vi,typeof G=="object"&&G!==null&&(S=Yt(G));var K=o.getDerivedStateFromProps;G=typeof K=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||B!==S)&&Q_(n,p,u,S),Vs=!1;var H=n.memoizedState;p.state=H,ul(n,u,p,d),ll(),B=n.memoizedState,T||H!==B||Vs?(typeof K=="function"&&(Xf(n,o,K,u),B=n.memoizedState),(O=Vs||X_(n,o,O,u,H,B,S))?(G||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(n.flags|=4194308)):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=u,n.memoizedState=B),p.props=u,p.state=B,p.context=S,u=O):(typeof p.componentDidMount=="function"&&(n.flags|=4194308),u=!1)}else{p=n.stateNode,Rf(t,n),S=n.memoizedProps,G=$r(o,S),p.props=G,K=n.pendingProps,H=p.context,B=o.contextType,O=Vi,typeof B=="object"&&B!==null&&(O=Yt(B)),T=o.getDerivedStateFromProps,(B=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==K||H!==O)&&Q_(n,p,u,O),Vs=!1,H=n.memoizedState,p.state=H,ul(n,u,p,d),ll();var F=n.memoizedState;S!==K||H!==F||Vs||t!==null&&t.dependencies!==null&&fc(t.dependencies)?(typeof T=="function"&&(Xf(n,o,T,u),F=n.memoizedState),(G=Vs||X_(n,o,G,u,H,F,O)||t!==null&&t.dependencies!==null&&fc(t.dependencies))?(B||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,F,O),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,F,O)),typeof p.componentDidUpdate=="function"&&(n.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),n.memoizedProps=u,n.memoizedState=F),p.props=u,p.state=F,p.context=O,u=G):(typeof p.componentDidUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&H===t.memoizedState||(n.flags|=1024),u=!1)}return p=u,Lc(t,n),u=(n.flags&128)!==0,p||u?(p=n.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),n.flags|=1,t!==null&&u?(n.child=Va(n,t.child,null,d),n.child=Va(n,null,o,d)):jt(t,n,o,d),n.memoizedState=p.state,t=n.child):t=Ki(t,n,d),t}function fg(t,n,o,u){return qs(),n.flags|=256,jt(t,n,o,u),n.child}var ed={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function td(t){return{baseLanes:t,cachePool:Jp()}}function nd(t,n,o){return t=t!==null?t.childLanes&~o:0,n&&(t|=jn),t}function dg(t,n,o){var u=n.pendingProps,d=!1,p=(n.flags&128)!==0,S;if((S=p)||(S=t!==null&&t.memoizedState===null?!1:(wt.current&2)!==0),S&&(d=!0,n.flags&=-129),S=(n.flags&32)!==0,n.flags&=-33,t===null){if(we){if(d?Ks(n):Xs(),we){var T=de,O;if(O=T){e:{for(O=T,T=ft;O.nodeType!==8;){if(!T){T=null;break e}if(O=Jn(O.nextSibling),O===null){T=null;break e}}T=O}T!==null?(n.memoizedState={dehydrated:T,treeContext:b!==null?{id:w,overflow:R}:null,retryLane:536870912,hydrationErrors:null},O=nn(18,null,null,0),O.stateNode=T,O.return=n,n.child=O,ue=n,de=null,O=!0):O=!1}O||cn(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return jd(T)?n.lanes=32:n.lanes=536870912,null;Wi(n)}return T=u.children,u=u.fallback,d?(Xs(),d=n.mode,T=Mc({mode:"hidden",children:T},d),u=_i(u,d,o,null),T.return=n,u.return=n,T.sibling=u,n.child=T,d=n.child,d.memoizedState=td(o),d.childLanes=nd(t,S,o),n.memoizedState=ed,u):(Ks(n),id(n,T))}if(O=t.memoizedState,O!==null&&(T=O.dehydrated,T!==null)){if(p)n.flags&256?(Ks(n),n.flags&=-257,n=sd(t,n,o)):n.memoizedState!==null?(Xs(),n.child=t.child,n.flags|=128,n=null):(Xs(),d=u.fallback,T=n.mode,u=Mc({mode:"visible",children:u.children},T),d=_i(d,T,o,null),d.flags|=2,u.return=n,d.return=n,u.sibling=d,n.child=u,Va(n,t.child,null,o),u=n.child,u.memoizedState=td(o),u.childLanes=nd(t,S,o),n.memoizedState=ed,n=d);else if(Ks(n),jd(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var B=S.dgst;S=B,u=Error(a(419)),u.stack="",u.digest=S,Zs({value:u,source:null,stack:null}),n=sd(t,n,o)}else if(Ot||Wr(t,n,o,!1),S=(o&t.childLanes)!==0,Ot||S){if(S=st,S!==null&&(u=o&-o,u=(u&42)!==0?1:Po(u),u=(u&(S.suspendedLanes|o))!==0?0:u,u!==0&&u!==O.retryLane))throw O.retryLane=u,Hs(t,u),Nn(S,t,u),sg;T.data==="$?"||Ed(),n=sd(t,n,o)}else T.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=O.treeContext,de=Jn(T.nextSibling),ue=n,we=!0,it=null,ft=!1,t!==null&&(f[_++]=w,f[_++]=R,f[_++]=b,w=t.id,R=t.overflow,b=n),n=id(n,u.children),n.flags|=4096);return n}return d?(Xs(),d=u.fallback,T=n.mode,O=t.child,B=O.sibling,u=Pn(O,{mode:"hidden",children:u.children}),u.subtreeFlags=O.subtreeFlags&65011712,B!==null?d=Pn(B,d):(d=_i(d,T,o,null),d.flags|=2),d.return=n,u.return=n,u.sibling=d,n.child=u,u=d,d=n.child,T=t.child.memoizedState,T===null?T=td(o):(O=T.cachePool,O!==null?(B=Et._currentValue,O=O.parent!==B?{parent:B,pool:B}:O):O=Jp(),T={baseLanes:T.baseLanes|o,cachePool:O}),d.memoizedState=T,d.childLanes=nd(t,S,o),n.memoizedState=ed,u):(Ks(n),o=t.child,t=o.sibling,o=Pn(o,{mode:"visible",children:u.children}),o.return=n,o.sibling=null,t!==null&&(S=n.deletions,S===null?(n.deletions=[t],n.flags|=16):S.push(t)),n.child=o,n.memoizedState=null,o)}function id(t,n){return n=Mc({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Mc(t,n){return t=nn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function sd(t,n,o){return Va(n,t.child,null,o),t=id(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function mg(t,n,o){t.lanes|=n;var u=t.alternate;u!==null&&(u.lanes|=n),Yr(t.return,n,o)}function rd(t,n,o,u,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=u,p.tail=o,p.tailMode=d)}function pg(t,n,o){var u=n.pendingProps,d=u.revealOrder,p=u.tail;if(jt(t,n,u.children,o),u=wt.current,(u&2)!==0)u=u&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mg(t,o,n);else if(t.tag===19)mg(t,o,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break e;for(;t.sibling===null;){if(t.return===null||t.return===n)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}u&=1}switch(te(wt,u),d){case"forwards":for(o=n.child,d=null;o!==null;)t=o.alternate,t!==null&&Ac(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=n.child,n.child=null):(d=o.sibling,o.sibling=null),rd(n,!1,d,o,p);break;case"backwards":for(o=null,d=n.child,n.child=null;d!==null;){if(t=d.alternate,t!==null&&Ac(t)===null){n.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}rd(n,!0,o,null,p);break;case"together":rd(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ki(t,n,o){if(t!==null&&(n.dependencies=t.dependencies),tr|=n.lanes,(o&n.childLanes)===0)if(t!==null){if(Wr(t,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,o=Pn(t,t.pendingProps),n.child=o,o.return=n;t.sibling!==null;)t=t.sibling,o=o.sibling=Pn(t,t.pendingProps),o.return=n;o.sibling=null}return n.child}function ad(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&fc(t)))}function pE(t,n,o){switch(n.tag){case 3:je(n,n.stateNode.containerInfo),gi(n,Et,t.memoizedState.cache),qs();break;case 27:case 5:Cr(n);break;case 4:je(n,n.stateNode.containerInfo);break;case 10:gi(n,n.type,n.memoizedProps.value);break;case 13:var u=n.memoizedState;if(u!==null)return u.dehydrated!==null?(Ks(n),n.flags|=128,null):(o&n.child.childLanes)!==0?dg(t,n,o):(Ks(n),t=Ki(t,n,o),t!==null?t.sibling:null);Ks(n);break;case 19:var d=(t.flags&128)!==0;if(u=(o&n.childLanes)!==0,u||(Wr(t,n,o,!1),u=(o&n.childLanes)!==0),d){if(u)return pg(t,n,o);n.flags|=128}if(d=n.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),te(wt,wt.current),u)break;return null;case 22:case 23:return n.lanes=0,lg(t,n,o);case 24:gi(n,Et,t.memoizedState.cache)}return Ki(t,n,o)}function _g(t,n,o){if(t!==null)if(t.memoizedProps!==n.pendingProps)Ot=!0;else{if(!ad(t,o)&&(n.flags&128)===0)return Ot=!1,pE(t,n,o);Ot=(t.flags&131072)!==0}else Ot=!1,we&&(n.flags&1048576)!==0&&q(n,l,n.index);switch(n.lanes=0,n.tag){case 16:e:{t=n.pendingProps;var u=n.elementType,d=u._init;if(u=d(u._payload),n.type=u,typeof u=="function")Da(u)?(t=$r(u,t),n.tag=1,n=hg(null,n,u,t,o)):(n.tag=0,n=Jf(null,n,u,t,o));else{if(u!=null){if(d=u.$$typeof,d===ce){n.tag=11,n=rg(null,n,u,t,o);break e}else if(d===_e){n.tag=14,n=ag(null,n,u,t,o);break e}}throw n=Dt(u)||u,Error(a(306,n,""))}}return n;case 0:return Jf(t,n,n.type,n.pendingProps,o);case 1:return u=n.type,d=$r(u,n.pendingProps),hg(t,n,u,d,o);case 3:e:{if(je(n,n.stateNode.containerInfo),t===null)throw Error(a(387));u=n.pendingProps;var p=n.memoizedState;d=p.element,Rf(t,n),ul(n,u,null,o);var S=n.memoizedState;if(u=S.cache,gi(n,Et,u),u!==p.cache&&za(n,[Et],o,!0),ll(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},n.updateQueue.baseState=p,n.memoizedState=p,n.flags&256){n=fg(t,n,u,o);break e}else if(u!==d){d=en(Error(a(424)),n),Zs(d),n=fg(t,n,u,o);break e}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(de=Jn(t.firstChild),ue=n,we=!0,it=null,ft=!0,o=W_(n,null,u,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(qs(),u===d){n=Ki(t,n,o);break e}jt(t,n,u,o)}n=n.child}return n;case 26:return Lc(t,n),t===null?(o=bv(n.type,null,n.pendingProps,null))?n.memoizedState=o:we||(o=n.type,t=n.pendingProps,u=Gc(se.current).createElement(o),u[Nt]=n,u[Zt]=t,Ht(u,o,t),yt(u),n.stateNode=u):n.memoizedState=bv(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Cr(n),t===null&&we&&(u=n.stateNode=gv(n.type,n.pendingProps,se.current),ue=n,ft=!0,d=de,rr(n.type)?(Bd=d,de=Jn(u.firstChild)):de=d),jt(t,n,n.pendingProps.children,o),Lc(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&we&&((d=u=de)&&(u=qE(u,n.type,n.pendingProps,ft),u!==null?(n.stateNode=u,ue=n,de=Jn(u.firstChild),ft=!1,d=!0):d=!1),d||cn(n)),Cr(n),d=n.type,p=n.pendingProps,S=t!==null?t.memoizedProps:null,u=p.children,Pd(d,p)?u=null:S!==null&&Pd(d,S)&&(n.flags|=32),n.memoizedState!==null&&(d=Df(t,n,oE,null,null,o),Ll._currentValue=d),Lc(t,n),jt(t,n,u,o),n.child;case 6:return t===null&&we&&((t=o=de)&&(o=ZE(o,n.pendingProps,ft),o!==null?(n.stateNode=o,ue=n,de=null,t=!0):t=!1),t||cn(n)),null;case 13:return dg(t,n,o);case 4:return je(n,n.stateNode.containerInfo),u=n.pendingProps,t===null?n.child=Va(n,null,u,o):jt(t,n,u,o),n.child;case 11:return rg(t,n,n.type,n.pendingProps,o);case 7:return jt(t,n,n.pendingProps,o),n.child;case 8:return jt(t,n,n.pendingProps.children,o),n.child;case 12:return jt(t,n,n.pendingProps.children,o),n.child;case 10:return u=n.pendingProps,gi(n,n.type,u.value),jt(t,n,u.children,o),n.child;case 9:return d=n.type._context,u=n.pendingProps.children,Kr(n),d=Yt(d),u=u(d),n.flags|=1,jt(t,n,u,o),n.child;case 14:return ag(t,n,n.type,n.pendingProps,o);case 15:return og(t,n,n.type,n.pendingProps,o);case 19:return pg(t,n,o);case 31:return u=n.pendingProps,o=n.mode,u={mode:u.mode,children:u.children},t===null?(o=Mc(u,o),o.ref=n.ref,n.child=o,o.return=n,n=o):(o=Pn(t.child,u),o.ref=n.ref,n.child=o,o.return=n,n=o),n;case 22:return lg(t,n,o);case 24:return Kr(n),u=Yt(Et),t===null?(d=xf(),d===null&&(d=st,p=Tf(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),n.memoizedState={parent:u,cache:d},Af(n),gi(n,Et,d)):((t.lanes&o)!==0&&(Rf(t,n),ul(n,null,null,o),ll()),d=t.memoizedState,p=n.memoizedState,d.parent!==u?(d={parent:u,cache:u},n.memoizedState=d,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=d),gi(n,Et,u)):(u=p.cache,gi(n,Et,u),u!==d.cache&&za(n,[Et],o,!0))),jt(t,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Xi(t){t.flags|=4}function gg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Cv(n)){if(n=Un.current,n!==null&&((Ue&4194048)===Ue?vi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||n!==vi))throw al=Nf,e_;t.flags|=8192}}function Ic(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Do():536870912,t.lanes|=n,Ka|=n)}function _l(t,n){if(!we)switch(t.tailMode){case"hidden":n=t.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:u.sibling=null}}function dt(t){var n=t.alternate!==null&&t.alternate.child===t.child,o=0,u=0;if(n)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=u,t.childLanes=o,n}function _E(t,n,o){var u=n.pendingProps;switch(oe(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(n),null;case 1:return dt(n),null;case 3:return o=n.stateNode,u=null,t!==null&&(u=t.memoizedState.cache),n.memoizedState.cache!==u&&(n.flags|=2048),Qn(Et),qn(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(t===null||t.child===null)&&(Gr(n)?Xi(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hc())),dt(n),null;case 26:return o=n.memoizedState,t===null?(Xi(n),o!==null?(dt(n),gg(n,o)):(dt(n),n.flags&=-16777217)):o?o!==t.memoizedState?(Xi(n),dt(n),gg(n,o)):(dt(n),n.flags&=-16777217):(t.memoizedProps!==u&&Xi(n),dt(n),n.flags&=-16777217),null;case 27:gs(n),o=se.current;var d=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Xi(n);else{if(!u){if(n.stateNode===null)throw Error(a(166));return dt(n),null}t=le.current,Gr(n)?uc(n):(t=gv(d,u,o),n.stateNode=t,Xi(n))}return dt(n),null;case 5:if(gs(n),o=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==u&&Xi(n);else{if(!u){if(n.stateNode===null)throw Error(a(166));return dt(n),null}if(t=le.current,Gr(n))uc(n);else{switch(d=Gc(se.current),t){case 1:t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":t=d.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":t=d.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":t=d.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof u.is=="string"?d.createElement("select",{is:u.is}):d.createElement("select"),u.multiple?t.multiple=!0:u.size&&(t.size=u.size);break;default:t=typeof u.is=="string"?d.createElement(o,{is:u.is}):d.createElement(o)}}t[Nt]=n,t[Zt]=u;e:for(d=n.child;d!==null;){if(d.tag===5||d.tag===6)t.appendChild(d.stateNode);else if(d.tag!==4&&d.tag!==27&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===n)break e;for(;d.sibling===null;){if(d.return===null||d.return===n)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}n.stateNode=t;e:switch(Ht(t,o,u),o){case"button":case"input":case"select":case"textarea":t=!!u.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xi(n)}}return dt(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==u&&Xi(n);else{if(typeof u!="string"&&n.stateNode===null)throw Error(a(166));if(t=se.current,Gr(n)){if(t=n.stateNode,o=n.memoizedProps,u=null,d=ue,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}t[Nt]=n,t=!!(t.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||cv(t.nodeValue,o)),t||cn(n)}else t=Gc(t).createTextNode(u),t[Nt]=n,n.stateNode=t}return dt(n),null;case 13:if(u=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(d=Gr(n),u!==null&&u.dehydrated!==null){if(t===null){if(!d)throw Error(a(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));d[Nt]=n}else qs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;dt(n),d=!1}else d=hc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=d),d=!0;if(!d)return n.flags&256?(Wi(n),n):(Wi(n),null)}if(Wi(n),(n.flags&128)!==0)return n.lanes=o,n;if(o=u!==null,t=t!==null&&t.memoizedState!==null,o){u=n.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool);var p=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)}return o!==t&&o&&(n.child.flags|=8192),Ic(n,n.updateQueue),dt(n),null;case 4:return qn(),t===null&&Ld(n.stateNode.containerInfo),dt(n),null;case 10:return Qn(n.type),dt(n),null;case 19:if(ie(wt),d=n.memoizedState,d===null)return dt(n),null;if(u=(n.flags&128)!==0,p=d.rendering,p===null)if(u)_l(d,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(p=Ac(t),p!==null){for(n.flags|=128,_l(d,!1),t=p.updateQueue,n.updateQueue=t,Ic(n,t),n.subtreeFlags=0,t=o,o=n.child;o!==null;)tl(o,t),o=o.sibling;return te(wt,wt.current&1|2),n.child}t=t.sibling}d.tail!==null&&on()>Pc&&(n.flags|=128,u=!0,_l(d,!1),n.lanes=4194304)}else{if(!u)if(t=Ac(p),t!==null){if(n.flags|=128,u=!0,t=t.updateQueue,n.updateQueue=t,Ic(n,t),_l(d,!0),d.tail===null&&d.tailMode==="hidden"&&!p.alternate&&!we)return dt(n),null}else 2*on()-d.renderingStartTime>Pc&&o!==536870912&&(n.flags|=128,u=!0,_l(d,!1),n.lanes=4194304);d.isBackwards?(p.sibling=n.child,n.child=p):(t=d.last,t!==null?t.sibling=p:n.child=p,d.last=p)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=on(),n.sibling=null,t=wt.current,te(wt,u?t&1|2:t&1),n):(dt(n),null);case 22:case 23:return Wi(n),If(),u=n.memoizedState!==null,t!==null?t.memoizedState!==null!==u&&(n.flags|=8192):u&&(n.flags|=8192),u?(o&536870912)!==0&&(n.flags&128)===0&&(dt(n),n.subtreeFlags&6&&(n.flags|=8192)):dt(n),o=n.updateQueue,o!==null&&Ic(n,o.retryQueue),o=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),u=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(u=n.memoizedState.cachePool.pool),u!==o&&(n.flags|=2048),t!==null&&ie(Xr),null;case 24:return o=null,t!==null&&(o=t.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Qn(Et),dt(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function gE(t,n){switch(oe(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return Qn(Et),qn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return gs(n),null;case 13:if(Wi(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));qs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return ie(wt),null;case 4:return qn(),null;case 10:return Qn(n.type),null;case 22:case 23:return Wi(n),If(),t!==null&&ie(Xr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return Qn(Et),null;case 25:return null;default:return null}}function vg(t,n){switch(oe(n),n.tag){case 3:Qn(Et),qn();break;case 26:case 27:case 5:gs(n);break;case 4:qn();break;case 13:Wi(n);break;case 19:ie(wt);break;case 10:Qn(n.type);break;case 22:case 23:Wi(n),If(),t!==null&&ie(Xr);break;case 24:Qn(Et)}}function gl(t,n){try{var o=n.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&t)===t){u=void 0;var p=o.create,S=o.inst;u=p(),S.destroy=u}o=o.next}while(o!==d)}}catch(T){$e(n,n.return,T)}}function Qs(t,n,o){try{var u=n.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&t)===t){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,d=n;var O=o,B=T;try{B()}catch(G){$e(d,O,G)}}}u=u.next}while(u!==p)}}catch(G){$e(n,n.return,G)}}function yg(t){var n=t.updateQueue;if(n!==null){var o=t.stateNode;try{a_(n,o)}catch(u){$e(t,t.return,u)}}}function bg(t,n,o){o.props=$r(t.type,t.memoizedProps),o.state=t.memoizedState;try{o.componentWillUnmount()}catch(u){$e(t,n,u)}}function vl(t,n){try{var o=t.ref;if(o!==null){switch(t.tag){case 26:case 27:case 5:var u=t.stateNode;break;case 30:u=t.stateNode;break;default:u=t.stateNode}typeof o=="function"?t.refCleanup=o(u):o.current=u}}catch(d){$e(t,n,d)}}function yi(t,n){var o=t.ref,u=t.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){$e(t,n,d)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){$e(t,n,d)}else o.current=null}function Sg(t){var n=t.type,o=t.memoizedProps,u=t.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){$e(t,t.return,d)}}function od(t,n,o){try{var u=t.stateNode;UE(u,t.type,o,n),u[Zt]=n}catch(d){$e(t,t.return,d)}}function Eg(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&rr(t.type)||t.tag===4}function ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&rr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ud(t,n,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(t,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(t),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=Vc));else if(u!==4&&(u===27&&rr(t.type)&&(o=t.stateNode,n=null),t=t.child,t!==null))for(ud(t,n,o),t=t.sibling;t!==null;)ud(t,n,o),t=t.sibling}function kc(t,n,o){var u=t.tag;if(u===5||u===6)t=t.stateNode,n?o.insertBefore(t,n):o.appendChild(t);else if(u!==4&&(u===27&&rr(t.type)&&(o=t.stateNode),t=t.child,t!==null))for(kc(t,n,o),t=t.sibling;t!==null;)kc(t,n,o),t=t.sibling}function wg(t){var n=t.stateNode,o=t.memoizedProps;try{for(var u=t.type,d=n.attributes;d.length;)n.removeAttributeNode(d[0]);Ht(n,u,o),n[Nt]=t,n[Zt]=o}catch(p){$e(t,t.return,p)}}var Qi=!1,vt=!1,cd=!1,Tg=typeof WeakSet=="function"?WeakSet:Set,Lt=null;function vE(t,n){if(t=t.containerInfo,kd=$c,t=jr(t),Br(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,T=-1,O=-1,B=0,G=0,K=t,H=null;t:for(;;){for(var F;K!==o||d!==0&&K.nodeType!==3||(T=S+d),K!==p||u!==0&&K.nodeType!==3||(O=S+u),K.nodeType===3&&(S+=K.nodeValue.length),(F=K.firstChild)!==null;)H=K,K=F;for(;;){if(K===t)break t;if(H===o&&++B===d&&(T=S),H===p&&++G===u&&(O=S),(F=K.nextSibling)!==null)break;K=H,H=K.parentNode}K=F}o=T===-1||O===-1?null:{start:T,end:O}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dd={focusedElem:t,selectionRange:o},$c=!1,Lt=n;Lt!==null;)if(n=Lt,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Lt=t;else for(;Lt!==null;){switch(n=Lt,p=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&p!==null){t=void 0,o=n,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var Ee=$r(o.type,d,o.elementType===o.type);t=u.getSnapshotBeforeUpdate(Ee,p),u.__reactInternalSnapshotBeforeUpdate=t}catch(ge){$e(o,o.return,ge)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,o=t.nodeType,o===9)Ud(t);else if(o===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Ud(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Lt=t;break}Lt=n.return}}function Cg(t,n,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:$s(t,o),u&4&&gl(5,o);break;case 1:if($s(t,o),u&4)if(t=o.stateNode,n===null)try{t.componentDidMount()}catch(S){$e(o,o.return,S)}else{var d=$r(o.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(d,n,t.__reactInternalSnapshotBeforeUpdate)}catch(S){$e(o,o.return,S)}}u&64&&yg(o),u&512&&vl(o,o.return);break;case 3:if($s(t,o),u&64&&(t=o.updateQueue,t!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{a_(t,n)}catch(S){$e(o,o.return,S)}}break;case 27:n===null&&u&4&&wg(o);case 26:case 5:$s(t,o),n===null&&u&4&&Sg(o),u&512&&vl(o,o.return);break;case 12:$s(t,o);break;case 13:$s(t,o),u&4&&Ag(t,o),u&64&&(t=o.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(o=NE.bind(null,o),VE(t,o))));break;case 22:if(u=o.memoizedState!==null||Qi,!u){n=n!==null&&n.memoizedState!==null||vt,d=Qi;var p=vt;Qi=u,(vt=n)&&!p?Js(t,o,(o.subtreeFlags&8772)!==0):$s(t,o),Qi=d,vt=p}break;case 30:break;default:$s(t,o)}}function xg(t){var n=t.alternate;n!==null&&(t.alternate=null,xg(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&va(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,fn=!1;function $i(t,n,o){for(o=o.child;o!==null;)Ng(t,n,o),o=o.sibling}function Ng(t,n,o){if(qt&&typeof qt.onCommitFiberUnmount=="function")try{qt.onCommitFiberUnmount(xi,o)}catch{}switch(o.tag){case 26:vt||yi(o,n),$i(t,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:vt||yi(o,n);var u=lt,d=fn;rr(o.type)&&(lt=o.stateNode,fn=!1),$i(t,n,o),Nl(o.stateNode),lt=u,fn=d;break;case 5:vt||yi(o,n);case 6:if(u=lt,d=fn,lt=null,$i(t,n,o),lt=u,fn=d,lt!==null)if(fn)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(o.stateNode)}catch(p){$e(o,n,p)}else try{lt.removeChild(o.stateNode)}catch(p){$e(o,n,p)}break;case 18:lt!==null&&(fn?(t=lt,pv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,o.stateNode),Dl(t)):pv(lt,o.stateNode));break;case 4:u=lt,d=fn,lt=o.stateNode.containerInfo,fn=!0,$i(t,n,o),lt=u,fn=d;break;case 0:case 11:case 14:case 15:vt||Qs(2,o,n),vt||Qs(4,o,n),$i(t,n,o);break;case 1:vt||(yi(o,n),u=o.stateNode,typeof u.componentWillUnmount=="function"&&bg(o,n,u)),$i(t,n,o);break;case 21:$i(t,n,o);break;case 22:vt=(u=vt)||o.memoizedState!==null,$i(t,n,o),vt=u;break;default:$i(t,n,o)}}function Ag(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(o){$e(n,n.return,o)}}function yE(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Tg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Tg),n;default:throw Error(a(435,t.tag))}}function hd(t,n){var o=yE(t);n.forEach(function(u){var d=AE.bind(null,t,u);o.has(u)||(o.add(u),u.then(d,d))})}function wn(t,n){var o=n.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=t,S=n,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(rr(T.type)){lt=T.stateNode,fn=!1;break e}break;case 5:lt=T.stateNode,fn=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,fn=!0;break e}T=T.return}if(lt===null)throw Error(a(160));Ng(p,S,d),lt=null,fn=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Rg(n,t),n=n.sibling}var $n=null;function Rg(t,n){var o=t.alternate,u=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:wn(n,t),Tn(t),u&4&&(Qs(3,t,t.return),gl(3,t),Qs(5,t,t.return));break;case 1:wn(n,t),Tn(t),u&512&&(vt||o===null||yi(o,o.return)),u&64&&Qi&&(t=t.updateQueue,t!==null&&(u=t.callbacks,u!==null&&(o=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=$n;if(wn(n,t),Tn(t),u&512&&(vt||o===null||yi(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=t.memoizedState,o===null)if(u===null)if(t.stateNode===null){e:{u=t.type,o=t.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Es]||p[Nt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),Ht(p,u,o),p[Nt]=t,yt(p),u=p;break e;case"link":var S=wv("link","href",d).get(u+(o.href||""));if(S){for(var T=0;T<S.length;T++)if(p=S[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(T,1);break t}}p=d.createElement(u),Ht(p,u,o),d.head.appendChild(p);break;case"meta":if(S=wv("meta","content",d).get(u+(o.content||""))){for(T=0;T<S.length;T++)if(p=S[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(T,1);break t}}p=d.createElement(u),Ht(p,u,o),d.head.appendChild(p);break;default:throw Error(a(468,u))}p[Nt]=t,yt(p),u=p}t.stateNode=u}else Tv(d,t.type,t.stateNode);else t.stateNode=Ev(d,u,t.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?Tv(d,t.type,t.stateNode):Ev(d,u,t.memoizedProps)):u===null&&t.stateNode!==null&&od(t,t.memoizedProps,o.memoizedProps)}break;case 27:wn(n,t),Tn(t),u&512&&(vt||o===null||yi(o,o.return)),o!==null&&u&4&&od(t,t.memoizedProps,o.memoizedProps);break;case 5:if(wn(n,t),Tn(t),u&512&&(vt||o===null||yi(o,o.return)),t.flags&32){d=t.stateNode;try{Ln(d,"")}catch(F){$e(t,t.return,F)}}u&4&&t.stateNode!=null&&(d=t.memoizedProps,od(t,d,o!==null?o.memoizedProps:d)),u&1024&&(cd=!0);break;case 6:if(wn(n,t),Tn(t),u&4){if(t.stateNode===null)throw Error(a(162));u=t.memoizedProps,o=t.stateNode;try{o.nodeValue=u}catch(F){$e(t,t.return,F)}}break;case 3:if(Kc=null,d=$n,$n=Yc(n.containerInfo),wn(n,t),$n=d,Tn(t),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Dl(n.containerInfo)}catch(F){$e(t,t.return,F)}cd&&(cd=!1,Og(t));break;case 4:u=$n,$n=Yc(t.stateNode.containerInfo),wn(n,t),Tn(t),$n=u;break;case 12:wn(n,t),Tn(t);break;case 13:wn(n,t),Tn(t),t.child.flags&8192&&t.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(gd=on()),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,hd(t,u)));break;case 22:d=t.memoizedState!==null;var O=o!==null&&o.memoizedState!==null,B=Qi,G=vt;if(Qi=B||d,vt=G||O,wn(n,t),vt=G,Qi=B,Tn(t),u&8192)e:for(n=t.stateNode,n._visibility=d?n._visibility&-2:n._visibility|1,d&&(o===null||O||Qi||vt||Jr(t)),o=null,n=t;;){if(n.tag===5||n.tag===26){if(o===null){O=o=n;try{if(p=O.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=O.stateNode;var K=O.memoizedProps.style,H=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=H==null||typeof H=="boolean"?"":(""+H).trim()}}catch(F){$e(O,O.return,F)}}}else if(n.tag===6){if(o===null){O=n;try{O.stateNode.nodeValue=d?"":O.memoizedProps}catch(F){$e(O,O.return,F)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}u&4&&(u=t.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,hd(t,o))));break;case 19:wn(n,t),Tn(t),u&4&&(u=t.updateQueue,u!==null&&(t.updateQueue=null,hd(t,u)));break;case 30:break;case 21:break;default:wn(n,t),Tn(t)}}function Tn(t){var n=t.flags;if(n&2){try{for(var o,u=t.return;u!==null;){if(Eg(u)){o=u;break}u=u.return}if(o==null)throw Error(a(160));switch(o.tag){case 27:var d=o.stateNode,p=ld(t);kc(t,p,d);break;case 5:var S=o.stateNode;o.flags&32&&(Ln(S,""),o.flags&=-33);var T=ld(t);kc(t,T,S);break;case 3:case 4:var O=o.stateNode.containerInfo,B=ld(t);ud(t,B,O);break;default:throw Error(a(161))}}catch(G){$e(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Og(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Og(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function $s(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cg(t,n.alternate,n),n=n.sibling}function Jr(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Qs(4,n,n.return),Jr(n);break;case 1:yi(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&bg(n,n.return,o),Jr(n);break;case 27:Nl(n.stateNode);case 26:case 5:yi(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}t=t.sibling}}function Js(t,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var u=n.alternate,d=t,p=n,S=p.flags;switch(p.tag){case 0:case 11:case 15:Js(d,p,o),gl(4,p);break;case 1:if(Js(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(B){$e(u,u.return,B)}if(u=p,d=u.updateQueue,d!==null){var T=u.stateNode;try{var O=d.shared.hiddenCallbacks;if(O!==null)for(d.shared.hiddenCallbacks=null,d=0;d<O.length;d++)r_(O[d],T)}catch(B){$e(u,u.return,B)}}o&&S&64&&yg(p),vl(p,p.return);break;case 27:wg(p);case 26:case 5:Js(d,p,o),o&&u===null&&S&4&&Sg(p),vl(p,p.return);break;case 12:Js(d,p,o);break;case 13:Js(d,p,o),o&&S&4&&Ag(d,p);break;case 22:p.memoizedState===null&&Js(d,p,o),vl(p,p.return);break;case 30:break;default:Js(d,p,o)}n=n.sibling}}function fd(t,n){var o=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(o=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==o&&(t!=null&&t.refCount++,o!=null&&il(o))}function dd(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t))}function bi(t,n,o,u){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lg(t,n,o,u),n=n.sibling}function Lg(t,n,o,u){var d=n.flags;switch(n.tag){case 0:case 11:case 15:bi(t,n,o,u),d&2048&&gl(9,n);break;case 1:bi(t,n,o,u);break;case 3:bi(t,n,o,u),d&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&il(t)));break;case 12:if(d&2048){bi(t,n,o,u),t=n.stateNode;try{var p=n.memoizedProps,S=p.id,T=p.onPostCommit;typeof T=="function"&&T(S,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(O){$e(n,n.return,O)}}else bi(t,n,o,u);break;case 13:bi(t,n,o,u);break;case 23:break;case 22:p=n.stateNode,S=n.alternate,n.memoizedState!==null?p._visibility&2?bi(t,n,o,u):yl(t,n):p._visibility&2?bi(t,n,o,u):(p._visibility|=2,Ga(t,n,o,u,(n.subtreeFlags&10256)!==0)),d&2048&&fd(S,n);break;case 24:bi(t,n,o,u),d&2048&&dd(n.alternate,n);break;default:bi(t,n,o,u)}}function Ga(t,n,o,u,d){for(d=d&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var p=t,S=n,T=o,O=u,B=S.flags;switch(S.tag){case 0:case 11:case 15:Ga(p,S,T,O,d),gl(8,S);break;case 23:break;case 22:var G=S.stateNode;S.memoizedState!==null?G._visibility&2?Ga(p,S,T,O,d):yl(p,S):(G._visibility|=2,Ga(p,S,T,O,d)),d&&B&2048&&fd(S.alternate,S);break;case 24:Ga(p,S,T,O,d),d&&B&2048&&dd(S.alternate,S);break;default:Ga(p,S,T,O,d)}n=n.sibling}}function yl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=t,u=n,d=u.flags;switch(u.tag){case 22:yl(o,u),d&2048&&fd(u.alternate,u);break;case 24:yl(o,u),d&2048&&dd(u.alternate,u);break;default:yl(o,u)}n=n.sibling}}var bl=8192;function Ya(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)Mg(t),t=t.sibling}function Mg(t){switch(t.tag){case 26:Ya(t),t.flags&bl&&t.memoizedState!==null&&sw($n,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var n=$n;$n=Yc(t.stateNode.containerInfo),Ya(t),$n=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=bl,bl=16777216,Ya(t),bl=n):Ya(t));break;default:Ya(t)}}function Ig(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function Sl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];Lt=u,Dg(u,t)}Ig(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)kg(t),t=t.sibling}function kg(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&Qs(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Dc(t)):Sl(t);break;default:Sl(t)}}function Dc(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var u=n[o];Lt=u,Dg(u,t)}Ig(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Qs(8,n,n.return),Dc(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Dc(n));break;default:Dc(n)}t=t.sibling}}function Dg(t,n){for(;Lt!==null;){var o=Lt;switch(o.tag){case 0:case 11:case 15:Qs(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:il(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Lt=u;else e:for(o=t;Lt!==null;){u=Lt;var d=u.sibling,p=u.return;if(xg(u),u===o){Lt=null;break e}if(d!==null){d.return=p,Lt=d;break e}Lt=p}}}var bE={getCacheForType:function(t){var n=Yt(Et),o=n.data.get(t);return o===void 0&&(o=t(),n.data.set(t,o)),o}},SE=typeof WeakMap=="function"?WeakMap:Map,Ge=0,st=null,Me=null,Ue=0,Ye=0,Cn=null,er=!1,Wa=!1,md=!1,Ji=0,pt=0,tr=0,ea=0,pd=0,jn=0,Ka=0,El=null,dn=null,_d=!1,gd=0,Pc=1/0,zc=null,nr=null,Bt=0,ir=null,Xa=null,Qa=0,vd=0,yd=null,Pg=null,wl=0,bd=null;function xn(){if((Ge&2)!==0&&Ue!==0)return Ue&-Ue;if(Z.T!==null){var t=Ua;return t!==0?t:Nd()}return Uu()}function zg(){jn===0&&(jn=(Ue&536870912)===0||we?Du():536870912);var t=Un.current;return t!==null&&(t.flags|=32),jn}function Nn(t,n,o){(t===st&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&($a(t,0),sr(t,Ue,jn,!1)),bs(t,o),((Ge&2)===0||t!==st)&&(t===st&&((Ge&2)===0&&(ea|=o),pt===4&&sr(t,Ue,jn,!1)),Si(t))}function Ug(t,n,o){if((Ge&6)!==0)throw Error(a(327));var u=!o&&(n&124)===0&&(n&t.expiredLanes)===0||Vn(t,n),d=u?TE(t,n):wd(t,n,!0),p=u;do{if(d===0){Wa&&!u&&sr(t,n,0,!1);break}else{if(o=t.current.alternate,p&&!EE(o)){d=wd(t,n,!1),p=!1;continue}if(d===2){if(p=n,t.errorRecoveryDisabledLanes&p)var S=0;else S=t.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){n=S;e:{var T=t;d=El;var O=T.current.memoizedState.isDehydrated;if(O&&($a(T,S).flags|=256),S=wd(T,S,!1),S!==2){if(md&&!O){T.errorRecoveryDisabledLanes|=p,ea|=p,d=4;break e}p=dn,dn=d,p!==null&&(dn===null?dn=p:dn.push.apply(dn,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){$a(t,0),sr(t,n,0,!0);break}e:{switch(u=t,p=d,p){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:sr(u,n,jn,!er);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(d=gd+300-on(),10<d)){if(sr(u,n,jn,!er),_a(u,0,!0)!==0)break e;u.timeoutHandle=dv(jg.bind(null,u,o,dn,zc,_d,n,jn,ea,Ka,er,p,2,-0,0),d);break e}jg(u,o,dn,zc,_d,n,jn,ea,Ka,er,p,0,-0,0)}}break}while(!0);Si(t)}function jg(t,n,o,u,d,p,S,T,O,B,G,K,H,F){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:iw},Mg(n),K=rw(),K!==null)){t.cancelPendingCommit=K(Gg.bind(null,t,n,p,o,u,d,S,T,O,G,1,H,F)),sr(t,p,S,!B);return}Gg(t,n,p,o,u,d,S,T,O)}function EE(t){for(var n=t;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!$t(p(),d))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function sr(t,n,o,u){n&=~pd,n&=~ea,t.suspendedLanes|=n,t.pingedLanes&=~n,u&&(t.warmLanes|=n),u=t.expirationTimes;for(var d=n;0<d;){var p=31-Xt(d),S=1<<p;u[p]=-1,d&=~S}o!==0&&Pu(t,o,n)}function Uc(){return(Ge&6)===0?(Tl(0),!1):!0}function Sd(){if(Me!==null){if(Ye===0)var t=Me.return;else t=Me,Xn=zn=null,Uf(t),Za=null,ml=0,t=Me;for(;t!==null;)vg(t.alternate,t),t=t.return;Me=null}}function $a(t,n){var o=t.timeoutHandle;o!==-1&&(t.timeoutHandle=-1,BE(o)),o=t.cancelPendingCommit,o!==null&&(t.cancelPendingCommit=null,o()),Sd(),st=t,Me=o=Pn(t.current,null),Ue=n,Ye=0,Cn=null,er=!1,Wa=Vn(t,n),md=!1,Ka=jn=pd=ea=tr=pt=0,dn=El=null,_d=!1,(n&8)!==0&&(n|=n&32);var u=t.entangledLanes;if(u!==0)for(t=t.entanglements,u&=n;0<u;){var d=31-Xt(u),p=1<<d;n|=t[d],u&=~p}return Ji=n,Fr(),o}function Bg(t,n){Ae=null,Z.H=Cc,n===rl||n===pc?(n=i_(),Ye=3):n===e_?(n=i_(),Ye=4):Ye=n===sg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Me===null&&(pt=1,Oc(t,en(n,t.current)))}function Hg(){var t=Z.H;return Z.H=Cc,t===null?Cc:t}function Fg(){var t=Z.A;return Z.A=bE,t}function Ed(){pt=4,er||(Ue&4194048)!==Ue&&Un.current!==null||(Wa=!0),(tr&134217727)===0&&(ea&134217727)===0||st===null||sr(st,Ue,jn,!1)}function wd(t,n,o){var u=Ge;Ge|=2;var d=Hg(),p=Fg();(st!==t||Ue!==n)&&(zc=null,$a(t,n)),n=!1;var S=pt;e:do try{if(Ye!==0&&Me!==null){var T=Me,O=Cn;switch(Ye){case 8:Sd(),S=6;break e;case 3:case 2:case 9:case 6:Un.current===null&&(n=!0);var B=Ye;if(Ye=0,Cn=null,Ja(t,T,O,B),o&&Wa){S=0;break e}break;default:B=Ye,Ye=0,Cn=null,Ja(t,T,O,B)}}wE(),S=pt;break}catch(G){Bg(t,G)}while(!0);return n&&t.shellSuspendCounter++,Xn=zn=null,Ge=u,Z.H=d,Z.A=p,Me===null&&(st=null,Ue=0,Fr()),S}function wE(){for(;Me!==null;)qg(Me)}function TE(t,n){var o=Ge;Ge|=2;var u=Hg(),d=Fg();st!==t||Ue!==n?(zc=null,Pc=on()+500,$a(t,n)):Wa=Vn(t,n);e:do try{if(Ye!==0&&Me!==null){n=Me;var p=Cn;t:switch(Ye){case 1:Ye=0,Cn=null,Ja(t,n,p,1);break;case 2:case 9:if(t_(p)){Ye=0,Cn=null,Zg(n);break}n=function(){Ye!==2&&Ye!==9||st!==t||(Ye=7),Si(t)},p.then(n,n);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:t_(p)?(Ye=0,Cn=null,Zg(n)):(Ye=0,Cn=null,Ja(t,n,p,7));break;case 5:var S=null;switch(Me.tag){case 26:S=Me.memoizedState;case 5:case 27:var T=Me;if(!S||Cv(S)){Ye=0,Cn=null;var O=T.sibling;if(O!==null)Me=O;else{var B=T.return;B!==null?(Me=B,jc(B)):Me=null}break t}}Ye=0,Cn=null,Ja(t,n,p,5);break;case 6:Ye=0,Cn=null,Ja(t,n,p,6);break;case 8:Sd(),pt=6;break e;default:throw Error(a(462))}}CE();break}catch(G){Bg(t,G)}while(!0);return Xn=zn=null,Z.H=u,Z.A=d,Ge=o,Me!==null?0:(st=null,Ue=0,Fr(),pt)}function CE(){for(;Me!==null&&!Ru();)qg(Me)}function qg(t){var n=_g(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,n===null?jc(t):Me=n}function Zg(t){var n=t,o=n.alternate;switch(n.tag){case 15:case 0:n=cg(o,n,n.pendingProps,n.type,void 0,Ue);break;case 11:n=cg(o,n,n.pendingProps,n.type.render,n.ref,Ue);break;case 5:Uf(n);default:vg(o,n),n=Me=tl(n,Ji),n=_g(o,n,Ji)}t.memoizedProps=t.pendingProps,n===null?jc(t):Me=n}function Ja(t,n,o,u){Xn=zn=null,Uf(n),Za=null,ml=0;var d=n.return;try{if(mE(t,d,n,o,Ue)){pt=1,Oc(t,en(o,t.current)),Me=null;return}}catch(p){if(d!==null)throw Me=d,p;pt=1,Oc(t,en(o,t.current)),Me=null;return}n.flags&32768?(we||u===1?t=!0:Wa||(Ue&536870912)!==0?t=!1:(er=t=!0,(u===2||u===9||u===3||u===6)&&(u=Un.current,u!==null&&u.tag===13&&(u.flags|=16384))),Vg(n,t)):jc(n)}function jc(t){var n=t;do{if((n.flags&32768)!==0){Vg(n,er);return}t=n.return;var o=_E(n.alternate,n,Ji);if(o!==null){Me=o;return}if(n=n.sibling,n!==null){Me=n;return}Me=n=t}while(n!==null);pt===0&&(pt=5)}function Vg(t,n){do{var o=gE(t.alternate,t);if(o!==null){o.flags&=32767,Me=o;return}if(o=t.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(t=t.sibling,t!==null)){Me=t;return}Me=t=o}while(t!==null);pt=6,Me=null}function Gg(t,n,o,u,d,p,S,T,O){t.cancelPendingCommit=null;do Bc();while(Bt!==0);if((Ge&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(p=n.lanes|n.childLanes,p|=En,rf(t,o,p,S,T,O),t===st&&(Me=st=null,Ue=0),Xa=n,ir=t,Qa=o,vd=p,yd=d,Pg=u,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,RE(vs,function(){return Qg(),null})):(t.callbackNode=null,t.callbackPriority=0),u=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,d=ae.p,ae.p=2,S=Ge,Ge|=4;try{vE(t,n,o)}finally{Ge=S,ae.p=d,Z.T=u}}Bt=1,Yg(),Wg(),Kg()}}function Yg(){if(Bt===1){Bt=0;var t=ir,n=Xa,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=Z.T,Z.T=null;var u=ae.p;ae.p=2;var d=Ge;Ge|=4;try{Rg(n,t);var p=Dd,S=jr(t.containerInfo),T=p.focusedElem,O=p.selectionRange;if(S!==T&&T&&T.ownerDocument&&Oa(T.ownerDocument.documentElement,T)){if(O!==null&&Br(T)){var B=O.start,G=O.end;if(G===void 0&&(G=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,H=K&&K.defaultView||window;if(H.getSelection){var F=H.getSelection(),Ee=T.textContent.length,ge=Math.min(O.start,Ee),Xe=O.end===void 0?ge:Math.min(O.end,Ee);!F.extend&&ge>Xe&&(S=Xe,Xe=ge,ge=S);var P=Jo(T,ge),M=Jo(T,Xe);if(P&&M&&(F.rangeCount!==1||F.anchorNode!==P.node||F.anchorOffset!==P.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var j=K.createRange();j.setStart(P.node,P.offset),F.removeAllRanges(),ge>Xe?(F.addRange(j),F.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),F.addRange(j))}}}}for(K=[],F=T;F=F.parentNode;)F.nodeType===1&&K.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var W=K[T];W.element.scrollLeft=W.left,W.element.scrollTop=W.top}}$c=!!kd,Dd=kd=null}finally{Ge=d,ae.p=u,Z.T=o}}t.current=n,Bt=2}}function Wg(){if(Bt===2){Bt=0;var t=ir,n=Xa,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=Z.T,Z.T=null;var u=ae.p;ae.p=2;var d=Ge;Ge|=4;try{Cg(t,n.alternate,n)}finally{Ge=d,ae.p=u,Z.T=o}}Bt=3}}function Kg(){if(Bt===4||Bt===3){Bt=0,Ou();var t=ir,n=Xa,o=Qa,u=Pg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Bt=5:(Bt=0,Xa=ir=null,Xg(t,t.pendingLanes));var d=t.pendingLanes;if(d===0&&(nr=null),zo(o),n=n.stateNode,qt&&typeof qt.onCommitFiberRoot=="function")try{qt.onCommitFiberRoot(xi,n,void 0,(n.current.flags&128)===128)}catch{}if(u!==null){n=Z.T,d=ae.p,ae.p=2,Z.T=null;try{for(var p=t.onRecoverableError,S=0;S<u.length;S++){var T=u[S];p(T.value,{componentStack:T.stack})}}finally{Z.T=n,ae.p=d}}(Qa&3)!==0&&Bc(),Si(t),d=t.pendingLanes,(o&4194090)!==0&&(d&42)!==0?t===bd?wl++:(wl=0,bd=t):wl=0,Tl(0)}}function Xg(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,il(n)))}function Bc(t){return Yg(),Wg(),Kg(),Qg()}function Qg(){if(Bt!==5)return!1;var t=ir,n=vd;vd=0;var o=zo(Qa),u=Z.T,d=ae.p;try{ae.p=32>o?32:o,Z.T=null,o=yd,yd=null;var p=ir,S=Qa;if(Bt=0,Xa=ir=null,Qa=0,(Ge&6)!==0)throw Error(a(331));var T=Ge;if(Ge|=4,kg(p.current),Lg(p,p.current,S,o),Ge=T,Tl(0,!1),qt&&typeof qt.onPostCommitFiberRoot=="function")try{qt.onPostCommitFiberRoot(xi,p)}catch{}return!0}finally{ae.p=d,Z.T=u,Xg(t,n)}}function $g(t,n,o){n=en(o,n),n=$f(t.stateNode,n,2),t=Ys(t,n,2),t!==null&&(bs(t,2),Si(t))}function $e(t,n,o){if(t.tag===3)$g(t,t,o);else for(;n!==null;){if(n.tag===3){$g(n,t,o);break}else if(n.tag===1){var u=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(nr===null||!nr.has(u))){t=en(o,t),o=ng(2),u=Ys(n,o,2),u!==null&&(ig(o,u,n,t),bs(u,2),Si(u));break}}n=n.return}}function Td(t,n,o){var u=t.pingCache;if(u===null){u=t.pingCache=new SE;var d=new Set;u.set(n,d)}else d=u.get(n),d===void 0&&(d=new Set,u.set(n,d));d.has(o)||(md=!0,d.add(o),t=xE.bind(null,t,n,o),n.then(t,t))}function xE(t,n,o){var u=t.pingCache;u!==null&&u.delete(n),t.pingedLanes|=t.suspendedLanes&o,t.warmLanes&=~o,st===t&&(Ue&o)===o&&(pt===4||pt===3&&(Ue&62914560)===Ue&&300>on()-gd?(Ge&2)===0&&$a(t,0):pd|=o,Ka===Ue&&(Ka=0)),Si(t)}function Jg(t,n){n===0&&(n=Do()),t=Hs(t,n),t!==null&&(bs(t,n),Si(t))}function NE(t){var n=t.memoizedState,o=0;n!==null&&(o=n.retryLane),Jg(t,o)}function AE(t,n){var o=0;switch(t.tag){case 13:var u=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=t.stateNode;break;case 22:u=t.stateNode._retryCache;break;default:throw Error(a(314))}u!==null&&u.delete(n),Jg(t,o)}function RE(t,n){return xr(t,n)}var Hc=null,eo=null,Cd=!1,Fc=!1,xd=!1,ta=0;function Si(t){t!==eo&&t.next===null&&(eo===null?Hc=eo=t:eo=eo.next=t),Fc=!0,Cd||(Cd=!0,LE())}function Tl(t,n){if(!xd&&Fc){xd=!0;do for(var o=!1,u=Hc;u!==null;){if(t!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var S=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-Xt(42|t)+1)-1,p&=d&~(S&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,iv(u,p))}else p=Ue,p=_a(u,u===st?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Vn(u,p)||(o=!0,iv(u,p));u=u.next}while(o);xd=!1}}function OE(){ev()}function ev(){Fc=Cd=!1;var t=0;ta!==0&&(jE()&&(t=ta),ta=0);for(var n=on(),o=null,u=Hc;u!==null;){var d=u.next,p=tv(u,n);p===0?(u.next=null,o===null?Hc=d:o.next=d,d===null&&(eo=o)):(o=u,(t!==0||(p&3)!==0)&&(Fc=!0)),u=d}Tl(t)}function tv(t,n){for(var o=t.suspendedLanes,u=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes&-62914561;0<p;){var S=31-Xt(p),T=1<<S,O=d[S];O===-1?((T&o)===0||(T&u)!==0)&&(d[S]=sf(T,n)):O<=n&&(t.expiredLanes|=T),p&=~T}if(n=st,o=Ue,o=_a(t,t===n?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u=t.callbackNode,o===0||t===n&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return u!==null&&u!==null&&Mo(u),t.callbackNode=null,t.callbackPriority=0;if((o&3)===0||Vn(t,o)){if(n=o&-o,n===t.callbackPriority)return n;switch(u!==null&&Mo(u),zo(o)){case 2:case 8:o=Io;break;case 32:o=vs;break;case 268435456:o=ko;break;default:o=vs}return u=nv.bind(null,t),o=xr(o,u),t.callbackPriority=n,t.callbackNode=o,n}return u!==null&&u!==null&&Mo(u),t.callbackPriority=2,t.callbackNode=null,2}function nv(t,n){if(Bt!==0&&Bt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var o=t.callbackNode;if(Bc()&&t.callbackNode!==o)return null;var u=Ue;return u=_a(t,t===st?u:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),u===0?null:(Ug(t,u,n),tv(t,on()),t.callbackNode!=null&&t.callbackNode===o?nv.bind(null,t):null)}function iv(t,n){if(Bc())return null;Ug(t,n,!0)}function LE(){HE(function(){(Ge&6)!==0?xr(Lu,OE):ev()})}function Nd(){return ta===0&&(ta=Du()),ta}function sv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:As(""+t)}function rv(t,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,t.id&&o.setAttribute("form",t.id),n.parentNode.insertBefore(o,n),t=new FormData(t),o.parentNode.removeChild(o),t}function ME(t,n,o,u,d){if(n==="submit"&&o&&o.stateNode===d){var p=sv((d[Zt]||null).action),S=u.submitter;S&&(n=(n=S[Zt]||null)?sv(n.formAction):S.getAttribute("formAction"),n!==null&&(p=n,S=null));var T=new kr("action","action",null,u,d);t.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(ta!==0){var O=S?rv(d,S):new FormData(d);Yf(o,{pending:!0,data:O,method:d.method,action:p},null,O)}}else typeof p=="function"&&(T.preventDefault(),O=S?rv(d,S):new FormData(d),Yf(o,{pending:!0,data:O,method:d.method,action:p},p,O))},currentTarget:d}]})}}for(var Ad=0;Ad<Fi.length;Ad++){var Rd=Fi[Ad],IE=Rd.toLowerCase(),kE=Rd[0].toUpperCase()+Rd.slice(1);Sn(IE,"on"+kE)}Sn(ac,"onAnimationEnd"),Sn(bn,"onAnimationIteration"),Sn(Hr,"onAnimationStart"),Sn("dblclick","onDoubleClick"),Sn("focusin","onFocus"),Sn("focusout","onBlur"),Sn(Ef,"onTransitionRun"),Sn(ka,"onTransitionStart"),Sn(wf,"onTransitionCancel"),Sn(el,"onTransitionEnd"),Oi("onMouseEnter",["mouseout","mouseover"]),Oi("onMouseLeave",["mouseout","mouseover"]),Oi("onPointerEnter",["pointerout","pointerover"]),Oi("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cl));function av(t,n){n=(n&4)!==0;for(var o=0;o<t.length;o++){var u=t[o],d=u.event;u=u.listeners;e:{var p=void 0;if(n)for(var S=u.length-1;0<=S;S--){var T=u[S],O=T.instance,B=T.currentTarget;if(T=T.listener,O!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=B;try{p(d)}catch(G){Rc(G)}d.currentTarget=null,p=O}else for(S=0;S<u.length;S++){if(T=u[S],O=T.instance,B=T.currentTarget,T=T.listener,O!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=B;try{p(d)}catch(G){Rc(G)}d.currentTarget=null,p=O}}}}function Ie(t,n){var o=n[ln];o===void 0&&(o=n[ln]=new Set);var u=t+"__bubble";o.has(u)||(ov(n,t,2,!1),o.add(u))}function Od(t,n,o){var u=0;n&&(u|=4),ov(o,t,u,n)}var qc="_reactListening"+Math.random().toString(36).slice(2);function Ld(t){if(!t[qc]){t[qc]=!0,Bu.forEach(function(o){o!=="selectionchange"&&(DE.has(o)||Od(o,!1,t),Od(o,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[qc]||(n[qc]=!0,Od("selectionchange",!1,n))}}function ov(t,n,o,u){switch(Lv(n)){case 2:var d=lw;break;case 8:d=uw;break;default:d=Vd}o=d.bind(null,n,o,t),d=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(d=!0),u?d!==void 0?t.addEventListener(n,o,{capture:!0,passive:d}):t.addEventListener(n,o,!0):d!==void 0?t.addEventListener(n,o,{passive:d}):t.addEventListener(n,o,!1)}function Md(t,n,o,u,d){var p=u;if((n&1)===0&&(n&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===d)break;if(S===4)for(S=u.return;S!==null;){var O=S.tag;if((O===3||O===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;T!==null;){if(S=ci(T),S===null)return;if(O=S.tag,O===5||O===6||O===26||O===27){u=p=S;continue e}T=T.parentNode}}u=u.return}_n(function(){var B=p,G=Rs(o),K=[];e:{var H=oc.get(t);if(H!==void 0){var F=kr,Ee=t;switch(t){case"keypress":if(mt(o)===0)break e;case"keydown":case"keyup":F=mf;break;case"focusin":Ee="focus",F=Zo;break;case"focusout":Ee="blur",F=Zo;break;case"beforeblur":case"afterblur":F=Zo;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ms;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=_f;break;case ac:case bn:case Hr:F=cf;break;case el:F=gf;break;case"scroll":case"scrollend":F=lf;break;case"wheel":F=Qu;break;case"copy":case"cut":case"paste":F=Vo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Yo;break;case"toggle":case"beforetoggle":F=Ui}var ge=(n&4)!==0,Xe=!ge&&(t==="scroll"||t==="scrollend"),P=ge?H!==null?H+"Capture":null:H;ge=[];for(var M=B,j;M!==null;){var W=M;if(j=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||j===null||P===null||(W=Be(M,P),W!=null&&ge.push(xl(M,W,j))),Xe)break;M=M.return}0<ge.length&&(H=new F(H,Ee,null,o,G),K.push({event:H,listeners:ge}))}}if((n&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",F=t==="mouseout"||t==="pointerout",H&&o!==Mr&&(Ee=o.relatedTarget||o.fromElement)&&(ci(Ee)||Ee[Ss]))break e;if((F||H)&&(H=G.window===G?G:(H=G.ownerDocument)?H.defaultView||H.parentWindow:window,F?(Ee=o.relatedTarget||o.toElement,F=B,Ee=Ee?ci(Ee):null,Ee!==null&&(Xe=h(Ee),ge=Ee.tag,Ee!==Xe||ge!==5&&ge!==27&&ge!==6)&&(Ee=null)):(F=null,Ee=B),F!==Ee)){if(ge=Ms,W="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ge=Yo,W="onPointerLeave",P="onPointerEnter",M="pointer"),Xe=F==null?H:On(F),j=Ee==null?H:On(Ee),H=new ge(W,M+"leave",F,o,G),H.target=Xe,H.relatedTarget=j,W=null,ci(G)===B&&(ge=new ge(P,M+"enter",Ee,o,G),ge.target=j,ge.relatedTarget=Xe,W=ge),Xe=W,F&&Ee)t:{for(ge=F,P=Ee,M=0,j=ge;j;j=to(j))M++;for(j=0,W=P;W;W=to(W))j++;for(;0<M-j;)ge=to(ge),M--;for(;0<j-M;)P=to(P),j--;for(;M--;){if(ge===P||P!==null&&ge===P.alternate)break t;ge=to(ge),P=to(P)}ge=null}else ge=null;F!==null&&lv(K,H,F,ge,!1),Ee!==null&&Xe!==null&&lv(K,Xe,Ee,ge,!0)}}e:{if(H=B?On(B):window,F=H.nodeName&&H.nodeName.toLowerCase(),F==="select"||F==="input"&&H.type==="file")var he=Ds;else if(Bi(H))if(Xo)he=Sf;else{he=bf;var Oe=$o}else F=H.nodeName,!F||F.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?B&&Lr(B.elementType)&&(he=Ds):he=Kn;if(he&&(he=he(t,B))){nc(K,he,o,G);break e}Oe&&Oe(t,H,B),t==="focusout"&&B&&H.type==="number"&&B.memoizedProps.value!=null&&xs(H,"number",H.value)}switch(Oe=B?On(B):window,t){case"focusin":(Bi(Oe)||Oe.contentEditable==="true")&&(yn=Oe,Us=B,Hi=null);break;case"focusout":Hi=Us=yn=null;break;case"mousedown":Ma=!0;break;case"contextmenu":case"mouseup":case"dragend":Ma=!1,sc(K,o,G);break;case"selectionchange":if(La)break;case"keydown":case"keyup":sc(K,o,G)}var pe;if(ji)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else Is?Aa(t,o)&&(ve="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(ve="onCompositionStart");ve&&(Ko&&o.locale!=="ko"&&(Is||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&Is&&(pe=Ls()):(In=G,Yn="value"in In?In.value:In.textContent,Is=!0)),Oe=Zc(B,ve),0<Oe.length&&(ve=new gn(ve,t,null,o,G),K.push({event:ve,listeners:Oe}),pe?ve.data=pe:(pe=ec(o),pe!==null&&(ve.data=pe)))),(pe=$u?tc(t,o):yf(t,o))&&(ve=Zc(B,"onBeforeInput"),0<ve.length&&(Oe=new gn("onBeforeInput","beforeinput",null,o,G),K.push({event:Oe,listeners:ve}),Oe.data=pe)),ME(K,t,B,o,G)}av(K,n)})}function xl(t,n,o){return{instance:t,listener:n,currentTarget:o}}function Zc(t,n){for(var o=n+"Capture",u=[];t!==null;){var d=t,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=Be(t,o),d!=null&&u.unshift(xl(t,d,p)),d=Be(t,n),d!=null&&u.push(xl(t,d,p))),t.tag===3)return u;t=t.return}return[]}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function lv(t,n,o,u,d){for(var p=n._reactName,S=[];o!==null&&o!==u;){var T=o,O=T.alternate,B=T.stateNode;if(T=T.tag,O!==null&&O===u)break;T!==5&&T!==26&&T!==27||B===null||(O=B,d?(B=Be(o,p),B!=null&&S.unshift(xl(o,B,O))):d||(B=Be(o,p),B!=null&&S.push(xl(o,B,O)))),o=o.return}S.length!==0&&t.push({event:n,listeners:S})}var PE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function uv(t){return(typeof t=="string"?t:""+t).replace(PE,`
`).replace(zE,"")}function cv(t,n){return n=uv(n),uv(t)===n}function Vc(){}function Ke(t,n,o,u,d,p){switch(o){case"children":typeof u=="string"?n==="body"||n==="textarea"&&u===""||Ln(t,u):(typeof u=="number"||typeof u=="bigint")&&n!=="body"&&Ln(t,""+u);break;case"className":ba(t,"class",u);break;case"tabIndex":ba(t,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":ba(t,o,u);break;case"style":Ns(t,u,p);break;case"data":if(n!=="object"){ba(t,"data",u);break}case"src":case"href":if(u===""&&(n!=="a"||o!=="href")){t.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=As(""+u),t.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){t.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(n!=="input"&&Ke(t,n,"name",d.name,d,null),Ke(t,n,"formEncType",d.formEncType,d,null),Ke(t,n,"formMethod",d.formMethod,d,null),Ke(t,n,"formTarget",d.formTarget,d,null)):(Ke(t,n,"encType",d.encType,d,null),Ke(t,n,"method",d.method,d,null),Ke(t,n,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){t.removeAttribute(o);break}u=As(""+u),t.setAttribute(o,u);break;case"onClick":u!=null&&(t.onclick=Vc);break;case"onScroll":u!=null&&Ie("scroll",t);break;case"onScrollEnd":u!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"multiple":t.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":t.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){t.removeAttribute("xlink:href");break}o=As(""+u),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""+u):t.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,""):t.removeAttribute(o);break;case"capture":case"download":u===!0?t.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?t.setAttribute(o,u):t.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?t.setAttribute(o,u):t.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?t.removeAttribute(o):t.setAttribute(o,u);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ya(t,"popover",u);break;case"xlinkActuate":Gn(t,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gn(t,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gn(t,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gn(t,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gn(t,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gn(t,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ya(t,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Ho.get(o)||o,ya(t,o,u))}}function Id(t,n,o,u,d,p){switch(o){case"style":Ns(t,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(a(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(a(60));t.innerHTML=o}}break;case"children":typeof u=="string"?Ln(t,u):(typeof u=="number"||typeof u=="bigint")&&Ln(t,""+u);break;case"onScroll":u!=null&&Ie("scroll",t);break;case"onScrollEnd":u!=null&&Ie("scrollend",t);break;case"onClick":u!=null&&(t.onclick=Vc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),n=o.slice(2,d?o.length-7:void 0),p=t[Zt]||null,p=p!=null?p[o]:null,typeof p=="function"&&t.removeEventListener(n,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in t?t[o]=null:t.hasAttribute(o)&&t.removeAttribute(o)),t.addEventListener(n,u,d);break e}o in t?t[o]=u:u===!0?t.setAttribute(o,""):ya(t,o,u)}}}function Ht(t,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(t,n,p,S,o,null)}}d&&Ke(t,n,"srcSet",o.srcSet,o,null),u&&Ke(t,n,"src",o.src,o,null);return;case"input":Ie("invalid",t);var T=p=S=d=null,O=null,B=null;for(u in o)if(o.hasOwnProperty(u)){var G=o[u];if(G!=null)switch(u){case"name":d=G;break;case"type":S=G;break;case"checked":O=G;break;case"defaultChecked":B=G;break;case"value":p=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Ke(t,n,u,G,o,null)}}qu(t,p,T,O,B,S,d,!1),Cs(t);return;case"select":Ie("invalid",t),u=S=p=null;for(d in o)if(o.hasOwnProperty(d)&&(T=o[d],T!=null))switch(d){case"value":p=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:Ke(t,n,d,T,o,null)}n=p,o=S,t.multiple=!!u,n!=null?un(t,!!u,n,!1):o!=null&&un(t,!!u,o,!0);return;case"textarea":Ie("invalid",t),p=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(T=o[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":d=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:Ke(t,n,S,T,o,null)}hi(t,u,d,p),Cs(t);return;case"option":for(O in o)if(o.hasOwnProperty(O)&&(u=o[O],u!=null))switch(O){case"selected":t.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:Ke(t,n,O,u,o,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(u=0;u<Cl.length;u++)Ie(Cl[u],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(u=o[B],u!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Ke(t,n,B,u,o,null)}return;default:if(Lr(n)){for(G in o)o.hasOwnProperty(G)&&(u=o[G],u!==void 0&&Id(t,n,G,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&Ke(t,n,T,u,o,null))}function UE(t,n,o,u){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,T=null,O=null,B=null,G=null;for(F in o){var K=o[F];if(o.hasOwnProperty(F)&&K!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":O=K;default:u.hasOwnProperty(F)||Ke(t,n,F,null,u,K)}}for(var H in u){var F=u[H];if(K=o[H],u.hasOwnProperty(H)&&(F!=null||K!=null))switch(H){case"type":p=F;break;case"name":d=F;break;case"checked":B=F;break;case"defaultChecked":G=F;break;case"value":S=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==K&&Ke(t,n,H,F,u,K)}}Vt(t,S,T,O,B,G,p,d);return;case"select":F=S=T=H=null;for(p in o)if(O=o[p],o.hasOwnProperty(p)&&O!=null)switch(p){case"value":break;case"multiple":F=O;default:u.hasOwnProperty(p)||Ke(t,n,p,null,u,O)}for(d in u)if(p=u[d],O=o[d],u.hasOwnProperty(d)&&(p!=null||O!=null))switch(d){case"value":H=p;break;case"defaultValue":T=p;break;case"multiple":S=p;default:p!==O&&Ke(t,n,d,p,u,O)}n=T,o=S,u=F,H!=null?un(t,!!o,H,!1):!!u!=!!o&&(n!=null?un(t,!!o,n,!0):un(t,!!o,o?[]:"",!1));return;case"textarea":F=H=null;for(T in o)if(d=o[T],o.hasOwnProperty(T)&&d!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Ke(t,n,T,null,u,d)}for(S in u)if(d=u[S],p=o[S],u.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":H=d;break;case"defaultValue":F=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(a(91));break;default:d!==p&&Ke(t,n,S,d,u,p)}ht(t,H,F);return;case"option":for(var Ee in o)if(H=o[Ee],o.hasOwnProperty(Ee)&&H!=null&&!u.hasOwnProperty(Ee))switch(Ee){case"selected":t.selected=!1;break;default:Ke(t,n,Ee,null,u,H)}for(O in u)if(H=u[O],F=o[O],u.hasOwnProperty(O)&&H!==F&&(H!=null||F!=null))switch(O){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:Ke(t,n,O,H,u,F)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ge in o)H=o[ge],o.hasOwnProperty(ge)&&H!=null&&!u.hasOwnProperty(ge)&&Ke(t,n,ge,null,u,H);for(B in u)if(H=u[B],F=o[B],u.hasOwnProperty(B)&&H!==F&&(H!=null||F!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:Ke(t,n,B,H,u,F)}return;default:if(Lr(n)){for(var Xe in o)H=o[Xe],o.hasOwnProperty(Xe)&&H!==void 0&&!u.hasOwnProperty(Xe)&&Id(t,n,Xe,void 0,u,H);for(G in u)H=u[G],F=o[G],!u.hasOwnProperty(G)||H===F||H===void 0&&F===void 0||Id(t,n,G,H,u,F);return}}for(var P in o)H=o[P],o.hasOwnProperty(P)&&H!=null&&!u.hasOwnProperty(P)&&Ke(t,n,P,null,u,H);for(K in u)H=u[K],F=o[K],!u.hasOwnProperty(K)||H===F||H==null&&F==null||Ke(t,n,K,H,u,F)}var kd=null,Dd=null;function Gc(t){return t.nodeType===9?t:t.ownerDocument}function hv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function fv(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function Pd(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zd=null;function jE(){var t=window.event;return t&&t.type==="popstate"?t===zd?!1:(zd=t,!0):(zd=null,!1)}var dv=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,mv=typeof Promise=="function"?Promise:void 0,HE=typeof queueMicrotask=="function"?queueMicrotask:typeof mv<"u"?function(t){return mv.resolve(null).then(t).catch(FE)}:dv;function FE(t){setTimeout(function(){throw t})}function rr(t){return t==="head"}function pv(t,n){var o=n,u=0,d=0;do{var p=o.nextSibling;if(t.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<u&&8>u){o=u;var S=t.ownerDocument;if(o&1&&Nl(S.documentElement),o&2&&Nl(S.body),o&4)for(o=S.head,Nl(o),S=o.firstChild;S;){var T=S.nextSibling,O=S.nodeName;S[Es]||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&S.rel.toLowerCase()==="stylesheet"||o.removeChild(S),S=T}}if(d===0){t.removeChild(p),Dl(n);return}d--}else o==="$"||o==="$?"||o==="$!"?d++:u=o.charCodeAt(0)-48;else u=0;o=p}while(o);Dl(n)}function Ud(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Ud(o),va(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}t.removeChild(o)}}function qE(t,n,o,u){for(;t.nodeType===1;){var d=o;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!u&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(u){if(!t[Es])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(p=t.getAttribute("rel"),p==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(p!==d.rel||t.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||t.getAttribute("title")!==(d.title==null?null:d.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(p=t.getAttribute("src"),(p!==(d.src==null?null:d.src)||t.getAttribute("type")!==(d.type==null?null:d.type)||t.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&t.getAttribute("name")===p)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function ZE(t,n,o){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!o||(t=Jn(t.nextSibling),t===null))return null;return t}function jd(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function VE(t,n){var o=t.ownerDocument;if(t.data!=="$?"||o.readyState==="complete")n();else{var u=function(){n(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),t._reactRetry=u}}function Jn(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var Bd=null;function _v(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(n===0)return t;n--}else o==="/$"&&n++}t=t.previousSibling}return null}function gv(t,n,o){switch(n=Gc(o),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Nl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);va(t)}var Bn=new Map,vv=new Set;function Yc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var es=ae.d;ae.d={f:GE,r:YE,D:WE,C:KE,L:XE,m:QE,X:JE,S:$E,M:ew};function GE(){var t=es.f(),n=Uc();return t||n}function YE(t){var n=Ni(t);n!==null&&n.tag===5&&n.type==="form"?U_(n):es.r(t)}var no=typeof document>"u"?null:document;function yv(t,n,o){var u=no;if(u&&typeof n=="string"&&n){var d=zt(n);d='link[rel="'+t+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),vv.has(d)||(vv.add(d),t={rel:t,crossOrigin:o,href:n},u.querySelector(d)===null&&(n=u.createElement("link"),Ht(n,"link",t),yt(n),u.head.appendChild(n)))}}function WE(t){es.D(t),yv("dns-prefetch",t,null)}function KE(t,n){es.C(t,n),yv("preconnect",t,n)}function XE(t,n,o){es.L(t,n,o);var u=no;if(u&&t&&n){var d='link[rel="preload"][as="'+zt(n)+'"]';n==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+zt(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+zt(o.imageSizes)+'"]')):d+='[href="'+zt(t)+'"]';var p=d;switch(n){case"style":p=io(t);break;case"script":p=so(t)}Bn.has(p)||(t=C({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:t,as:n},o),Bn.set(p,t),u.querySelector(d)!==null||n==="style"&&u.querySelector(Al(p))||n==="script"&&u.querySelector(Rl(p))||(n=u.createElement("link"),Ht(n,"link",t),yt(n),u.head.appendChild(n)))}}function QE(t,n){es.m(t,n);var o=no;if(o&&t){var u=n&&typeof n.as=="string"?n.as:"script",d='link[rel="modulepreload"][as="'+zt(u)+'"][href="'+zt(t)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=so(t)}if(!Bn.has(p)&&(t=C({rel:"modulepreload",href:t},n),Bn.set(p,t),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Rl(p)))return}u=o.createElement("link"),Ht(u,"link",t),yt(u),o.head.appendChild(u)}}}function $E(t,n,o){es.S(t,n,o);var u=no;if(u&&t){var d=Ai(u).hoistableStyles,p=io(t);n=n||"default";var S=d.get(p);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(Al(p)))T.loading=5;else{t=C({rel:"stylesheet",href:t,"data-precedence":n},o),(o=Bn.get(p))&&Hd(t,o);var O=S=u.createElement("link");yt(O),Ht(O,"link",t),O._p=new Promise(function(B,G){O.onload=B,O.onerror=G}),O.addEventListener("load",function(){T.loading|=1}),O.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Wc(S,n,u)}S={type:"stylesheet",instance:S,count:1,state:T},d.set(p,S)}}}function JE(t,n){es.X(t,n);var o=no;if(o&&t){var u=Ai(o).hoistableScripts,d=so(t),p=u.get(d);p||(p=o.querySelector(Rl(d)),p||(t=C({src:t,async:!0},n),(n=Bn.get(d))&&Fd(t,n),p=o.createElement("script"),yt(p),Ht(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function ew(t,n){es.M(t,n);var o=no;if(o&&t){var u=Ai(o).hoistableScripts,d=so(t),p=u.get(d);p||(p=o.querySelector(Rl(d)),p||(t=C({src:t,async:!0,type:"module"},n),(n=Bn.get(d))&&Fd(t,n),p=o.createElement("script"),yt(p),Ht(p,"link",t),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function bv(t,n,o,u){var d=(d=se.current)?Yc(d):null;if(!d)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=io(o.href),o=Ai(d).hoistableStyles,u=o.get(n),u||(u={type:"style",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){t=io(o.href);var p=Ai(d).hoistableStyles,S=p.get(t);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(t,S),(p=d.querySelector(Al(t)))&&!p._p&&(S.instance=p,S.state.loading=5),Bn.has(t)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Bn.set(t,o),p||tw(d,t,o,S.state))),n&&u===null)throw Error(a(528,""));return S}if(n&&u!==null)throw Error(a(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=so(o),o=Ai(d).hoistableScripts,u=o.get(n),u||(u={type:"script",instance:null,count:0,state:null},o.set(n,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function io(t){return'href="'+zt(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Sv(t){return C({},t,{"data-precedence":t.precedence,precedence:null})}function tw(t,n,o,u){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?u.loading=1:(n=t.createElement("link"),u.preload=n,n.addEventListener("load",function(){return u.loading|=1}),n.addEventListener("error",function(){return u.loading|=2}),Ht(n,"link",o),yt(n),t.head.appendChild(n))}function so(t){return'[src="'+zt(t)+'"]'}function Rl(t){return"script[async]"+t}function Ev(t,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var u=t.querySelector('style[data-href~="'+zt(o.href)+'"]');if(u)return n.instance=u,yt(u),u;var d=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(t.ownerDocument||t).createElement("style"),yt(u),Ht(u,"style",d),Wc(u,o.precedence,t),n.instance=u;case"stylesheet":d=io(o.href);var p=t.querySelector(Al(d));if(p)return n.state.loading|=4,n.instance=p,yt(p),p;u=Sv(o),(d=Bn.get(d))&&Hd(u,d),p=(t.ownerDocument||t).createElement("link"),yt(p);var S=p;return S._p=new Promise(function(T,O){S.onload=T,S.onerror=O}),Ht(p,"link",u),n.state.loading|=4,Wc(p,o.precedence,t),n.instance=p;case"script":return p=so(o.src),(d=t.querySelector(Rl(p)))?(n.instance=d,yt(d),d):(u=o,(d=Bn.get(p))&&(u=C({},o),Fd(u,d)),t=t.ownerDocument||t,d=t.createElement("script"),yt(d),Ht(d,"link",u),t.head.appendChild(d),n.instance=d);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(u=n.instance,n.state.loading|=4,Wc(u,o.precedence,t));return n.instance}function Wc(t,n,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===n)p=T;else if(p!==d)break}p?p.parentNode.insertBefore(t,p.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(t,n.firstChild))}function Hd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function Fd(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var Kc=null;function wv(t,n,o){if(Kc===null){var u=new Map,d=Kc=new Map;d.set(o,u)}else d=Kc,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(t))return u;for(u.set(t,null),o=o.getElementsByTagName(t),d=0;d<o.length;d++){var p=o[d];if(!(p[Es]||p[Nt]||t==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(n)||"";S=t+S;var T=u.get(S);T?T.push(p):u.set(S,[p])}}return u}function Tv(t,n,o){t=t.ownerDocument||t,t.head.insertBefore(o,n==="title"?t.querySelector("head > title"):null)}function nw(t,n,o){if(o===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Cv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function iw(){}function sw(t,n,o){if(Ol===null)throw Error(a(475));var u=Ol;if(n.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var d=io(o.href),p=t.querySelector(Al(d));if(p){t=p._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(u.count++,u=Xc.bind(u),t.then(u,u)),n.state.loading|=4,n.instance=p,yt(p);return}p=t.ownerDocument||t,o=Sv(o),(d=Bn.get(d))&&Hd(o,d),p=p.createElement("link"),yt(p);var S=p;S._p=new Promise(function(T,O){S.onload=T,S.onerror=O}),Ht(p,"link",o),n.instance=p}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(u.count++,n=Xc.bind(u),t.addEventListener("load",n),t.addEventListener("error",n))}}function rw(){if(Ol===null)throw Error(a(475));var t=Ol;return t.stylesheets&&t.count===0&&qd(t,t.stylesheets),0<t.count?function(n){var o=setTimeout(function(){if(t.stylesheets&&qd(t,t.stylesheets),t.unsuspend){var u=t.unsuspend;t.unsuspend=null,u()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(o)}}:null}function Xc(){if(this.count--,this.count===0){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function qd(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,n.forEach(aw,t),Qc=null,Xc.call(t))}function aw(t,n){if(!(n.state.loading&4)){var o=Qc.get(t);if(o)var u=o.get(null);else{o=new Map,Qc.set(t,o);for(var d=t.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=n.instance,S=d.getAttribute("data-precedence"),p=o.get(S)||u,p===u&&o.set(null,d),o.set(S,d),this.count++,u=Xc.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(d,t.firstChild)),n.state.loading|=4}}var Ll={$$typeof:$,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function ow(t,n,o,u,d,p,S,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function xv(t,n,o,u,d,p,S,T,O,B,G,K){return t=new ow(t,n,o,S,T,O,B,K),n=1,p===!0&&(n|=24),p=nn(3,null,null,n),t.current=p,p.stateNode=t,n=Tf(),n.refCount++,t.pooledCache=n,n.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:n},Af(p),t}function Nv(t){return t?(t=Vi,t):Vi}function Av(t,n,o,u,d,p){d=Nv(d),u.context===null?u.context=d:u.pendingContext=d,u=Gs(n),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Ys(t,u,n),o!==null&&(Nn(o,t,n),ol(o,t,n))}function Rv(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<n?o:n}}function Zd(t,n){Rv(t,n),(t=t.alternate)&&Rv(t,n)}function Ov(t){if(t.tag===13){var n=Hs(t,67108864);n!==null&&Nn(n,t,67108864),Zd(t,67108864)}}var $c=!0;function lw(t,n,o,u){var d=Z.T;Z.T=null;var p=ae.p;try{ae.p=2,Vd(t,n,o,u)}finally{ae.p=p,Z.T=d}}function uw(t,n,o,u){var d=Z.T;Z.T=null;var p=ae.p;try{ae.p=8,Vd(t,n,o,u)}finally{ae.p=p,Z.T=d}}function Vd(t,n,o,u){if($c){var d=Gd(u);if(d===null)Md(t,n,u,Jc,o),Mv(t,u);else if(hw(d,t,n,o,u))u.stopPropagation();else if(Mv(t,u),n&4&&-1<cw.indexOf(t)){for(;d!==null;){var p=Ni(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=li(p.pendingLanes);if(S!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var O=1<<31-Xt(S);T.entanglements[1]|=O,S&=~O}Si(p),(Ge&6)===0&&(Pc=on()+500,Tl(0))}}break;case 13:T=Hs(p,2),T!==null&&Nn(T,p,2),Uc(),Zd(p,2)}if(p=Gd(u),p===null&&Md(t,n,u,Jc,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Md(t,n,u,null,o)}}function Gd(t){return t=Rs(t),Yd(t)}var Jc=null;function Yd(t){if(Jc=null,t=ci(t),t!==null){var n=h(t);if(n===null)t=null;else{var o=n.tag;if(o===13){if(t=m(n),t!==null)return t;t=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return Jc=t,null}function Lv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pa()){case Lu:return 2;case Io:return 8;case vs:case Mu:return 32;case ko:return 268435456;default:return 32}default:return 32}}var Wd=!1,ar=null,or=null,lr=null,Ml=new Map,Il=new Map,ur=[],cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mv(t,n){switch(t){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":or=null;break;case"mouseover":case"mouseout":lr=null;break;case"pointerover":case"pointerout":Ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(n.pointerId)}}function kl(t,n,o,u,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:n,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},n!==null&&(n=Ni(n),n!==null&&Ov(n)),t):(t.eventSystemFlags|=u,n=t.targetContainers,d!==null&&n.indexOf(d)===-1&&n.push(d),t)}function hw(t,n,o,u,d){switch(n){case"focusin":return ar=kl(ar,t,n,o,u,d),!0;case"dragenter":return or=kl(or,t,n,o,u,d),!0;case"mouseover":return lr=kl(lr,t,n,o,u,d),!0;case"pointerover":var p=d.pointerId;return Ml.set(p,kl(Ml.get(p)||null,t,n,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Il.set(p,kl(Il.get(p)||null,t,n,o,u,d)),!0}return!1}function Iv(t){var n=ci(t.target);if(n!==null){var o=h(n);if(o!==null){if(n=o.tag,n===13){if(n=m(o),n!==null){t.blockedOn=n,Uo(t.priority,function(){if(o.tag===13){var u=xn();u=Po(u);var d=Hs(o,u);d!==null&&Nn(d,o,u),Zd(o,u)}});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function eh(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var o=Gd(t.nativeEvent);if(o===null){o=t.nativeEvent;var u=new o.constructor(o.type,o);Mr=u,o.target.dispatchEvent(u),Mr=null}else return n=Ni(o),n!==null&&Ov(n),t.blockedOn=o,!1;n.shift()}return!0}function kv(t,n,o){eh(t)&&o.delete(n)}function fw(){Wd=!1,ar!==null&&eh(ar)&&(ar=null),or!==null&&eh(or)&&(or=null),lr!==null&&eh(lr)&&(lr=null),Ml.forEach(kv),Il.forEach(kv)}function th(t,n){t.blockedOn===n&&(t.blockedOn=null,Wd||(Wd=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,fw)))}var nh=null;function Dv(t){nh!==t&&(nh=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){nh===t&&(nh=null);for(var n=0;n<t.length;n+=3){var o=t[n],u=t[n+1],d=t[n+2];if(typeof u!="function"){if(Yd(u||o)===null)continue;break}var p=Ni(o);p!==null&&(t.splice(n,3),n-=3,Yf(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function Dl(t){function n(O){return th(O,t)}ar!==null&&th(ar,t),or!==null&&th(or,t),lr!==null&&th(lr,t),Ml.forEach(n),Il.forEach(n);for(var o=0;o<ur.length;o++){var u=ur[o];u.blockedOn===t&&(u.blockedOn=null)}for(;0<ur.length&&(o=ur[0],o.blockedOn===null);)Iv(o),o.blockedOn===null&&ur.shift();if(o=(t.ownerDocument||t).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],S=d[Zt]||null;if(typeof p=="function")S||Dv(o);else if(S){var T=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[Zt]||null)T=S.formAction;else if(Yd(d)!==null)continue}else T=S.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),Dv(o)}}}function Kd(t){this._internalRoot=t}ih.prototype.render=Kd.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var o=n.current,u=xn();Av(o,u,t,n,null,null)},ih.prototype.unmount=Kd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Av(t.current,2,null,t,null,null),Uc(),n[Ss]=null}};function ih(t){this._internalRoot=t}ih.prototype.unstable_scheduleHydration=function(t){if(t){var n=Uu();t={blockedOn:null,target:t,priority:n};for(var o=0;o<ur.length&&n!==0&&n<ur[o].priority;o++);ur.splice(o,0,t),o===0&&Iv(t)}};var Pv=e.version;if(Pv!=="19.1.0")throw Error(a(527,Pv,"19.1.0"));ae.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=g(n),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var dw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{xi=sh.inject(dw),qt=sh}catch{}}return zl.createRoot=function(t,n){if(!c(t))throw Error(a(299));var o=!1,u="",d=$_,p=J_,S=eg,T=null;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(u=n.identifierPrefix),n.onUncaughtError!==void 0&&(d=n.onUncaughtError),n.onCaughtError!==void 0&&(p=n.onCaughtError),n.onRecoverableError!==void 0&&(S=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=xv(t,1,!1,null,null,o,u,d,p,S,T,null),t[Ss]=n.current,Ld(t),new Kd(n)},zl.hydrateRoot=function(t,n,o){if(!c(t))throw Error(a(299));var u=!1,d="",p=$_,S=J_,T=eg,O=null,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(O=o.unstable_transitionCallbacks),o.formState!==void 0&&(B=o.formState)),n=xv(t,1,!0,n,o??null,u,d,p,S,T,O,B),n.context=Nv(null),o=n.current,u=xn(),u=Po(u),d=Gs(u),d.callback=null,Ys(o,d,u),o=u,n.current.lanes=o,bs(n,o),Si(n),t[Ss]=n.current,Ld(t),new ih(n)},zl.version="19.1.0",zl}var Gv;function Tw(){if(Gv)return Jd.exports;Gv=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Jd.exports=ww(),Jd.exports}var Cw=Tw(),Ul={},Yv;function xw(){if(Yv)return Ul;Yv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=m,Ul.serialize=y;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,a=/^[\u0020-\u003A\u003D-\u007E]*$/,c=Object.prototype.toString,h=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function m(N,D){const k=new h,U=N.length;if(U<2)return k;const Y=(D==null?void 0:D.decode)||C;let X=0;do{const ee=N.indexOf("=",X);if(ee===-1)break;const $=N.indexOf(";",X),ce=$===-1?U:$;if(ee>ce){X=N.lastIndexOf(";",ee-1)+1;continue}const re=v(N,X,ee),De=g(N,ee,re),_e=N.slice(re,De);if(k[_e]===void 0){let xe=v(N,ee+1,ce),ye=g(N,ce,xe);const et=Y(N.slice(xe,ye));k[_e]=et}X=ce+1}while(X<U);return k}function v(N,D,k){do{const U=N.charCodeAt(D);if(U!==32&&U!==9)return D}while(++D<k);return k}function g(N,D,k){for(;D>k;){const U=N.charCodeAt(--D);if(U!==32&&U!==9)return D+1}return k}function y(N,D,k){const U=(k==null?void 0:k.encode)||encodeURIComponent;if(!s.test(N))throw new TypeError(`argument name is invalid: ${N}`);const Y=U(D);if(!e.test(Y))throw new TypeError(`argument val is invalid: ${D}`);let X=N+"="+Y;if(!k)return X;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);X+="; Max-Age="+k.maxAge}if(k.domain){if(!i.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);X+="; Domain="+k.domain}if(k.path){if(!a.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);X+="; Path="+k.path}if(k.expires){if(!x(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);X+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(X+="; HttpOnly"),k.secure&&(X+="; Secure"),k.partitioned&&(X+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":X+="; Priority=Low";break;case"medium":X+="; Priority=Medium";break;case"high":X+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":X+="; SameSite=Strict";break;case"lax":X+="; SameSite=Lax";break;case"none":X+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return X}function C(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function x(N){return c.call(N)==="[object Date]"}return Ul}xw();var Wv="popstate";function Nw(s={}){function e(a,c){let{pathname:h,search:m,hash:v}=a.location;return Sm("",{pathname:h,search:m,hash:v},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function i(a,c){return typeof c=="string"?c:nu(c)}return Rw(e,i,null,s)}function ut(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function ai(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Aw(){return Math.random().toString(36).substring(2,10)}function Kv(s,e){return{usr:s.state,key:s.key,idx:e}}function Sm(s,e,i=null,a){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:i,key:e&&e.key||a||Aw()}}function nu({pathname:s="/",search:e="",hash:i=""}){return e&&e!=="?"&&(s+=e.charAt(0)==="?"?e:"?"+e),i&&i!=="#"&&(s+=i.charAt(0)==="#"?i:"#"+i),s}function So(s){let e={};if(s){let i=s.indexOf("#");i>=0&&(e.hash=s.substring(i),s=s.substring(0,i));let a=s.indexOf("?");a>=0&&(e.search=s.substring(a),s=s.substring(0,a)),s&&(e.pathname=s)}return e}function Rw(s,e,i,a={}){let{window:c=document.defaultView,v5Compat:h=!1}=a,m=c.history,v="POP",g=null,y=C();y==null&&(y=0,m.replaceState({...m.state,idx:y},""));function C(){return(m.state||{idx:null}).idx}function x(){v="POP";let Y=C(),X=Y==null?null:Y-y;y=Y,g&&g({action:v,location:U.location,delta:X})}function N(Y,X){v="PUSH";let ee=Sm(U.location,Y,X);y=C()+1;let $=Kv(ee,y),ce=U.createHref(ee);try{m.pushState($,"",ce)}catch(re){if(re instanceof DOMException&&re.name==="DataCloneError")throw re;c.location.assign(ce)}h&&g&&g({action:v,location:U.location,delta:1})}function D(Y,X){v="REPLACE";let ee=Sm(U.location,Y,X);y=C();let $=Kv(ee,y),ce=U.createHref(ee);m.replaceState($,"",ce),h&&g&&g({action:v,location:U.location,delta:0})}function k(Y){return Ow(Y)}let U={get action(){return v},get location(){return s(c,m)},listen(Y){if(g)throw new Error("A history only accepts one active listener");return c.addEventListener(Wv,x),g=Y,()=>{c.removeEventListener(Wv,x),g=null}},createHref(Y){return e(c,Y)},createURL:k,encodeLocation(Y){let X=k(Y);return{pathname:X.pathname,search:X.search,hash:X.hash}},push:N,replace:D,go(Y){return m.go(Y)}};return U}function Ow(s,e=!1){let i="http://localhost";typeof window<"u"&&(i=window.location.origin!=="null"?window.location.origin:window.location.href),ut(i,"No window.location.(origin|href) available to create URL");let a=typeof s=="string"?s:nu(s);return a=a.replace(/ $/,"%20"),!e&&a.startsWith("//")&&(a=i+a),new URL(a,i)}function _0(s,e,i="/"){return Lw(s,e,i,!1)}function Lw(s,e,i,a){let c=typeof e=="string"?So(e):e,h=ls(c.pathname||"/",i);if(h==null)return null;let m=g0(s);Mw(m);let v=null;for(let g=0;v==null&&g<m.length;++g){let y=qw(h);v=Hw(m[g],y,a)}return v}function g0(s,e=[],i=[],a=""){let c=(h,m,v)=>{let g={relativePath:v===void 0?h.path||"":v,caseSensitive:h.caseSensitive===!0,childrenIndex:m,route:h};g.relativePath.startsWith("/")&&(ut(g.relativePath.startsWith(a),`Absolute route path "${g.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(a.length));let y=rs([a,g.relativePath]),C=i.concat(g);h.children&&h.children.length>0&&(ut(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),g0(h.children,e,C,y)),!(h.path==null&&!h.index)&&e.push({path:y,score:jw(y,h.index),routesMeta:C})};return s.forEach((h,m)=>{var v;if(h.path===""||!((v=h.path)!=null&&v.includes("?")))c(h,m);else for(let g of v0(h.path))c(h,m,g)}),e}function v0(s){let e=s.split("/");if(e.length===0)return[];let[i,...a]=e,c=i.endsWith("?"),h=i.replace(/\?$/,"");if(a.length===0)return c?[h,""]:[h];let m=v0(a.join("/")),v=[];return v.push(...m.map(g=>g===""?h:[h,g].join("/"))),c&&v.push(...m),v.map(g=>s.startsWith("/")&&g===""?"/":g)}function Mw(s){s.sort((e,i)=>e.score!==i.score?i.score-e.score:Bw(e.routesMeta.map(a=>a.childrenIndex),i.routesMeta.map(a=>a.childrenIndex)))}var Iw=/^:[\w-]+$/,kw=3,Dw=2,Pw=1,zw=10,Uw=-2,Xv=s=>s==="*";function jw(s,e){let i=s.split("/"),a=i.length;return i.some(Xv)&&(a+=Uw),e&&(a+=Dw),i.filter(c=>!Xv(c)).reduce((c,h)=>c+(Iw.test(h)?kw:h===""?Pw:zw),a)}function Bw(s,e){return s.length===e.length&&s.slice(0,-1).every((a,c)=>a===e[c])?s[s.length-1]-e[e.length-1]:0}function Hw(s,e,i=!1){let{routesMeta:a}=s,c={},h="/",m=[];for(let v=0;v<a.length;++v){let g=a[v],y=v===a.length-1,C=h==="/"?e:e.slice(h.length)||"/",x=_h({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},C),N=g.route;if(!x&&y&&i&&!a[a.length-1].route.index&&(x=_h({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},C)),!x)return null;Object.assign(c,x.params),m.push({params:c,pathname:rs([h,x.pathname]),pathnameBase:Yw(rs([h,x.pathnameBase])),route:N}),x.pathnameBase!=="/"&&(h=rs([h,x.pathnameBase]))}return m}function _h(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[i,a]=Fw(s.path,s.caseSensitive,s.end),c=e.match(i);if(!c)return null;let h=c[0],m=h.replace(/(.)\/+$/,"$1"),v=c.slice(1);return{params:a.reduce((y,{paramName:C,isOptional:x},N)=>{if(C==="*"){let k=v[N]||"";m=h.slice(0,h.length-k.length).replace(/(.)\/+$/,"$1")}const D=v[N];return x&&!D?y[C]=void 0:y[C]=(D||"").replace(/%2F/g,"/"),y},{}),pathname:h,pathnameBase:m,pattern:s}}function Fw(s,e=!1,i=!0){ai(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let a=[],c="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(m,v,g)=>(a.push({paramName:v,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(a.push({paramName:"*"}),c+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):i?c+="\\/*$":s!==""&&s!=="/"&&(c+="(?:(?=\\/|$))"),[new RegExp(c,e?void 0:"i"),a]}function qw(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ai(!1,`The URL path "${s}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),s}}function ls(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let i=e.endsWith("/")?e.length-1:e.length,a=s.charAt(i);return a&&a!=="/"?null:s.slice(i)||"/"}function Zw(s,e="/"){let{pathname:i,search:a="",hash:c=""}=typeof s=="string"?So(s):s;return{pathname:i?i.startsWith("/")?i:Vw(i,e):e,search:Ww(a),hash:Kw(c)}}function Vw(s,e){let i=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(c=>{c===".."?i.length>1&&i.pop():c!=="."&&i.push(c)}),i.length>1?i.join("/"):"/"}function im(s,e,i,a){return`Cannot include a '${s}' character in a manually specified \`to.${e}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${i}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gw(s){return s.filter((e,i)=>i===0||e.route.path&&e.route.path.length>0)}function Zm(s){let e=Gw(s);return e.map((i,a)=>a===e.length-1?i.pathname:i.pathnameBase)}function Vm(s,e,i,a=!1){let c;typeof s=="string"?c=So(s):(c={...s},ut(!c.pathname||!c.pathname.includes("?"),im("?","pathname","search",c)),ut(!c.pathname||!c.pathname.includes("#"),im("#","pathname","hash",c)),ut(!c.search||!c.search.includes("#"),im("#","search","hash",c)));let h=s===""||c.pathname==="",m=h?"/":c.pathname,v;if(m==null)v=i;else{let x=e.length-1;if(!a&&m.startsWith("..")){let N=m.split("/");for(;N[0]==="..";)N.shift(),x-=1;c.pathname=N.join("/")}v=x>=0?e[x]:"/"}let g=Zw(c,v),y=m&&m!=="/"&&m.endsWith("/"),C=(h||m===".")&&i.endsWith("/");return!g.pathname.endsWith("/")&&(y||C)&&(g.pathname+="/"),g}var rs=s=>s.join("/").replace(/\/\/+/g,"/"),Yw=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ww=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Kw=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Xw(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var y0=["POST","PUT","PATCH","DELETE"];new Set(y0);var Qw=["GET",...y0];new Set(Qw);var Eo=I.createContext(null);Eo.displayName="DataRouter";var Bh=I.createContext(null);Bh.displayName="DataRouterState";var b0=I.createContext({isTransitioning:!1});b0.displayName="ViewTransition";var $w=I.createContext(new Map);$w.displayName="Fetchers";var Jw=I.createContext(null);Jw.displayName="Await";var oi=I.createContext(null);oi.displayName="Navigation";var mu=I.createContext(null);mu.displayName="Location";var wi=I.createContext({outlet:null,matches:[],isDataRoute:!1});wi.displayName="Route";var Gm=I.createContext(null);Gm.displayName="RouteError";function eT(s,{relative:e}={}){ut(wo(),"useHref() may be used only in the context of a <Router> component.");let{basename:i,navigator:a}=I.useContext(oi),{hash:c,pathname:h,search:m}=pu(s,{relative:e}),v=h;return i!=="/"&&(v=h==="/"?i:rs([i,h])),a.createHref({pathname:v,search:m,hash:c})}function wo(){return I.useContext(mu)!=null}function fs(){return ut(wo(),"useLocation() may be used only in the context of a <Router> component."),I.useContext(mu).location}var S0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E0(s){I.useContext(oi).static||I.useLayoutEffect(s)}function Hh(){let{isDataRoute:s}=I.useContext(wi);return s?dT():tT()}function tT(){ut(wo(),"useNavigate() may be used only in the context of a <Router> component.");let s=I.useContext(Eo),{basename:e,navigator:i}=I.useContext(oi),{matches:a}=I.useContext(wi),{pathname:c}=fs(),h=JSON.stringify(Zm(a)),m=I.useRef(!1);return E0(()=>{m.current=!0}),I.useCallback((g,y={})=>{if(ai(m.current,S0),!m.current)return;if(typeof g=="number"){i.go(g);return}let C=Vm(g,JSON.parse(h),c,y.relative==="path");s==null&&e!=="/"&&(C.pathname=C.pathname==="/"?e:rs([e,C.pathname])),(y.replace?i.replace:i.push)(C,y.state,y)},[e,i,h,c,s])}I.createContext(null);function pu(s,{relative:e}={}){let{matches:i}=I.useContext(wi),{pathname:a}=fs(),c=JSON.stringify(Zm(i));return I.useMemo(()=>Vm(s,JSON.parse(c),a,e==="path"),[s,c,a,e])}function nT(s,e){return w0(s,e)}function w0(s,e,i,a){var X;ut(wo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=I.useContext(oi),{matches:h}=I.useContext(wi),m=h[h.length-1],v=m?m.params:{},g=m?m.pathname:"/",y=m?m.pathnameBase:"/",C=m&&m.route;{let ee=C&&C.path||"";T0(g,!C||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let x=fs(),N;if(e){let ee=typeof e=="string"?So(e):e;ut(y==="/"||((X=ee.pathname)==null?void 0:X.startsWith(y)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${y}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),N=ee}else N=x;let D=N.pathname||"/",k=D;if(y!=="/"){let ee=y.replace(/^\//,"").split("/");k="/"+D.replace(/^\//,"").split("/").slice(ee.length).join("/")}let U=_0(s,{pathname:k});ai(C||U!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),ai(U==null||U[U.length-1].route.element!==void 0||U[U.length-1].route.Component!==void 0||U[U.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=oT(U&&U.map(ee=>Object.assign({},ee,{params:Object.assign({},v,ee.params),pathname:rs([y,c.encodeLocation?c.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?y:rs([y,c.encodeLocation?c.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),h,i,a);return e&&Y?I.createElement(mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Y):Y}function iT(){let s=fT(),e=Xw(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),i=s instanceof Error?s.stack:null,a="rgba(200,200,200, 0.5)",c={padding:"0.5rem",backgroundColor:a},h={padding:"2px 4px",backgroundColor:a},m=null;return console.error("Error handled by React Router default ErrorBoundary:",s),m=I.createElement(I.Fragment,null,I.createElement("p",null,"💿 Hey developer 👋"),I.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",I.createElement("code",{style:h},"ErrorBoundary")," or"," ",I.createElement("code",{style:h},"errorElement")," prop on your route.")),I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),i?I.createElement("pre",{style:c},i):null,m)}var sT=I.createElement(iT,null),rT=class extends I.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,e){return e.location!==s.location||e.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:e.error,location:e.location,revalidation:s.revalidation||e.revalidation}}componentDidCatch(s,e){console.error("React Router caught the following error during render",s,e)}render(){return this.state.error!==void 0?I.createElement(wi.Provider,{value:this.props.routeContext},I.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aT({routeContext:s,match:e,children:i}){let a=I.useContext(Eo);return a&&a.static&&a.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=e.route.id),I.createElement(wi.Provider,{value:s},i)}function oT(s,e=[],i=null,a=null){if(s==null){if(!i)return null;if(i.errors)s=i.matches;else if(e.length===0&&!i.initialized&&i.matches.length>0)s=i.matches;else return null}let c=s,h=i==null?void 0:i.errors;if(h!=null){let g=c.findIndex(y=>y.route.id&&(h==null?void 0:h[y.route.id])!==void 0);ut(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),c=c.slice(0,Math.min(c.length,g+1))}let m=!1,v=-1;if(i)for(let g=0;g<c.length;g++){let y=c[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(v=g),y.route.id){let{loaderData:C,errors:x}=i,N=y.route.loader&&!C.hasOwnProperty(y.route.id)&&(!x||x[y.route.id]===void 0);if(y.route.lazy||N){m=!0,v>=0?c=c.slice(0,v+1):c=[c[0]];break}}}return c.reduceRight((g,y,C)=>{let x,N=!1,D=null,k=null;i&&(x=h&&y.route.id?h[y.route.id]:void 0,D=y.route.errorElement||sT,m&&(v<0&&C===0?(T0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,k=null):v===C&&(N=!0,k=y.route.hydrateFallbackElement||null)));let U=e.concat(c.slice(0,C+1)),Y=()=>{let X;return x?X=D:N?X=k:y.route.Component?X=I.createElement(y.route.Component,null):y.route.element?X=y.route.element:X=g,I.createElement(aT,{match:y,routeContext:{outlet:g,matches:U,isDataRoute:i!=null},children:X})};return i&&(y.route.ErrorBoundary||y.route.errorElement||C===0)?I.createElement(rT,{location:i.location,revalidation:i.revalidation,component:D,error:x,children:Y(),routeContext:{outlet:null,matches:U,isDataRoute:!0}}):Y()},null)}function Ym(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lT(s){let e=I.useContext(Eo);return ut(e,Ym(s)),e}function uT(s){let e=I.useContext(Bh);return ut(e,Ym(s)),e}function cT(s){let e=I.useContext(wi);return ut(e,Ym(s)),e}function Wm(s){let e=cT(s),i=e.matches[e.matches.length-1];return ut(i.route.id,`${s} can only be used on routes that contain a unique "id"`),i.route.id}function hT(){return Wm("useRouteId")}function fT(){var a;let s=I.useContext(Gm),e=uT("useRouteError"),i=Wm("useRouteError");return s!==void 0?s:(a=e.errors)==null?void 0:a[i]}function dT(){let{router:s}=lT("useNavigate"),e=Wm("useNavigate"),i=I.useRef(!1);return E0(()=>{i.current=!0}),I.useCallback(async(c,h={})=>{ai(i.current,S0),i.current&&(typeof c=="number"?s.navigate(c):await s.navigate(c,{fromRouteId:e,...h}))},[s,e])}var Qv={};function T0(s,e,i){!e&&!Qv[s]&&(Qv[s]=!0,ai(!1,i))}I.memo(mT);function mT({routes:s,future:e,state:i}){return w0(s,void 0,i,e)}function C0({to:s,replace:e,state:i,relative:a}){ut(wo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=I.useContext(oi);ai(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:h}=I.useContext(wi),{pathname:m}=fs(),v=Hh(),g=Vm(s,Zm(h),m,a==="path"),y=JSON.stringify(g);return I.useEffect(()=>{v(JSON.parse(y),{replace:e,state:i,relative:a})},[v,y,a,e,i]),null}function na(s){ut(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function pT({basename:s="/",children:e=null,location:i,navigationType:a="POP",navigator:c,static:h=!1}){ut(!wo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let m=s.replace(/^\/*/,"/"),v=I.useMemo(()=>({basename:m,navigator:c,static:h,future:{}}),[m,c,h]);typeof i=="string"&&(i=So(i));let{pathname:g="/",search:y="",hash:C="",state:x=null,key:N="default"}=i,D=I.useMemo(()=>{let k=ls(g,m);return k==null?null:{location:{pathname:k,search:y,hash:C,state:x,key:N},navigationType:a}},[m,g,y,C,x,N,a]);return ai(D!=null,`<Router basename="${m}"> is not able to match the URL "${g}${y}${C}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:I.createElement(oi.Provider,{value:v},I.createElement(mu.Provider,{children:e,value:D}))}function _T({children:s,location:e}){return nT(Em(s),e)}function Em(s,e=[]){let i=[];return I.Children.forEach(s,(a,c)=>{if(!I.isValidElement(a))return;let h=[...e,c];if(a.type===I.Fragment){i.push.apply(i,Em(a.props.children,h));return}ut(a.type===na,`[${typeof a.type=="string"?a.type:a.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ut(!a.props.index||!a.props.children,"An index route cannot have child routes.");let m={id:a.props.id||h.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,hydrateFallbackElement:a.props.hydrateFallbackElement,HydrateFallback:a.props.HydrateFallback,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.hasErrorBoundary===!0||a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(m.children=Em(a.props.children,h)),i.push(m)}),i}var uh="get",ch="application/x-www-form-urlencoded";function Fh(s){return s!=null&&typeof s.tagName=="string"}function gT(s){return Fh(s)&&s.tagName.toLowerCase()==="button"}function vT(s){return Fh(s)&&s.tagName.toLowerCase()==="form"}function yT(s){return Fh(s)&&s.tagName.toLowerCase()==="input"}function bT(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function ST(s,e){return s.button===0&&(!e||e==="_self")&&!bT(s)}var rh=null;function ET(){if(rh===null)try{new FormData(document.createElement("form"),0),rh=!1}catch{rh=!0}return rh}var wT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function sm(s){return s!=null&&!wT.has(s)?(ai(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ch}"`),null):s}function TT(s,e){let i,a,c,h,m;if(vT(s)){let v=s.getAttribute("action");a=v?ls(v,e):null,i=s.getAttribute("method")||uh,c=sm(s.getAttribute("enctype"))||ch,h=new FormData(s)}else if(gT(s)||yT(s)&&(s.type==="submit"||s.type==="image")){let v=s.form;if(v==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=s.getAttribute("formaction")||v.getAttribute("action");if(a=g?ls(g,e):null,i=s.getAttribute("formmethod")||v.getAttribute("method")||uh,c=sm(s.getAttribute("formenctype"))||sm(v.getAttribute("enctype"))||ch,h=new FormData(v,s),!ET()){let{name:y,type:C,value:x}=s;if(C==="image"){let N=y?`${y}.`:"";h.append(`${N}x`,"0"),h.append(`${N}y`,"0")}else y&&h.append(y,x)}}else{if(Fh(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');i=uh,a=null,c=ch,m=s}return h&&c==="text/plain"&&(m=h,h=void 0),{action:a,method:i.toLowerCase(),encType:c,formData:h,body:m}}function Km(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}async function CT(s,e){if(s.id in e)return e[s.id];try{let i=await import(s.module);return e[s.id]=i,i}catch(i){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(i),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function xT(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function NT(s,e,i){let a=await Promise.all(s.map(async c=>{let h=e.routes[c.route.id];if(h){let m=await CT(h,i);return m.links?m.links():[]}return[]}));return LT(a.flat(1).filter(xT).filter(c=>c.rel==="stylesheet"||c.rel==="preload").map(c=>c.rel==="stylesheet"?{...c,rel:"prefetch",as:"style"}:{...c,rel:"prefetch"}))}function $v(s,e,i,a,c,h){let m=(g,y)=>i[y]?g.route.id!==i[y].route.id:!0,v=(g,y)=>{var C;return i[y].pathname!==g.pathname||((C=i[y].route.path)==null?void 0:C.endsWith("*"))&&i[y].params["*"]!==g.params["*"]};return h==="assets"?e.filter((g,y)=>m(g,y)||v(g,y)):h==="data"?e.filter((g,y)=>{var x;let C=a.routes[g.route.id];if(!C||!C.hasLoader)return!1;if(m(g,y)||v(g,y))return!0;if(g.route.shouldRevalidate){let N=g.route.shouldRevalidate({currentUrl:new URL(c.pathname+c.search+c.hash,window.origin),currentParams:((x=i[0])==null?void 0:x.params)||{},nextUrl:new URL(s,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function AT(s,e,{includeHydrateFallback:i}={}){return RT(s.map(a=>{let c=e.routes[a.route.id];if(!c)return[];let h=[c.module];return c.clientActionModule&&(h=h.concat(c.clientActionModule)),c.clientLoaderModule&&(h=h.concat(c.clientLoaderModule)),i&&c.hydrateFallbackModule&&(h=h.concat(c.hydrateFallbackModule)),c.imports&&(h=h.concat(c.imports)),h}).flat(1))}function RT(s){return[...new Set(s)]}function OT(s){let e={},i=Object.keys(s).sort();for(let a of i)e[a]=s[a];return e}function LT(s,e){let i=new Set;return new Set(e),s.reduce((a,c)=>{let h=JSON.stringify(OT(c));return i.has(h)||(i.add(h),a.push({key:h,link:c})),a},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var MT=new Set([100,101,204,205]);function IT(s,e){let i=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return i.pathname==="/"?i.pathname="_root.data":e&&ls(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.data`:i.pathname=`${i.pathname.replace(/\/$/,"")}.data`,i}function x0(){let s=I.useContext(Eo);return Km(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function kT(){let s=I.useContext(Bh);return Km(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var Xm=I.createContext(void 0);Xm.displayName="FrameworkContext";function N0(){let s=I.useContext(Xm);return Km(s,"You must render this element inside a <HydratedRouter> element"),s}function DT(s,e){let i=I.useContext(Xm),[a,c]=I.useState(!1),[h,m]=I.useState(!1),{onFocus:v,onBlur:g,onMouseEnter:y,onMouseLeave:C,onTouchStart:x}=e,N=I.useRef(null);I.useEffect(()=>{if(s==="render"&&m(!0),s==="viewport"){let U=X=>{X.forEach(ee=>{m(ee.isIntersecting)})},Y=new IntersectionObserver(U,{threshold:.5});return N.current&&Y.observe(N.current),()=>{Y.disconnect()}}},[s]),I.useEffect(()=>{if(a){let U=setTimeout(()=>{m(!0)},100);return()=>{clearTimeout(U)}}},[a]);let D=()=>{c(!0)},k=()=>{c(!1),m(!1)};return i?s!=="intent"?[h,N,{}]:[h,N,{onFocus:jl(v,D),onBlur:jl(g,k),onMouseEnter:jl(y,D),onMouseLeave:jl(C,k),onTouchStart:jl(x,D)}]:[!1,N,{}]}function jl(s,e){return i=>{s&&s(i),i.defaultPrevented||e(i)}}function PT({page:s,...e}){let{router:i}=x0(),a=I.useMemo(()=>_0(i.routes,s,i.basename),[i.routes,s,i.basename]);return a?I.createElement(UT,{page:s,matches:a,...e}):null}function zT(s){let{manifest:e,routeModules:i}=N0(),[a,c]=I.useState([]);return I.useEffect(()=>{let h=!1;return NT(s,e,i).then(m=>{h||c(m)}),()=>{h=!0}},[s,e,i]),a}function UT({page:s,matches:e,...i}){let a=fs(),{manifest:c,routeModules:h}=N0(),{basename:m}=x0(),{loaderData:v,matches:g}=kT(),y=I.useMemo(()=>$v(s,e,g,c,a,"data"),[s,e,g,c,a]),C=I.useMemo(()=>$v(s,e,g,c,a,"assets"),[s,e,g,c,a]),x=I.useMemo(()=>{if(s===a.pathname+a.search+a.hash)return[];let k=new Set,U=!1;if(e.forEach(X=>{var $;let ee=c.routes[X.route.id];!ee||!ee.hasLoader||(!y.some(ce=>ce.route.id===X.route.id)&&X.route.id in v&&(($=h[X.route.id])!=null&&$.shouldRevalidate)||ee.hasClientLoader?U=!0:k.add(X.route.id))}),k.size===0)return[];let Y=IT(s,m);return U&&k.size>0&&Y.searchParams.set("_routes",e.filter(X=>k.has(X.route.id)).map(X=>X.route.id).join(",")),[Y.pathname+Y.search]},[m,v,a,c,y,e,s,h]),N=I.useMemo(()=>AT(C,c),[C,c]),D=zT(C);return I.createElement(I.Fragment,null,x.map(k=>I.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...i})),N.map(k=>I.createElement("link",{key:k,rel:"modulepreload",href:k,...i})),D.map(({key:k,link:U})=>I.createElement("link",{key:k,...U})))}function jT(...s){return e=>{s.forEach(i=>{typeof i=="function"?i(e):i!=null&&(i.current=e)})}}var A0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{A0&&(window.__reactRouterVersion="7.6.1")}catch{}function BT({basename:s,children:e,window:i}){let a=I.useRef();a.current==null&&(a.current=Nw({window:i,v5Compat:!0}));let c=a.current,[h,m]=I.useState({action:c.action,location:c.location}),v=I.useCallback(g=>{I.startTransition(()=>m(g))},[m]);return I.useLayoutEffect(()=>c.listen(v),[c,v]),I.createElement(pT,{basename:s,children:e,location:h.location,navigationType:h.action,navigator:c})}var R0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,O0=I.forwardRef(function({onClick:e,discover:i="render",prefetch:a="none",relative:c,reloadDocument:h,replace:m,state:v,target:g,to:y,preventScrollReset:C,viewTransition:x,...N},D){let{basename:k}=I.useContext(oi),U=typeof y=="string"&&R0.test(y),Y,X=!1;if(typeof y=="string"&&U&&(Y=y,A0))try{let ye=new URL(window.location.href),et=y.startsWith("//")?new URL(ye.protocol+y):new URL(y),qe=ls(et.pathname,k);et.origin===ye.origin&&qe!=null?y=qe+et.search+et.hash:X=!0}catch{ai(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=eT(y,{relative:c}),[$,ce,re]=DT(a,N),De=ZT(y,{replace:m,state:v,target:g,preventScrollReset:C,relative:c,viewTransition:x});function _e(ye){e&&e(ye),ye.defaultPrevented||De(ye)}let xe=I.createElement("a",{...N,...re,href:Y||ee,onClick:X||h?e:_e,ref:jT(D,ce),target:g,"data-discover":!U&&i==="render"?"true":void 0});return $&&!U?I.createElement(I.Fragment,null,xe,I.createElement(PT,{page:ee})):xe});O0.displayName="Link";var HT=I.forwardRef(function({"aria-current":e="page",caseSensitive:i=!1,className:a="",end:c=!1,style:h,to:m,viewTransition:v,children:g,...y},C){let x=pu(m,{relative:y.relative}),N=fs(),D=I.useContext(Bh),{navigator:k,basename:U}=I.useContext(oi),Y=D!=null&&KT(x)&&v===!0,X=k.encodeLocation?k.encodeLocation(x).pathname:x.pathname,ee=N.pathname,$=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;i||(ee=ee.toLowerCase(),$=$?$.toLowerCase():null,X=X.toLowerCase()),$&&U&&($=ls($,U)||$);const ce=X!=="/"&&X.endsWith("/")?X.length-1:X.length;let re=ee===X||!c&&ee.startsWith(X)&&ee.charAt(ce)==="/",De=$!=null&&($===X||!c&&$.startsWith(X)&&$.charAt(X.length)==="/"),_e={isActive:re,isPending:De,isTransitioning:Y},xe=re?e:void 0,ye;typeof a=="function"?ye=a(_e):ye=[a,re?"active":null,De?"pending":null,Y?"transitioning":null].filter(Boolean).join(" ");let et=typeof h=="function"?h(_e):h;return I.createElement(O0,{...y,"aria-current":xe,className:ye,ref:C,style:et,to:m,viewTransition:v},typeof g=="function"?g(_e):g)});HT.displayName="NavLink";var FT=I.forwardRef(({discover:s="render",fetcherKey:e,navigate:i,reloadDocument:a,replace:c,state:h,method:m=uh,action:v,onSubmit:g,relative:y,preventScrollReset:C,viewTransition:x,...N},D)=>{let k=YT(),U=WT(v,{relative:y}),Y=m.toLowerCase()==="get"?"get":"post",X=typeof v=="string"&&R0.test(v),ee=$=>{if(g&&g($),$.defaultPrevented)return;$.preventDefault();let ce=$.nativeEvent.submitter,re=(ce==null?void 0:ce.getAttribute("formmethod"))||m;k(ce||$.currentTarget,{fetcherKey:e,method:re,navigate:i,replace:c,state:h,relative:y,preventScrollReset:C,viewTransition:x})};return I.createElement("form",{ref:D,method:Y,action:U,onSubmit:a?g:ee,...N,"data-discover":!X&&s==="render"?"true":void 0})});FT.displayName="Form";function qT(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function L0(s){let e=I.useContext(Eo);return ut(e,qT(s)),e}function ZT(s,{target:e,replace:i,state:a,preventScrollReset:c,relative:h,viewTransition:m}={}){let v=Hh(),g=fs(),y=pu(s,{relative:h});return I.useCallback(C=>{if(ST(C,e)){C.preventDefault();let x=i!==void 0?i:nu(g)===nu(y);v(s,{replace:x,state:a,preventScrollReset:c,relative:h,viewTransition:m})}},[g,v,y,i,a,e,s,c,h,m])}var VT=0,GT=()=>`__${String(++VT)}__`;function YT(){let{router:s}=L0("useSubmit"),{basename:e}=I.useContext(oi),i=hT();return I.useCallback(async(a,c={})=>{let{action:h,method:m,encType:v,formData:g,body:y}=TT(a,e);if(c.navigate===!1){let C=c.fetcherKey||GT();await s.fetch(C,i,c.action||h,{preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||m,formEncType:c.encType||v,flushSync:c.flushSync})}else await s.navigate(c.action||h,{preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||m,formEncType:c.encType||v,replace:c.replace,state:c.state,fromRouteId:i,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,e,i])}function WT(s,{relative:e}={}){let{basename:i}=I.useContext(oi),a=I.useContext(wi);ut(a,"useFormAction must be used inside a RouteContext");let[c]=a.matches.slice(-1),h={...pu(s||".",{relative:e})},m=fs();if(s==null){h.search=m.search;let v=new URLSearchParams(h.search),g=v.getAll("index");if(g.some(C=>C==="")){v.delete("index"),g.filter(x=>x).forEach(x=>v.append("index",x));let C=v.toString();h.search=C?`?${C}`:""}}return(!s||s===".")&&c.route.index&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),i!=="/"&&(h.pathname=h.pathname==="/"?i:rs([i,h.pathname])),nu(h)}function KT(s,e={}){let i=I.useContext(b0);ut(i!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=L0("useViewTransitionState"),c=pu(s,{relative:e.relative});if(!i.isTransitioning)return!1;let h=ls(i.currentLocation.pathname,a)||i.currentLocation.pathname,m=ls(i.nextLocation.pathname,a)||i.nextLocation.pathname;return _h(c.pathname,m)!=null||_h(c.pathname,h)!=null}[...MT];var XT=p0();const QT=()=>{};var Jv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(s,e){if(!s)throw To(e)},To=function(s){return new Error("Firebase Database ("+M0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+s)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I0=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let c=s.charCodeAt(a);c<128?e[i++]=c:c<2048?(e[i++]=c>>6|192,e[i++]=c&63|128):(c&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(c=65536+((c&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=c>>18|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128,e[i++]=c&63|128):(e[i++]=c>>12|224,e[i++]=c>>6&63|128,e[i++]=c&63|128)}return e},$T=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const c=s[i++];if(c<128)e[a++]=String.fromCharCode(c);else if(c>191&&c<224){const h=s[i++];e[a++]=String.fromCharCode((c&31)<<6|h&63)}else if(c>239&&c<365){const h=s[i++],m=s[i++],v=s[i++],g=((c&7)<<18|(h&63)<<12|(m&63)<<6|v&63)-65536;e[a++]=String.fromCharCode(55296+(g>>10)),e[a++]=String.fromCharCode(56320+(g&1023))}else{const h=s[i++],m=s[i++];e[a++]=String.fromCharCode((c&15)<<12|(h&63)<<6|m&63)}}return e.join("")},Qm={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let c=0;c<s.length;c+=3){const h=s[c],m=c+1<s.length,v=m?s[c+1]:0,g=c+2<s.length,y=g?s[c+2]:0,C=h>>2,x=(h&3)<<4|v>>4;let N=(v&15)<<2|y>>6,D=y&63;g||(D=64,m||(N=64)),a.push(i[C],i[x],i[N],i[D])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(I0(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):$T(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let c=0;c<s.length;){const h=i[s.charAt(c++)],v=c<s.length?i[s.charAt(c)]:0;++c;const y=c<s.length?i[s.charAt(c)]:64;++c;const x=c<s.length?i[s.charAt(c)]:64;if(++c,h==null||v==null||y==null||x==null)throw new JT;const N=h<<2|v>>4;if(a.push(N),y!==64){const D=v<<4&240|y>>2;if(a.push(D),x!==64){const k=y<<6&192|x;a.push(k)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class JT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k0=function(s){const e=I0(s);return Qm.encodeByteArray(e,!0)},gh=function(s){return k0(s).replace(/\./g,"")},vh=function(s){try{return Qm.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(s){return D0(void 0,s)}function D0(s,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const i=e;return new Date(i.getTime());case Object:s===void 0&&(s={});break;case Array:s=[];break;default:return e}for(const i in e)!e.hasOwnProperty(i)||!tC(i)||(s[i]=D0(s[i],e[i]));return s}function tC(s){return s!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=()=>nC().__FIREBASE_DEFAULTS__,sC=()=>{if(typeof process>"u"||typeof Jv>"u")return;const s=Jv.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},rC=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&vh(s[1]);return e&&JSON.parse(e)},$m=()=>{try{return QT()||iC()||sC()||rC()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},P0=s=>{var e,i;return(i=(e=$m())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},aC=s=>{const e=P0(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},z0=()=>{var s;return(s=$m())===null||s===void 0?void 0:s.config},U0=s=>{var e;return(e=$m())===null||e===void 0?void 0:e[`_${s}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(s){return s.endsWith(".cloudworkstations.dev")}async function j0(s){return(await fetch(s,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",c=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:c,exp:c+3600,auth_time:c,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[gh(JSON.stringify(i)),gh(JSON.stringify(m)),""].join(".")}const Kl={};function lC(){const s={prod:[],emulator:[]};for(const e of Object.keys(Kl))Kl[e]?s.emulator.push(e):s.prod.push(e);return s}function uC(s){let e=document.getElementById(s),i=!1;return e||(e=document.createElement("div"),e.setAttribute("id",s),i=!0),{created:i,element:e}}let ey=!1;function B0(s,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||Kl[s]===e||Kl[s]||ey)return;Kl[s]=e;function i(N){return`__firebase__banner__${N}`}const a="__firebase__banner",h=lC().prod.length>0;function m(){const N=document.getElementById(a);N&&N.remove()}function v(N){N.style.display="flex",N.style.background="#7faaf0",N.style.position="fixed",N.style.bottom="5px",N.style.left="5px",N.style.padding=".5em",N.style.borderRadius="5px",N.style.alignItems="center"}function g(N,D){N.setAttribute("width","24"),N.setAttribute("id",D),N.setAttribute("height","24"),N.setAttribute("viewBox","0 0 24 24"),N.setAttribute("fill","none"),N.style.marginLeft="-6px"}function y(){const N=document.createElement("span");return N.style.cursor="pointer",N.style.marginLeft="16px",N.style.fontSize="24px",N.innerHTML=" &times;",N.onclick=()=>{ey=!0,m()},N}function C(N,D){N.setAttribute("id",D),N.innerText="Learn more",N.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",N.setAttribute("target","__blank"),N.style.paddingLeft="5px",N.style.textDecoration="underline"}function x(){const N=uC(a),D=i("text"),k=document.getElementById(D)||document.createElement("span"),U=i("learnmore"),Y=document.getElementById(U)||document.createElement("a"),X=i("preprendIcon"),ee=document.getElementById(X)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(N.created){const $=N.element;v($),C(Y,U);const ce=y();g(ee,X),$.append(ee,k,Y,ce),document.body.appendChild($)}h?(k.innerText="Preview backend disconnected.",ee.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ee.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,k.innerText="Preview backend running in this workspace."),k.setAttribute("id",D)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ep(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function cC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hC(){const s=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof s=="object"&&s.id!==void 0}function H0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fC(){const s=rn();return s.indexOf("MSIE ")>=0||s.indexOf("Trident/")>=0}function dC(){return M0.NODE_ADMIN===!0}function mC(){try{return typeof indexedDB=="object"}catch{return!1}}function pC(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",c=self.indexedDB.open(a);c.onsuccess=()=>{c.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},c.onupgradeneeded=()=>{i=!1},c.onerror=()=>{var h;e(((h=c.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="FirebaseError";class wr extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=_C,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_u.prototype.create)}}class _u{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},c=`${this.service}/${e}`,h=this.errors[e],m=h?gC(h,a):"Error",v=`${this.serviceName}: ${m} (${c}).`;return new wr(c,v,a)}}function gC(s,e){return s.replace(vC,(i,a)=>{const c=e[a];return c!=null?String(c):`<${a}?>`})}const vC=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(s){return JSON.parse(s)}function Tt(s){return JSON.stringify(s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=function(s){let e={},i={},a={},c="";try{const h=s.split(".");e=iu(vh(h[0])||""),i=iu(vh(h[1])||""),c=h[2],a=i.d||{},delete i.d}catch{}return{header:e,claims:i,data:a,signature:c}},yC=function(s){const e=F0(s),i=e.claims;return!!i&&typeof i=="object"&&i.hasOwnProperty("iat")},bC=function(s){const e=F0(s).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ds(s,e){return Object.prototype.hasOwnProperty.call(s,e)}function po(s,e){if(Object.prototype.hasOwnProperty.call(s,e))return s[e]}function wm(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}function yh(s,e,i){const a={};for(const c in s)Object.prototype.hasOwnProperty.call(s,c)&&(a[c]=e.call(i,s[c],c,s));return a}function oa(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const c of i){if(!a.includes(c))return!1;const h=s[c],m=e[c];if(ty(h)&&ty(m)){if(!oa(h,m))return!1}else if(h!==m)return!1}for(const c of a)if(!i.includes(c))return!1;return!0}function ty(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(s){const e=[];for(const[i,a]of Object.entries(s))Array.isArray(a)?a.forEach(c=>{e.push(encodeURIComponent(i)+"="+encodeURIComponent(c))}):e.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return e.length?"&"+e.join("&"):""}function Gl(s){const e={};return s.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[c,h]=a.split("=");e[decodeURIComponent(c)]=decodeURIComponent(h)}}),e}function Yl(s){const e=s.indexOf("?");if(!e)return"";const i=s.indexOf("#",e);return s.substring(e,i>0?i:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,i){i||(i=0);const a=this.W_;if(typeof e=="string")for(let x=0;x<16;x++)a[x]=e.charCodeAt(i)<<24|e.charCodeAt(i+1)<<16|e.charCodeAt(i+2)<<8|e.charCodeAt(i+3),i+=4;else for(let x=0;x<16;x++)a[x]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i+=4;for(let x=16;x<80;x++){const N=a[x-3]^a[x-8]^a[x-14]^a[x-16];a[x]=(N<<1|N>>>31)&4294967295}let c=this.chain_[0],h=this.chain_[1],m=this.chain_[2],v=this.chain_[3],g=this.chain_[4],y,C;for(let x=0;x<80;x++){x<40?x<20?(y=v^h&(m^v),C=1518500249):(y=h^m^v,C=1859775393):x<60?(y=h&m|v&(h|m),C=2400959708):(y=h^m^v,C=3395469782);const N=(c<<5|c>>>27)+y+g+C+a[x]&4294967295;g=v,v=m,m=(h<<30|h>>>2)&4294967295,h=c,c=N}this.chain_[0]=this.chain_[0]+c&4294967295,this.chain_[1]=this.chain_[1]+h&4294967295,this.chain_[2]=this.chain_[2]+m&4294967295,this.chain_[3]=this.chain_[3]+v&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(e,i){if(e==null)return;i===void 0&&(i=e.length);const a=i-this.blockSize;let c=0;const h=this.buf_;let m=this.inbuf_;for(;c<i;){if(m===0)for(;c<=a;)this.compress_(e,c),c+=this.blockSize;if(typeof e=="string"){for(;c<i;)if(h[m]=e.charCodeAt(c),++m,++c,m===this.blockSize){this.compress_(h),m=0;break}}else for(;c<i;)if(h[m]=e[c],++m,++c,m===this.blockSize){this.compress_(h),m=0;break}}this.inbuf_=m,this.total_+=i}digest(){const e=[];let i=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let c=this.blockSize-1;c>=56;c--)this.buf_[c]=i&255,i/=256;this.compress_(this.buf_);let a=0;for(let c=0;c<5;c++)for(let h=24;h>=0;h-=8)e[a]=this.chain_[c]>>h&255,++a;return e}}function EC(s,e){const i=new wC(s,e);return i.subscribe.bind(i)}class wC{constructor(e,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{e(this)}).catch(a=>{this.error(a)})}next(e){this.forEachObserver(i=>{i.next(e)})}error(e){this.forEachObserver(i=>{i.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,i,a){let c;if(e===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");TC(e,["next","error","complete"])?c=e:c={next:e,error:i,complete:a},c.next===void 0&&(c.next=rm),c.error===void 0&&(c.error=rm),c.complete===void 0&&(c.complete=rm);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?c.error(this.finalError):c.complete()}catch{}}),this.observers.push(c),h}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,e)}sendOne(e,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{i(this.observers[e])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function TC(s,e){if(typeof s!="object"||s===null)return!1;for(const i of e)if(i in s&&typeof s[i]=="function")return!0;return!1}function rm(){}function q0(s,e){return`${s} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let c=s.charCodeAt(a);if(c>=55296&&c<=56319){const h=c-55296;a++,ne(a<s.length,"Surrogate pair missing trail surrogate.");const m=s.charCodeAt(a)-56320;c=65536+(h<<10)+m}c<128?e[i++]=c:c<2048?(e[i++]=c>>6|192,e[i++]=c&63|128):c<65536?(e[i++]=c>>12|224,e[i++]=c>>6&63|128,e[i++]=c&63|128):(e[i++]=c>>18|240,e[i++]=c>>12&63|128,e[i++]=c>>6&63|128,e[i++]=c&63|128)}return e},qh=function(s){let e=0;for(let i=0;i<s.length;i++){const a=s.charCodeAt(i);a<128?e++:a<2048?e+=2:a>=55296&&a<=56319?(e+=4,i++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function an(s){return s&&s._delegate?s._delegate:s}class la{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ia="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new Jm;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const c=this.getOrInitializeService({instanceIdentifier:i});c&&a.resolve(c)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),c=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(c)return null;throw h}else{if(c)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(AC(e))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:c});a.resolve(h)}catch{}}}}clearInstance(e=ia){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ia){return this.instances.has(e)}getOptions(e=ia){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const c=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,m]of this.instancesDeferred.entries()){const v=this.normalizeInstanceIdentifier(h);a===v&&m.resolve(c)}return c}onInit(e,i){var a;const c=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(c))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(c,h);const m=this.instances.get(c);return m&&e(m,c),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const c of a)try{c(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:NC(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ia){return this.component?this.component.multipleInstances?e:ia:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NC(s){return s===ia?void 0:s}function AC(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new xC(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qe;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(Qe||(Qe={}));const OC={debug:Qe.DEBUG,verbose:Qe.VERBOSE,info:Qe.INFO,warn:Qe.WARN,error:Qe.ERROR,silent:Qe.SILENT},LC=Qe.INFO,MC={[Qe.DEBUG]:"log",[Qe.VERBOSE]:"log",[Qe.INFO]:"info",[Qe.WARN]:"warn",[Qe.ERROR]:"error"},IC=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),c=MC[e];if(c)console[c](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tp{constructor(e){this.name=e,this._logLevel=LC,this._logHandler=IC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Qe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Qe.DEBUG,...e),this._logHandler(this,Qe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Qe.VERBOSE,...e),this._logHandler(this,Qe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Qe.INFO,...e),this._logHandler(this,Qe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Qe.WARN,...e),this._logHandler(this,Qe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Qe.ERROR,...e),this._logHandler(this,Qe.ERROR,...e)}}const kC=(s,e)=>e.some(i=>s instanceof i);let ny,iy;function DC(){return ny||(ny=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function PC(){return iy||(iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Z0=new WeakMap,Tm=new WeakMap,V0=new WeakMap,am=new WeakMap,np=new WeakMap;function zC(s){const e=new Promise((i,a)=>{const c=()=>{s.removeEventListener("success",h),s.removeEventListener("error",m)},h=()=>{i(pr(s.result)),c()},m=()=>{a(s.error),c()};s.addEventListener("success",h),s.addEventListener("error",m)});return e.then(i=>{i instanceof IDBCursor&&Z0.set(i,s)}).catch(()=>{}),np.set(e,s),e}function UC(s){if(Tm.has(s))return;const e=new Promise((i,a)=>{const c=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",m),s.removeEventListener("abort",m)},h=()=>{i(),c()},m=()=>{a(s.error||new DOMException("AbortError","AbortError")),c()};s.addEventListener("complete",h),s.addEventListener("error",m),s.addEventListener("abort",m)});Tm.set(s,e)}let Cm={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return Tm.get(s);if(e==="objectStoreNames")return s.objectStoreNames||V0.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return pr(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function jC(s){Cm=s(Cm)}function BC(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(om(this),e,...i);return V0.set(a,e.sort?e.sort():[e]),pr(a)}:PC().includes(s)?function(...e){return s.apply(om(this),e),pr(Z0.get(this))}:function(...e){return pr(s.apply(om(this),e))}}function HC(s){return typeof s=="function"?BC(s):(s instanceof IDBTransaction&&UC(s),kC(s,DC())?new Proxy(s,Cm):s)}function pr(s){if(s instanceof IDBRequest)return zC(s);if(am.has(s))return am.get(s);const e=HC(s);return e!==s&&(am.set(s,e),np.set(e,s)),e}const om=s=>np.get(s);function FC(s,e,{blocked:i,upgrade:a,blocking:c,terminated:h}={}){const m=indexedDB.open(s,e),v=pr(m);return a&&m.addEventListener("upgradeneeded",g=>{a(pr(m.result),g.oldVersion,g.newVersion,pr(m.transaction),g)}),i&&m.addEventListener("blocked",g=>i(g.oldVersion,g.newVersion,g)),v.then(g=>{h&&g.addEventListener("close",()=>h()),c&&g.addEventListener("versionchange",y=>c(y.oldVersion,y.newVersion,y))}).catch(()=>{}),v}const qC=["get","getKey","getAll","getAllKeys","count"],ZC=["put","add","delete","clear"],lm=new Map;function sy(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,c=ZC.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(c||qC.includes(i)))return;const h=async function(m,...v){const g=this.transaction(m,c?"readwrite":"readonly");let y=g.store;return a&&(y=y.index(v.shift())),(await Promise.all([y[i](...v),c&&g.done]))[0]};return lm.set(e,h),h}jC(s=>({...s,get:(e,i,a)=>sy(e,i)||s.get(e,i,a),has:(e,i)=>!!sy(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(GC(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function GC(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",ry="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=new tp("@firebase/app"),YC="@firebase/app-compat",WC="@firebase/analytics-compat",KC="@firebase/analytics",XC="@firebase/app-check-compat",QC="@firebase/app-check",$C="@firebase/auth",JC="@firebase/auth-compat",ex="@firebase/database",tx="@firebase/data-connect",nx="@firebase/database-compat",ix="@firebase/functions",sx="@firebase/functions-compat",rx="@firebase/installations",ax="@firebase/installations-compat",ox="@firebase/messaging",lx="@firebase/messaging-compat",ux="@firebase/performance",cx="@firebase/performance-compat",hx="@firebase/remote-config",fx="@firebase/remote-config-compat",dx="@firebase/storage",mx="@firebase/storage-compat",px="@firebase/firestore",_x="@firebase/ai",gx="@firebase/firestore-compat",vx="firebase",yx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",bx={[xm]:"fire-core",[YC]:"fire-core-compat",[KC]:"fire-analytics",[WC]:"fire-analytics-compat",[QC]:"fire-app-check",[XC]:"fire-app-check-compat",[$C]:"fire-auth",[JC]:"fire-auth-compat",[ex]:"fire-rtdb",[tx]:"fire-data-connect",[nx]:"fire-rtdb-compat",[ix]:"fire-fn",[sx]:"fire-fn-compat",[rx]:"fire-iid",[ax]:"fire-iid-compat",[ox]:"fire-fcm",[lx]:"fire-fcm-compat",[ux]:"fire-perf",[cx]:"fire-perf-compat",[hx]:"fire-rc",[fx]:"fire-rc-compat",[dx]:"fire-gcs",[mx]:"fire-gcs-compat",[px]:"fire-fst",[gx]:"fire-fst-compat",[_x]:"fire-vertex","fire-js":"fire-js",[vx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bh=new Map,Sx=new Map,Am=new Map;function ay(s,e){try{s.container.addComponent(e)}catch(i){us.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function _o(s){const e=s.name;if(Am.has(e))return us.debug(`There were multiple attempts to register component ${e}.`),!1;Am.set(e,s);for(const i of bh.values())ay(i,s);for(const i of Sx.values())ay(i,s);return!0}function ip(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function An(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ex={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},_r=new _u("app","Firebase",Ex);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const No=yx;function G0(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Nm,automaticDataCollectionEnabled:!0},e),c=a.name;if(typeof c!="string"||!c)throw _r.create("bad-app-name",{appName:String(c)});if(i||(i=z0()),!i)throw _r.create("no-options");const h=bh.get(c);if(h){if(oa(i,h.options)&&oa(a,h.config))return h;throw _r.create("duplicate-app",{appName:c})}const m=new RC(c);for(const g of Am.values())m.addComponent(g);const v=new wx(i,a,m);return bh.set(c,v),v}function Y0(s=Nm){const e=bh.get(s);if(!e&&s===Nm&&z0())return G0();if(!e)throw _r.create("no-app",{appName:s});return e}function gr(s,e,i){var a;let c=(a=bx[s])!==null&&a!==void 0?a:s;i&&(c+=`-${i}`);const h=c.match(/\s|\//),m=e.match(/\s|\//);if(h||m){const v=[`Unable to register library "${c}" with version "${e}":`];h&&v.push(`library name "${c}" contains illegal characters (whitespace or "/")`),h&&m&&v.push("and"),m&&v.push(`version name "${e}" contains illegal characters (whitespace or "/")`),us.warn(v.join(" "));return}_o(new la(`${c}-version`,()=>({library:c,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="firebase-heartbeat-database",Cx=1,su="firebase-heartbeat-store";let um=null;function W0(){return um||(um=FC(Tx,Cx,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(su)}catch(i){console.warn(i)}}}}).catch(s=>{throw _r.create("idb-open",{originalErrorMessage:s.message})})),um}async function xx(s){try{const i=(await W0()).transaction(su),a=await i.objectStore(su).get(K0(s));return await i.done,a}catch(e){if(e instanceof wr)us.warn(e.message);else{const i=_r.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});us.warn(i.message)}}}async function oy(s,e){try{const a=(await W0()).transaction(su,"readwrite");await a.objectStore(su).put(e,K0(s)),await a.done}catch(i){if(i instanceof wr)us.warn(i.message);else{const a=_r.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});us.warn(a.message)}}}function K0(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx=1024,Ax=30;class Rx{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Lx(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const c=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=ly();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(m=>m.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:c}),this._heartbeatsCache.heartbeats.length>Ax){const m=Mx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(m,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){us.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=ly(),{heartbeatsToSend:a,unsentEntries:c}=Ox(this._heartbeatsCache.heartbeats),h=gh(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,c.length>0?(this._heartbeatsCache.heartbeats=c,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return us.warn(i),""}}}function ly(){return new Date().toISOString().substring(0,10)}function Ox(s,e=Nx){const i=[];let a=s.slice();for(const c of s){const h=i.find(m=>m.agent===c.agent);if(h){if(h.dates.push(c.date),uy(i)>e){h.dates.pop();break}}else if(i.push({agent:c.agent,dates:[c.date]}),uy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class Lx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mC()?pC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await xx(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const c=await this.read();return oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:c.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const c=await this.read();return oy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:c.lastSentHeartbeatDate,heartbeats:[...c.heartbeats,...e.heartbeats]})}else return}}function uy(s){return gh(JSON.stringify({version:2,heartbeats:s})).length}function Mx(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ix(s){_o(new la("platform-logger",e=>new VC(e),"PRIVATE")),_o(new la("heartbeat",e=>new Rx(e),"PRIVATE")),gr(xm,ry,s),gr(xm,ry,"esm2017"),gr("fire-js","")}Ix("");function sp(s,e){var i={};for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&e.indexOf(a)<0&&(i[a]=s[a]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,a=Object.getOwnPropertySymbols(s);c<a.length;c++)e.indexOf(a[c])<0&&Object.prototype.propertyIsEnumerable.call(s,a[c])&&(i[a[c]]=s[a[c]]);return i}function X0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kx=X0,Q0=new _u("auth","Firebase",X0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new tp("@firebase/auth");function Dx(s,...e){Sh.logLevel<=Qe.WARN&&Sh.warn(`Auth (${No}): ${s}`,...e)}function hh(s,...e){Sh.logLevel<=Qe.ERROR&&Sh.error(`Auth (${No}): ${s}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hn(s,...e){throw ap(s,...e)}function si(s,...e){return ap(s,...e)}function rp(s,e,i){const a=Object.assign(Object.assign({},kx()),{[e]:i});return new _u("auth","Firebase",a).create(e,{appName:s.name})}function as(s){return rp(s,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Px(s,e,i){const a=i;if(!(e instanceof a))throw a.name!==e.constructor.name&&Hn(s,"argument-error"),rp(s,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function ap(s,...e){if(typeof s!="string"){const i=e[0],a=[...e.slice(1)];return a[0]&&(a[0].appName=s.name),s._errorFactory.create(i,...a)}return Q0.create(s,...e)}function be(s,e,...i){if(!s)throw ap(e,...i)}function ns(s){const e="INTERNAL ASSERTION FAILED: "+s;throw hh(e),new Error(e)}function cs(s,e){s||ns(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.href)||""}function zx(){return cy()==="http:"||cy()==="https:"}function cy(){var s;return typeof self<"u"&&((s=self.location)===null||s===void 0?void 0:s.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ux(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(zx()||hC()||"connection"in navigator)?navigator.onLine:!0}function jx(){if(typeof navigator>"u")return null;const s=navigator;return s.languages&&s.languages[0]||s.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,i){this.shortDelay=e,this.longDelay=i,cs(i>e,"Short delay should be less than long delay!"),this.isMobile=ep()||H0()}get(){return Ux()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function op(s,e){cs(s.emulator,"Emulator should always be set here");const{url:i}=s.emulator;return e?`${i}${e.startsWith("/")?e.slice(1):e}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{static initialize(e,i,a){this.fetchImpl=e,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ns("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ns("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ns("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Fx=new gu(3e4,6e4);function ms(s,e){return s.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:s.tenantId}):e}async function Ti(s,e,i,a,c={}){return J0(s,c,async()=>{let h={},m={};a&&(e==="GET"?m=a:h={body:JSON.stringify(a)});const v=xo(Object.assign({key:s.config.apiKey},m)).slice(1),g=await s._getAdditionalHeaders();g["Content-Type"]="application/json",s.languageCode&&(g["X-Firebase-Locale"]=s.languageCode);const y=Object.assign({method:e,headers:g},h);return cC()||(y.referrerPolicy="no-referrer"),s.emulatorConfig&&Co(s.emulatorConfig.host)&&(y.credentials="include"),$0.fetch()(await eb(s,s.config.apiHost,i,v),y)})}async function J0(s,e,i){s._canInitEmulator=!1;const a=Object.assign(Object.assign({},Bx),e);try{const c=new Zx(s),h=await Promise.race([i(),c.promise]);c.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw ah(s,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const v=h.ok?m.errorMessage:m.error.message,[g,y]=v.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ah(s,"credential-already-in-use",m);if(g==="EMAIL_EXISTS")throw ah(s,"email-already-in-use",m);if(g==="USER_DISABLED")throw ah(s,"user-disabled",m);const C=a[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw rp(s,C,y);Hn(s,C)}}catch(c){if(c instanceof wr)throw c;Hn(s,"network-request-failed",{message:String(c)})}}async function vu(s,e,i,a,c={}){const h=await Ti(s,e,i,a,c);return"mfaPendingCredential"in h&&Hn(s,"multi-factor-auth-required",{_serverResponse:h}),h}async function eb(s,e,i,a){const c=`${e}${i}?${a}`,h=s,m=h.config.emulator?op(s.config,c):`${s.config.apiScheme}://${c}`;return Hx.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}function qx(s){switch(s){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(si(this.auth,"network-request-failed")),Fx.get())})}}function ah(s,e,i){const a={appName:s.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const c=si(s,e,a);return c.customData._tokenResponse=i,c}function hy(s){return s!==void 0&&s.enterprise!==void 0}class Vx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const i of this.recaptchaEnforcementState)if(i.provider&&i.provider===e)return qx(i.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Gx(s,e){return Ti(s,"GET","/v2/recaptchaConfig",ms(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yx(s,e){return Ti(s,"POST","/v1/accounts:delete",e)}async function Eh(s,e){return Ti(s,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(s){if(s)try{const e=new Date(Number(s));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Wx(s,e=!1){const i=an(s),a=await i.getIdToken(e),c=lp(a);be(c&&c.exp&&c.auth_time&&c.iat,i.auth,"internal-error");const h=typeof c.firebase=="object"?c.firebase:void 0,m=h==null?void 0:h.sign_in_provider;return{claims:c,token:a,authTime:Xl(cm(c.auth_time)),issuedAtTime:Xl(cm(c.iat)),expirationTime:Xl(cm(c.exp)),signInProvider:m||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function cm(s){return Number(s)*1e3}function lp(s){const[e,i,a]=s.split(".");if(e===void 0||i===void 0||a===void 0)return hh("JWT malformed, contained fewer than 3 sections"),null;try{const c=vh(i);return c?JSON.parse(c):(hh("Failed to decode base64 JWT payload"),null)}catch(c){return hh("Caught error parsing JWT payload as JSON",c==null?void 0:c.toString()),null}}function fy(s){const e=lp(s);return be(e,"internal-error"),be(typeof e.exp<"u","internal-error"),be(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(s,e,i=!1){if(i)return e;try{return await e}catch(a){throw a instanceof wr&&Kx(a)&&s.auth.currentUser===s&&await s.auth.signOut(),a}}function Kx({code:s}){return s==="auth/user-disabled"||s==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var i;if(e){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const c=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,c)}}schedule(e=!1){if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,i){this.createdAt=e,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wh(s){var e;const i=s.auth,a=await s.getIdToken(),c=await go(s,Eh(i,{idToken:a}));be(c==null?void 0:c.users.length,i,"internal-error");const h=c.users[0];s._notifyReloadListener(h);const m=!((e=h.providerUserInfo)===null||e===void 0)&&e.length?tb(h.providerUserInfo):[],v=$x(s.providerData,m),g=s.isAnonymous,y=!(s.email&&h.passwordHash)&&!(v!=null&&v.length),C=g?y:!1,x={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:v,metadata:new Om(h.createdAt,h.lastLoginAt),isAnonymous:C};Object.assign(s,x)}async function Qx(s){const e=an(s);await wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $x(s,e){return[...s.filter(a=>!e.some(c=>c.providerId===a.providerId)),...e]}function tb(s){return s.map(e=>{var{providerId:i}=e,a=sp(e,["providerId"]);return{providerId:i,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(s,e){const i=await J0(s,{},async()=>{const a=xo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:c,apiKey:h}=s.config,m=await eb(s,c,"/v1/token",`key=${h}`),v=await s._getAdditionalHeaders();v["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:v,body:a};return s.emulatorConfig&&Co(s.emulatorConfig.host)&&(g.credentials="include"),$0.fetch()(m,g)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function e1(s,e){return Ti(s,"POST","/v2/accounts:revokeToken",ms(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){be(e.idToken,"internal-error"),be(typeof e.idToken<"u","internal-error"),be(typeof e.refreshToken<"u","internal-error");const i="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):fy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,i)}updateFromIdToken(e){be(e.length!==0,"internal-error");const i=fy(e);this.updateTokensAndExpiration(e,null,i)}async getToken(e,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(be(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,i){const{accessToken:a,refreshToken:c,expiresIn:h}=await Jx(e,i);this.updateTokensAndExpiration(a,c,Number(h))}updateTokensAndExpiration(e,i,a){this.refreshToken=i||null,this.accessToken=e||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(e,i){const{refreshToken:a,accessToken:c,expirationTime:h}=i,m=new uo;return a&&(be(typeof a=="string","internal-error",{appName:e}),m.refreshToken=a),c&&(be(typeof c=="string","internal-error",{appName:e}),m.accessToken=c),h&&(be(typeof h=="number","internal-error",{appName:e}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return ns("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hr(s,e){be(typeof s=="string"||typeof s>"u","internal-error",{appName:e})}class ti{constructor(e){var{uid:i,auth:a,stsTokenManager:c}=e,h=sp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=a,this.stsTokenManager=c,this.accessToken=c.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new Om(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(e){const i=await go(this,this.stsTokenManager.getToken(this.auth,e));return be(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(e){return Wx(this,e)}reload(){return Qx(this)}_assign(e){this!==e&&(be(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(i=>Object.assign({},i)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const i=new ti(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(e){be(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,i=!1){let a=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),a=!0),i&&await wh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(as(this.auth));const e=await this.getIdToken();return await go(this,Yx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,i){var a,c,h,m,v,g,y,C;const x=(a=i.displayName)!==null&&a!==void 0?a:void 0,N=(c=i.email)!==null&&c!==void 0?c:void 0,D=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,k=(m=i.photoURL)!==null&&m!==void 0?m:void 0,U=(v=i.tenantId)!==null&&v!==void 0?v:void 0,Y=(g=i._redirectEventId)!==null&&g!==void 0?g:void 0,X=(y=i.createdAt)!==null&&y!==void 0?y:void 0,ee=(C=i.lastLoginAt)!==null&&C!==void 0?C:void 0,{uid:$,emailVerified:ce,isAnonymous:re,providerData:De,stsTokenManager:_e}=i;be($&&_e,e,"internal-error");const xe=uo.fromJSON(this.name,_e);be(typeof $=="string",e,"internal-error"),hr(x,e.name),hr(N,e.name),be(typeof ce=="boolean",e,"internal-error"),be(typeof re=="boolean",e,"internal-error"),hr(D,e.name),hr(k,e.name),hr(U,e.name),hr(Y,e.name),hr(X,e.name),hr(ee,e.name);const ye=new ti({uid:$,auth:e,email:N,emailVerified:ce,displayName:x,isAnonymous:re,photoURL:k,phoneNumber:D,tenantId:U,stsTokenManager:xe,createdAt:X,lastLoginAt:ee});return De&&Array.isArray(De)&&(ye.providerData=De.map(et=>Object.assign({},et))),Y&&(ye._redirectEventId=Y),ye}static async _fromIdTokenResponse(e,i,a=!1){const c=new uo;c.updateFromServerResponse(i);const h=new ti({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:a});return await wh(h),h}static async _fromGetAccountInfoResponse(e,i,a){const c=i.users[0];be(c.localId!==void 0,"internal-error");const h=c.providerUserInfo!==void 0?tb(c.providerUserInfo):[],m=!(c.email&&c.passwordHash)&&!(h!=null&&h.length),v=new uo;v.updateFromIdToken(a);const g=new ti({uid:c.localId,auth:e,stsTokenManager:v,isAnonymous:m}),y={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new Om(c.createdAt,c.lastLoginAt),isAnonymous:!(c.email&&c.passwordHash)&&!(h!=null&&h.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dy=new Map;function is(s){cs(s instanceof Function,"Expected a class definition");let e=dy.get(s);return e?(cs(e instanceof s,"Instance stored in cache mismatched with class"),e):(e=new s,dy.set(s,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,i){this.storage[e]=i}async _get(e){const i=this.storage[e];return i===void 0?null:i}async _remove(e){delete this.storage[e]}_addListener(e,i){}_removeListener(e,i){}}nb.type="NONE";const my=nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fh(s,e,i){return`firebase:${s}:${e}:${i}`}class co{constructor(e,i,a){this.persistence=e,this.auth=i,this.userKey=a;const{config:c,name:h}=this.auth;this.fullUserKey=fh(this.userKey,c.apiKey,h),this.fullPersistenceKey=fh("persistence",c.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const i=await Eh(this.auth,{idToken:e}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,i,a="authUser"){if(!i.length)return new co(is(my),e,a);const c=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let h=c[0]||is(my);const m=fh(a,e.config.apiKey,e.name);let v=null;for(const y of i)try{const C=await y._get(m);if(C){let x;if(typeof C=="string"){const N=await Eh(e,{idToken:C}).catch(()=>{});if(!N)break;x=await ti._fromGetAccountInfoResponse(e,N,C)}else x=ti._fromJSON(e,C);y!==h&&(v=x),h=y;break}}catch{}const g=c.filter(y=>y._shouldAllowMigration);return!h._shouldAllowMigration||!g.length?new co(h,e,a):(h=g[0],v&&await h._set(m,v.toJSON()),await Promise.all(i.map(async y=>{if(y!==h)try{await y._remove(m)}catch{}})),new co(h,e,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function py(s){const e=s.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(ab(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ib(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lb(e))return"Blackberry";if(ub(e))return"Webos";if(sb(e))return"Safari";if((e.includes("chrome/")||rb(e))&&!e.includes("edge/"))return"Chrome";if(ob(e))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=s.match(i);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function ib(s=rn()){return/firefox\//i.test(s)}function sb(s=rn()){const e=s.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rb(s=rn()){return/crios\//i.test(s)}function ab(s=rn()){return/iemobile/i.test(s)}function ob(s=rn()){return/android/i.test(s)}function lb(s=rn()){return/blackberry/i.test(s)}function ub(s=rn()){return/webos/i.test(s)}function up(s=rn()){return/iphone|ipad|ipod/i.test(s)||/macintosh/i.test(s)&&/mobile/i.test(s)}function t1(s=rn()){var e;return up(s)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function n1(){return fC()&&document.documentMode===10}function cb(s=rn()){return up(s)||ob(s)||ub(s)||lb(s)||/windows phone/i.test(s)||ab(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(s,e=[]){let i;switch(s){case"Browser":i=py(rn());break;case"Worker":i=`${py(rn())}-${s}`;break;default:i=s}const a=e.length?e.join(","):"FirebaseCore-web";return`${i}/JsCore/${No}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,i){const a=h=>new Promise((m,v)=>{try{const g=e(h);m(g)}catch(g){v(g)}});a.onAbort=i,this.queue.push(a);const c=this.queue.length-1;return()=>{this.queue[c]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const i=[];try{for(const a of this.queue)await a(e),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const c of i)try{c()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s1(s,e={}){return Ti(s,"GET","/v2/passwordPolicy",ms(s,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=6;class a1{constructor(e){var i,a,c,h;const m=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=m.minPasswordLength)!==null&&i!==void 0?i:r1,m.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=m.maxPasswordLength),m.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=m.containsLowercaseCharacter),m.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=m.containsUppercaseCharacter),m.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=m.containsNumericCharacter),m.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=m.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(c=(a=e.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&c!==void 0?c:"",this.forceUpgradeOnSignin=(h=e.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var i,a,c,h,m,v;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(i=g.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),g.isValid&&(g.isValid=(a=g.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),g.isValid&&(g.isValid=(c=g.containsLowercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(h=g.containsUppercaseLetter)!==null&&h!==void 0?h:!0),g.isValid&&(g.isValid=(m=g.containsNumericCharacter)!==null&&m!==void 0?m:!0),g.isValid&&(g.isValid=(v=g.containsNonAlphanumericCharacter)!==null&&v!==void 0?v:!0),g}validatePasswordLengthOptions(e,i){const a=this.customStrengthOptions.minPasswordLength,c=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=e.length>=a),c&&(i.meetsMaxPasswordLength=e.length<=c)}validatePasswordCharacterOptions(e,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let c=0;c<e.length;c++)a=e.charAt(c),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(e,i,a,c,h){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=c)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,i,a,c){this.app=e,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=c,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _y(this),this.idTokenSubscription=new _y(this),this.beforeStateQueue=new i1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=c.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(e,i){return i&&(this._popupRedirectResolver=is(i)),this._initializationPromise=this.queue(async()=>{var a,c,h;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),(a=this._resolvePersistenceManagerAvailable)===null||a===void 0||a.call(this),!this._deleted)){if(!((c=this._popupRedirectResolver)===null||c===void 0)&&c._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((h=this.currentUser)===null||h===void 0?void 0:h.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const i=await Eh(this,{idToken:e}),a=await ti._fromGetAccountInfoResponse(this,i,e);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(An(this.app)){const m=this.app.settings.authIdToken;return m?new Promise(v=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(m).then(v,v))}):this.directlySetCurrentUser(null)}const a=await this.assertedPersistence.getCurrentUser();let c=a,h=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const m=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,v=c==null?void 0:c._redirectEventId,g=await this.tryRedirectSignIn(e);(!m||m===v)&&(g!=null&&g.user)&&(c=g.user,h=!0)}if(!c)return this.directlySetCurrentUser(null);if(!c._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(c)}catch(m){c=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(m))}return c?this.reloadAndSetCurrentUserOrClear(c):this.directlySetCurrentUser(null)}return be(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===c._redirectEventId?this.directlySetCurrentUser(c):this.reloadAndSetCurrentUserOrClear(c)}async tryRedirectSignIn(e){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(e){try{await wh(e)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=jx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(An(this.app))return Promise.reject(as(this));const i=e?an(e):null;return i&&be(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(e,i=!1){if(!this._deleted)return e&&be(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(as(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return An(this.app)?Promise.reject(as(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(is(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await s1(this),i=new a1(e);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new _u("auth","Firebase",e())}onAuthStateChanged(e,i,a){return this.registerStateListener(this.authStateSubscription,e,i,a)}beforeAuthStateChanged(e,i){return this.beforeStateQueue.pushCallback(e,i)}onIdTokenChanged(e,i,a){return this.registerStateListener(this.idTokenSubscription,e,i,a)}authStateReady(){return new Promise((e,i)=>{if(this.currentUser)e();else{const a=this.onAuthStateChanged(()=>{a(),e()},i)}})}async revokeAccessToken(e){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await e1(this,a)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,i){const a=await this.getOrInitRedirectPersistenceManager(i);return e===null?a.removeCurrentUser():a.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const i=e&&is(e)||this._popupRedirectResolver;be(i,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[is(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var i,a;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===e?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(i=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,i,a,c){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let m=!1;const v=this._isInitialized?Promise.resolve():this._initializationPromise;if(be(v,this,"internal-error"),v.then(()=>{m||h(this.currentUser)}),typeof i=="function"){const g=e.addObserver(i,a,c);return()=>{m=!0,g()}}else{const g=e.addObserver(i);return()=>{m=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return be(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const a=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());a&&(i["X-Firebase-Client"]=a);const c=await this._getAppCheckToken();return c&&(i["X-Firebase-AppCheck"]=c),i}async _getAppCheckToken(){var e;if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return i!=null&&i.error&&Dx(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function ps(s){return an(s)}class _y{constructor(e){this.auth=e,this.observer=null,this.addObserver=EC(i=>this.observer=i)}get next(){return be(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function l1(s){Zh=s}function fb(s){return Zh.loadJS(s)}function u1(){return Zh.recaptchaEnterpriseScript}function c1(){return Zh.gapiScript}function h1(s){return`__${s}${Math.floor(Math.random()*1e6)}`}class f1{constructor(){this.enterprise=new d1}ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}class d1{ready(e){e()}execute(e,i){return Promise.resolve("token")}render(e,i){return""}}const m1="recaptcha-enterprise",db="NO_RECAPTCHA";class p1{constructor(e){this.type=m1,this.auth=ps(e)}async verify(e="verify",i=!1){async function a(h){if(!i){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(m,v)=>{Gx(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)v(new Error("recaptcha Enterprise site key undefined"));else{const y=new Vx(g);return h.tenantId==null?h._agentRecaptchaConfig=y:h._tenantRecaptchaConfigs[h.tenantId]=y,m(y.siteKey)}}).catch(g=>{v(g)})})}function c(h,m,v){const g=window.grecaptcha;hy(g)?g.enterprise.ready(()=>{g.enterprise.execute(h,{action:e}).then(y=>{m(y)}).catch(()=>{m(db)})}):v(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new f1().execute("siteKey",{action:"verify"}):new Promise((h,m)=>{a(this.auth).then(v=>{if(!i&&hy(window.grecaptcha))c(v,h,m);else{if(typeof window>"u"){m(new Error("RecaptchaVerifier is only supported in browser"));return}let g=u1();g.length!==0&&(g+=v),fb(g).then(()=>{c(v,h,m)}).catch(y=>{m(y)})}}).catch(v=>{m(v)})})}}async function gy(s,e,i,a=!1,c=!1){const h=new p1(s);let m;if(c)m=db;else try{m=await h.verify(i)}catch{m=await h.verify(i,!0)}const v=Object.assign({},e);if(i==="mfaSmsEnrollment"||i==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in v){const g=v.phoneEnrollmentInfo.phoneNumber,y=v.phoneEnrollmentInfo.recaptchaToken;Object.assign(v,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in v){const g=v.phoneSignInInfo.recaptchaToken;Object.assign(v,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:m,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return v}return a?Object.assign(v,{captchaResp:m}):Object.assign(v,{captchaResponse:m}),Object.assign(v,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(v,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),v}async function Th(s,e,i,a,c){var h;if(!((h=s._getRecaptchaConfig())===null||h===void 0)&&h.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const m=await gy(s,e,i,i==="getOobCode");return a(s,m)}else return a(s,e).catch(async m=>{if(m.code==="auth/missing-recaptcha-token"){console.log(`${i} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const v=await gy(s,e,i,i==="getOobCode");return a(s,v)}else return Promise.reject(m)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _1(s,e){const i=ip(s,"auth");if(i.isInitialized()){const c=i.getImmediate(),h=i.getOptions();if(oa(h,e??{}))return c;Hn(c,"already-initialized")}return i.initialize({options:e})}function g1(s,e){const i=(e==null?void 0:e.persistence)||[],a=(Array.isArray(i)?i:[i]).map(is);e!=null&&e.errorMap&&s._updateErrorMap(e.errorMap),s._initializeWithPersistence(a,e==null?void 0:e.popupRedirectResolver)}function v1(s,e,i){const a=ps(s);be(/^https?:\/\//.test(e),a,"invalid-emulator-scheme");const c=!1,h=mb(e),{host:m,port:v}=y1(e),g=v===null?"":`:${v}`,y={url:`${h}//${m}${g}/`},C=Object.freeze({host:m,port:v,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:c})});if(!a._canInitEmulator){be(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),be(oa(y,a.config.emulator)&&oa(C,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=C,a.settings.appVerificationDisabledForTesting=!0,Co(m)?(j0(`${h}//${m}${g}`),B0("Auth",!0)):b1()}function mb(s){const e=s.indexOf(":");return e<0?"":s.substr(0,e+1)}function y1(s){const e=mb(s),i=/(\/\/)?([^?#/]+)/.exec(s.substr(e.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",c=/^(\[[^\]]+\])(:|$)/.exec(a);if(c){const h=c[1];return{host:h,port:vy(a.substr(h.length+1))}}else{const[h,m]=a.split(":");return{host:h,port:vy(m)}}}function vy(s){if(!s)return null;const e=Number(s);return isNaN(e)?null:e}function b1(){function s(){const e=document.createElement("p"),i=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",s):s())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e,i){this.providerId=e,this.signInMethod=i}toJSON(){return ns("not implemented")}_getIdTokenResponse(e){return ns("not implemented")}_linkToIdToken(e,i){return ns("not implemented")}_getReauthenticationResolver(e){return ns("not implemented")}}async function S1(s,e){return Ti(s,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E1(s,e){return vu(s,"POST","/v1/accounts:signInWithPassword",ms(s,e))}async function w1(s,e){return Ti(s,"POST","/v1/accounts:sendOobCode",ms(s,e))}async function T1(s,e){return w1(s,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C1(s,e){return vu(s,"POST","/v1/accounts:signInWithEmailLink",ms(s,e))}async function x1(s,e){return vu(s,"POST","/v1/accounts:signInWithEmailLink",ms(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ru extends cp{constructor(e,i,a,c=null){super("password",a),this._email=e,this._password=i,this._tenantId=c}static _fromEmailAndPassword(e,i){return new ru(e,i,"password")}static _fromEmailAndCode(e,i,a=null){return new ru(e,i,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e;if(i!=null&&i.email&&(i!=null&&i.password)){if(i.signInMethod==="password")return this._fromEmailAndPassword(i.email,i.password);if(i.signInMethod==="emailLink")return this._fromEmailAndCode(i.email,i.password,i.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const i={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,i,"signInWithPassword",E1);case"emailLink":return C1(e,{email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}async _linkToIdToken(e,i){switch(this.signInMethod){case"password":const a={idToken:i,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Th(e,a,"signUpPassword",S1);case"emailLink":return x1(e,{idToken:i,email:this._email,oobCode:this._password});default:Hn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(s,e){return vu(s,"POST","/v1/accounts:signInWithIdp",ms(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N1="http://localhost";class ua extends cp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const i=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(i.idToken=e.idToken),e.accessToken&&(i.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(i.nonce=e.nonce),e.pendingToken&&(i.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(i.accessToken=e.oauthToken,i.secret=e.oauthTokenSecret):Hn("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const i=typeof e=="string"?JSON.parse(e):e,{providerId:a,signInMethod:c}=i,h=sp(i,["providerId","signInMethod"]);if(!a||!c)return null;const m=new ua(a,c);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(e){const i=this.buildRequest();return ho(e,i)}_linkToIdToken(e,i){const a=this.buildRequest();return a.idToken=i,ho(e,a)}_getReauthenticationResolver(e){const i=this.buildRequest();return i.autoCreate=!1,ho(e,i)}buildRequest(){const e={requestUri:N1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),e.postBody=xo(i)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(s){switch(s){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function R1(s){const e=Gl(Yl(s)).link,i=e?Gl(Yl(e)).deep_link_id:null,a=Gl(Yl(s)).deep_link_id;return(a?Gl(Yl(a)).link:null)||a||i||e||s}class hp{constructor(e){var i,a,c,h,m,v;const g=Gl(Yl(e)),y=(i=g.apiKey)!==null&&i!==void 0?i:null,C=(a=g.oobCode)!==null&&a!==void 0?a:null,x=A1((c=g.mode)!==null&&c!==void 0?c:null);be(y&&C&&x,"argument-error"),this.apiKey=y,this.operation=x,this.code=C,this.continueUrl=(h=g.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(m=g.lang)!==null&&m!==void 0?m:null,this.tenantId=(v=g.tenantId)!==null&&v!==void 0?v:null}static parseLink(e){const i=R1(e);try{return new hp(i)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,i){return ru._fromEmailAndPassword(e,i)}static credentialWithLink(e,i){const a=hp.parseLink(i);return be(a,"argument-error"),ru._fromEmailAndCode(e,a.code,a.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu extends fp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr extends yu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:fr.PROVIDER_ID,signInMethod:fr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return fr.credentialFromTaggedObject(e)}static credentialFromError(e){return fr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return fr.credential(e.oauthAccessToken)}catch{return null}}}fr.FACEBOOK_SIGN_IN_METHOD="facebook.com";fr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends yu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,i){return ua._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:i})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:i,oauthAccessToken:a}=e;if(!i&&!a)return null;try{return ts.credential(i,a)}catch{return null}}}ts.GOOGLE_SIGN_IN_METHOD="google.com";ts.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr extends yu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:dr.PROVIDER_ID,signInMethod:dr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return dr.credentialFromTaggedObject(e)}static credentialFromError(e){return dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return dr.credential(e.oauthAccessToken)}catch{return null}}}dr.GITHUB_SIGN_IN_METHOD="github.com";dr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr extends yu{constructor(){super("twitter.com")}static credential(e,i){return ua._fromParams({providerId:mr.PROVIDER_ID,signInMethod:mr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:i})}static credentialFromResult(e){return mr.credentialFromTaggedObject(e)}static credentialFromError(e){return mr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=e;if(!i||!a)return null;try{return mr.credential(i,a)}catch{return null}}}mr.TWITTER_SIGN_IN_METHOD="twitter.com";mr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(s,e){return vu(s,"POST","/v1/accounts:signUp",ms(s,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,i,a,c=!1){const h=await ti._fromIdTokenResponse(e,a,c),m=yy(a);return new ca({user:h,providerId:m,_tokenResponse:a,operationType:i})}static async _forOperation(e,i,a){await e._updateTokensIfNecessary(a,!0);const c=yy(a);return new ca({user:e,providerId:c,_tokenResponse:a,operationType:i})}}function yy(s){return s.providerId?s.providerId:"phoneNumber"in s?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends wr{constructor(e,i,a,c){var h;super(i.code,i.message),this.operationType=a,this.user=c,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(h=e.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(e,i,a,c){return new Ch(e,i,a,c)}}function pb(s,e,i,a){return(e==="reauthenticate"?i._getReauthenticationResolver(s):i._getIdTokenResponse(s)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(s,h,e,a):h})}async function L1(s,e,i=!1){const a=await go(s,e._linkToIdToken(s.auth,await s.getIdToken()),i);return ca._forOperation(s,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M1(s,e,i=!1){const{auth:a}=s;if(An(a.app))return Promise.reject(as(a));const c="reauthenticate";try{const h=await go(s,pb(a,c,e,s),i);be(h.idToken,a,"internal-error");const m=lp(h.idToken);be(m,a,"internal-error");const{sub:v}=m;return be(s.uid===v,a,"user-mismatch"),ca._forOperation(s,c,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&Hn(a,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _b(s,e,i=!1){if(An(s.app))return Promise.reject(as(s));const a="signIn",c=await pb(s,a,e),h=await ca._fromIdTokenResponse(s,a,c);return i||await s._updateCurrentUser(h.user),h}async function I1(s,e){return _b(ps(s),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gb(s){const e=ps(s);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function k1(s,e,i){const a=ps(s);await Th(a,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",T1)}async function D1(s,e,i){if(An(s.app))return Promise.reject(as(s));const a=ps(s),m=await Th(a,{returnSecureToken:!0,email:e,password:i,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",O1).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&gb(s),g}),v=await ca._fromIdTokenResponse(a,"signIn",m);return await a._updateCurrentUser(v.user),v}function P1(s,e,i){return An(s.app)?Promise.reject(as(s)):I1(an(s),Ao.credential(e,i)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&gb(s),a})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(s,e){return Ti(s,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vb(s,{displayName:e,photoURL:i}){if(e===void 0&&i===void 0)return;const a=an(s),h={idToken:await a.getIdToken(),displayName:e,photoUrl:i,returnSecureToken:!0},m=await go(a,z1(a.auth,h));a.displayName=m.displayName||null,a.photoURL=m.photoUrl||null;const v=a.providerData.find(({providerId:g})=>g==="password");v&&(v.displayName=a.displayName,v.photoURL=a.photoURL),await a._updateTokensIfNecessary(m)}function U1(s,e,i,a){return an(s).onIdTokenChanged(e,i,a)}function j1(s,e,i){return an(s).beforeAuthStateChanged(e,i)}function B1(s,e,i,a){return an(s).onAuthStateChanged(e,i,a)}function H1(s){return an(s).signOut()}const xh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,i){this.storageRetriever=e,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,i){return this.storage.setItem(e,JSON.stringify(i)),Promise.resolve()}_get(e){const i=this.storage.getItem(e);return Promise.resolve(i?JSON.parse(i):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=1e3,q1=10;class bb extends yb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,i)=>this.onStorageEvent(e,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),c=this.localCache[i];a!==c&&e(i,c,a)}}onStorageEvent(e,i=!1){if(!e.key){this.forAllChangedKeys((m,v,g)=>{this.notifyListeners(m,g)});return}const a=e.key;i?this.detachListener():this.stopPolling();const c=()=>{const m=this.storage.getItem(a);!i&&this.localCache[a]===m||this.notifyListeners(a,m)},h=this.storage.getItem(a);n1()&&h!==e.newValue&&e.newValue!==e.oldValue?setTimeout(c,q1):c()}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const c of Array.from(a))c(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:i,newValue:a}),!0)})},F1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,i){await super._set(e,i),this.localCache[e]=JSON.stringify(i)}async _get(e){const i=await super._get(e);return this.localCache[e]=JSON.stringify(i),i}async _remove(e){await super._remove(e),delete this.localCache[e]}}bb.type="LOCAL";const Z1=bb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends yb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,i){}_removeListener(e,i){}}Sb.type="SESSION";const Eb=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(s){return Promise.all(s.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const i=this.receivers.find(c=>c.isListeningto(e));if(i)return i;const a=new Vh(e);return this.receivers.push(a),a}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const i=e,{eventId:a,eventType:c,data:h}=i.data,m=this.handlersMap[c];if(!(m!=null&&m.size))return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:c});const v=Array.from(m).map(async y=>y(i.origin,h)),g=await V1(v);i.ports[0].postMessage({status:"done",eventId:a,eventType:c,response:g})}_subscribe(e,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(i)}_unsubscribe(e,i){this.handlersMap[e]&&i&&this.handlersMap[e].delete(i),(!i||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(s="",e=10){let i="";for(let a=0;a<e;a++)i+=Math.floor(Math.random()*10);return s+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,i,a=50){const c=typeof MessageChannel<"u"?new MessageChannel:null;if(!c)throw new Error("connection_unavailable");let h,m;return new Promise((v,g)=>{const y=dp("",20);c.port1.start();const C=setTimeout(()=>{g(new Error("unsupported_event"))},a);m={messageChannel:c,onMessage(x){const N=x;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(C),h=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),v(N.data.response);break;default:clearTimeout(C),clearTimeout(h),g(new Error("invalid_response"));break}}},this.handlers.add(m),c.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:e,eventId:y,data:i},[c.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(){return window}function Y1(s){Ei().location.href=s}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wb(){return typeof Ei().WorkerGlobalScope<"u"&&typeof Ei().importScripts=="function"}async function W1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function K1(){var s;return((s=navigator==null?void 0:navigator.serviceWorker)===null||s===void 0?void 0:s.controller)||null}function X1(){return wb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="firebaseLocalStorageDb",Q1=1,Nh="firebaseLocalStorage",Cb="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,i)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Gh(s,e){return s.transaction([Nh],e?"readwrite":"readonly").objectStore(Nh)}function $1(){const s=indexedDB.deleteDatabase(Tb);return new bu(s).toPromise()}function Lm(){const s=indexedDB.open(Tb,Q1);return new Promise((e,i)=>{s.addEventListener("error",()=>{i(s.error)}),s.addEventListener("upgradeneeded",()=>{const a=s.result;try{a.createObjectStore(Nh,{keyPath:Cb})}catch(c){i(c)}}),s.addEventListener("success",async()=>{const a=s.result;a.objectStoreNames.contains(Nh)?e(a):(a.close(),await $1(),e(await Lm()))})})}async function by(s,e,i){const a=Gh(s,!0).put({[Cb]:e,value:i});return new bu(a).toPromise()}async function J1(s,e){const i=Gh(s,!1).get(e),a=await new bu(i).toPromise();return a===void 0?null:a.value}function Sy(s,e){const i=Gh(s,!0).delete(e);return new bu(i).toPromise()}const eN=800,tN=3;class xb{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Lm(),this.db)}async _withRetries(e){let i=0;for(;;)try{const a=await this._openDb();return await e(a)}catch(a){if(i++>tN)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(X1()),this.receiver._subscribe("keyChanged",async(e,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(e,i)=>["keyChanged"])}async initializeSender(){var e,i;if(this.activeServiceWorker=await W1(),!this.activeServiceWorker)return;this.sender=new G1(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((e=a[0])===null||e===void 0)&&e.fulfilled&&!((i=a[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||K1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Lm();return await by(e,xh,"1"),await Sy(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>by(a,e,i)),this.localCache[e]=i,this.notifyServiceWorker(e)))}async _get(e){const i=await this._withRetries(a=>J1(a,e));return this.localCache[e]=i,i}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(i=>Sy(i,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(c=>{const h=Gh(c,!1).getAll();return new bu(h).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(e.length!==0)for(const{fbase_key:c,value:h}of e)a.add(c),JSON.stringify(this.localCache[c])!==JSON.stringify(h)&&(this.notifyListeners(c,h),i.push(c));for(const c of Object.keys(this.localCache))this.localCache[c]&&!a.has(c)&&(this.notifyListeners(c,null),i.push(c));return i}notifyListeners(e,i){this.localCache[e]=i;const a=this.listeners[e];if(a)for(const c of Array.from(a))c(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),eN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(i)}_removeListener(e,i){this.listeners[e]&&(this.listeners[e].delete(i),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xb.type="LOCAL";const nN=xb;new gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(s,e){return e?is(e):(be(s._popupRedirectResolver,s,"argument-error"),s._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp extends cp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,i){return ho(e,this._buildIdpRequest(i))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(i.idToken=e),i}}function iN(s){return _b(s.auth,new mp(s),s.bypassAuthState)}function sN(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),M1(i,new mp(s),s.bypassAuthState)}async function rN(s){const{auth:e,user:i}=s;return be(i,e,"internal-error"),L1(i,new mp(s),s.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e,i,a,c,h=!1){this.auth=e,this.resolver=a,this.user=c,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(e,i)=>{this.pendingPromise={resolve:e,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(e){const{urlResponse:i,sessionId:a,postBody:c,tenantId:h,error:m,type:v}=e;if(m){this.reject(m);return}const g={auth:this.auth,requestUri:i,sessionId:a,tenantId:h||void 0,postBody:c||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(v)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return iN;case"linkViaPopup":case"linkViaRedirect":return rN;case"reauthViaPopup":case"reauthViaRedirect":return sN;default:Hn(this.auth,"internal-error")}}resolve(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=new gu(2e3,1e4);async function oN(s,e,i){if(An(s.app))return Promise.reject(si(s,"operation-not-supported-in-this-environment"));const a=ps(s);Px(s,e,fp);const c=Nb(a,i);return new ra(a,"signInViaPopup",e,c).executeNotNull()}class ra extends Ab{constructor(e,i,a,c,h){super(e,i,c,h),this.provider=a,this.authWindow=null,this.pollId=null,ra.currentPopupAction&&ra.currentPopupAction.cancel(),ra.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return be(e,this.auth,"internal-error"),e}async onExecution(){cs(this.filter.length===1,"Popup operations only handle one event");const e=dp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ra.currentPopupAction=null}pollUserCancellation(){const e=()=>{var i,a;if(!((a=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,aN.get())};e()}}ra.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="pendingRedirect",dh=new Map;class uN extends Ab{constructor(e,i,a=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let e=dh.get(this.auth._key());if(!e){try{const a=await cN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(a)}catch(i){e=()=>Promise.reject(i)}dh.set(this.auth._key(),e)}return this.bypassAuthState||dh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const i=await this.auth._redirectUserForId(e.eventId);if(i)return this.user=i,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function cN(s,e){const i=dN(e),a=fN(s);if(!await a._isAvailable())return!1;const c=await a._get(i)==="true";return await a._remove(i),c}function hN(s,e){dh.set(s._key(),e)}function fN(s){return is(s._redirectPersistence)}function dN(s){return fh(lN,s.config.apiKey,s.name)}async function mN(s,e,i=!1){if(An(s.app))return Promise.reject(as(s));const a=ps(s),c=Nb(a,e),m=await new uN(a,c,i).execute();return m&&!i&&(delete m.user._redirectEventId,await a._persistUserIfCurrent(m.user),await a._setRedirectUser(null,e)),m}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pN=10*60*1e3;class _N{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(e,a)&&(i=!0,this.sendToConsumer(e,a),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!gN(e)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=e,i=!0)),i}sendToConsumer(e,i){var a;if(e.error&&!Rb(e)){const c=((a=e.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";i.onError(si(this.auth,c))}else i.onAuthEvent(e)}isEventForConsumer(e,i){const a=i.eventId===null||!!e.eventId&&e.eventId===i.eventId;return i.filter.includes(e.type)&&a}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pN&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ey(e))}saveEventToCache(e){this.cachedEventUids.add(Ey(e)),this.lastProcessedEventTime=Date.now()}}function Ey(s){return[s.type,s.eventId,s.sessionId,s.tenantId].filter(e=>e).join("-")}function Rb({type:s,error:e}){return s==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function gN(s){switch(s.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rb(s);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(s,e={}){return Ti(s,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bN=/^https?/;async function SN(s){if(s.config.emulator)return;const{authorizedDomains:e}=await vN(s);for(const i of e)try{if(EN(i))return}catch{}Hn(s,"unauthorized-domain")}function EN(s){const e=Rm(),{protocol:i,hostname:a}=new URL(e);if(s.startsWith("chrome-extension://")){const m=new URL(s);return m.hostname===""&&a===""?i==="chrome-extension:"&&s.replace("chrome-extension://","")===e.replace("chrome-extension://",""):i==="chrome-extension:"&&m.hostname===a}if(!bN.test(i))return!1;if(yN.test(s))return a===s;const c=s.replace(/\./g,"\\.");return new RegExp("^(.+\\."+c+"|"+c+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new gu(3e4,6e4);function wy(){const s=Ei().___jsl;if(s!=null&&s.H){for(const e of Object.keys(s.H))if(s.H[e].r=s.H[e].r||[],s.H[e].L=s.H[e].L||[],s.H[e].r=[...s.H[e].L],s.CP)for(let i=0;i<s.CP.length;i++)s.CP[i]=null}}function TN(s){return new Promise((e,i)=>{var a,c,h;function m(){wy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wy(),i(si(s,"network-request-failed"))},timeout:wN.get()})}if(!((c=(a=Ei().gapi)===null||a===void 0?void 0:a.iframes)===null||c===void 0)&&c.Iframe)e(gapi.iframes.getContext());else if(!((h=Ei().gapi)===null||h===void 0)&&h.load)m();else{const v=h1("iframefcb");return Ei()[v]=()=>{gapi.load?m():i(si(s,"network-request-failed"))},fb(`${c1()}?onload=${v}`).catch(g=>i(g))}}).catch(e=>{throw mh=null,e})}let mh=null;function CN(s){return mh=mh||TN(s),mh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=new gu(5e3,15e3),NN="__/auth/iframe",AN="emulator/auth/iframe",RN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ON=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LN(s){const e=s.config;be(e.authDomain,s,"auth-domain-config-required");const i=e.emulator?op(e,AN):`https://${s.config.authDomain}/${NN}`,a={apiKey:e.apiKey,appName:s.name,v:No},c=ON.get(s.config.apiHost);c&&(a.eid=c);const h=s._getFrameworks();return h.length&&(a.fw=h.join(",")),`${i}?${xo(a).slice(1)}`}async function MN(s){const e=await CN(s),i=Ei().gapi;return be(i,s,"internal-error"),e.open({where:document.body,url:LN(s),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:RN,dontclear:!0},a=>new Promise(async(c,h)=>{await a.restyle({setHideOnLeave:!1});const m=si(s,"network-request-failed"),v=Ei().setTimeout(()=>{h(m)},xN.get());function g(){Ei().clearTimeout(v),c(a)}a.ping(g).then(g,()=>{h(m)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kN=500,DN=600,PN="_blank",zN="http://localhost";class Ty{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function UN(s,e,i,a=kN,c=DN){const h=Math.max((window.screen.availHeight-c)/2,0).toString(),m=Math.max((window.screen.availWidth-a)/2,0).toString();let v="";const g=Object.assign(Object.assign({},IN),{width:a.toString(),height:c.toString(),top:h,left:m}),y=rn().toLowerCase();i&&(v=rb(y)?PN:i),ib(y)&&(e=e||zN,g.scrollbars="yes");const C=Object.entries(g).reduce((N,[D,k])=>`${N}${D}=${k},`,"");if(t1(y)&&v!=="_self")return jN(e||"",v),new Ty(null);const x=window.open(e||"",v,C);be(x,s,"popup-blocked");try{x.focus()}catch{}return new Ty(x)}function jN(s,e){const i=document.createElement("a");i.href=s,i.target=e;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BN="__/auth/handler",HN="emulator/auth/handler",FN=encodeURIComponent("fac");async function Cy(s,e,i,a,c,h){be(s.config.authDomain,s,"auth-domain-config-required"),be(s.config.apiKey,s,"invalid-api-key");const m={apiKey:s.config.apiKey,appName:s.name,authType:i,redirectUrl:a,v:No,eventId:c};if(e instanceof fp){e.setDefaultLanguage(s.languageCode),m.providerId=e.providerId||"",wm(e.getCustomParameters())||(m.customParameters=JSON.stringify(e.getCustomParameters()));for(const[C,x]of Object.entries({}))m[C]=x}if(e instanceof yu){const C=e.getScopes().filter(x=>x!=="");C.length>0&&(m.scopes=C.join(","))}s.tenantId&&(m.tid=s.tenantId);const v=m;for(const C of Object.keys(v))v[C]===void 0&&delete v[C];const g=await s._getAppCheckToken(),y=g?`#${FN}=${encodeURIComponent(g)}`:"";return`${qN(s)}?${xo(v).slice(1)}${y}`}function qN({config:s}){return s.emulator?op(s,HN):`https://${s.authDomain}/${BN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="webStorageSupport";class ZN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Eb,this._completeRedirectFn=mN,this._overrideRedirectResult=hN}async _openPopup(e,i,a,c){var h;cs((h=this.eventManagers[e._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const m=await Cy(e,i,a,Rm(),c);return UN(e,m,dp())}async _openRedirect(e,i,a,c){await this._originValidation(e);const h=await Cy(e,i,a,Rm(),c);return Y1(h),new Promise(()=>{})}_initialize(e){const i=e._key();if(this.eventManagers[i]){const{manager:c,promise:h}=this.eventManagers[i];return c?Promise.resolve(c):(cs(h,"If manager is not set, promise should be"),h)}const a=this.initAndGetManager(e);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(e){const i=await MN(e),a=new _N(e);return i.register("authEvent",c=>(be(c==null?void 0:c.authEvent,e,"invalid-auth-event"),{status:a.onEvent(c.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:a},this.iframes[e._key()]=i,a}_isIframeWebStorageSupported(e,i){this.iframes[e._key()].send(hm,{type:hm},c=>{var h;const m=(h=c==null?void 0:c[0])===null||h===void 0?void 0:h[hm];m!==void 0&&i(!!m),Hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const i=e._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=SN(e)),this.originValidationPromises[i]}get _shouldInitProactively(){return cb()||sb()||up()}}const VN=ZN;var xy="@firebase/auth",Ny="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const i=this.auth.onIdTokenChanged(a=>{e((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,i),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const i=this.internalListeners.get(e);i&&(this.internalListeners.delete(e),i(),this.updateProactiveRefresh())}assertAuthConfigured(){be(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(s){switch(s){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function WN(s){_o(new la("auth",(e,{options:i})=>{const a=e.getProvider("app").getImmediate(),c=e.getProvider("heartbeat"),h=e.getProvider("app-check-internal"),{apiKey:m,authDomain:v}=a.options;be(m&&!m.includes(":"),"invalid-api-key",{appName:a.name});const g={apiKey:m,authDomain:v,clientPlatform:s,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hb(s)},y=new o1(a,c,h,g);return g1(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,i,a)=>{e.getProvider("auth-internal").initialize()})),_o(new la("auth-internal",e=>{const i=ps(e.getProvider("auth").getImmediate());return(a=>new GN(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),gr(xy,Ny,YN(s)),gr(xy,Ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=5*60,XN=U0("authIdTokenMaxAge")||KN;let Ay=null;const QN=s=>async e=>{const i=e&&await e.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>XN)return;const c=i==null?void 0:i.token;Ay!==c&&(Ay=c,await fetch(s,{method:c?"POST":"DELETE",headers:c?{Authorization:`Bearer ${c}`}:{}}))};function $N(s=Y0()){const e=ip(s,"auth");if(e.isInitialized())return e.getImmediate();const i=_1(s,{popupRedirectResolver:VN,persistence:[nN,Z1,Eb]}),a=U0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(a,location.origin);if(location.origin===h.origin){const m=QN(h.toString());j1(i,m,()=>m(i.currentUser)),U1(i,v=>m(v))}}const c=P0("auth");return c&&v1(i,`http://${c}`),i}function JN(){var s,e;return(e=(s=document.getElementsByTagName("head"))===null||s===void 0?void 0:s[0])!==null&&e!==void 0?e:document}l1({loadJS(s){return new Promise((e,i)=>{const a=document.createElement("script");a.setAttribute("src",s),a.onload=e,a.onerror=c=>{const h=si("internal-error");h.customData=c,i(h)},a.type="text/javascript",a.charset="UTF-8",JN().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});WN("Browser");var eA="firebase",tA="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gr(eA,tA,"app");var Ry={};const Oy="@firebase/database",Ly="1.0.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ob="";function nA(s){Ob=s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,i){i==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tt(i))}get(e){const i=this.domStorage_.getItem(this.prefixedName_(e));return i==null?null:iu(i)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,i){i==null?delete this.cache_[e]:this.cache_[e]=i}get(e){return ds(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb=function(s){try{if(typeof window<"u"&&typeof window[s]<"u"){const e=window[s];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new iA(e)}}catch{}return new sA},aa=Lb("localStorage"),rA=Lb("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo=new tp("@firebase/database"),aA=function(){let s=1;return function(){return s++}}(),Mb=function(s){const e=CC(s),i=new SC;i.update(e);const a=i.digest();return Qm.encodeByteArray(a)},Su=function(...s){let e="";for(let i=0;i<s.length;i++){const a=s[i];Array.isArray(a)||a&&typeof a=="object"&&typeof a.length=="number"?e+=Su.apply(null,a):typeof a=="object"?e+=Tt(a):e+=a,e+=" "}return e};let Ql=null,My=!0;const oA=function(s,e){ne(!0,"Can't turn on custom loggers persistently."),fo.logLevel=Qe.VERBOSE,Ql=fo.log.bind(fo)},Kt=function(...s){if(My===!0&&(My=!1,Ql===null&&rA.get("logging_enabled")===!0&&oA()),Ql){const e=Su.apply(null,s);Ql(e)}},Eu=function(s){return function(...e){Kt(s,...e)}},Mm=function(...s){const e="FIREBASE INTERNAL ERROR: "+Su(...s);fo.error(e)},hs=function(...s){const e=`FIREBASE FATAL ERROR: ${Su(...s)}`;throw fo.error(e),new Error(e)},Rn=function(...s){const e="FIREBASE WARNING: "+Su(...s);fo.warn(e)},lA=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Rn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Ib=function(s){return typeof s=="number"&&(s!==s||s===Number.POSITIVE_INFINITY||s===Number.NEGATIVE_INFINITY)},uA=function(s){if(document.readyState==="complete")s();else{let e=!1;const i=function(){if(!document.body){setTimeout(i,Math.floor(10));return}e||(e=!0,s())};document.addEventListener?(document.addEventListener("DOMContentLoaded",i,!1),window.addEventListener("load",i,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&i()}),window.attachEvent("onload",i))}},vo="[MIN_NAME]",ha="[MAX_NAME]",Ro=function(s,e){if(s===e)return 0;if(s===vo||e===ha)return-1;if(e===vo||s===ha)return 1;{const i=Iy(s),a=Iy(e);return i!==null?a!==null?i-a===0?s.length-e.length:i-a:-1:a!==null?1:s<e?-1:1}},cA=function(s,e){return s===e?0:s<e?-1:1},Bl=function(s,e){if(e&&s in e)return e[s];throw new Error("Missing required key ("+s+") in object: "+Tt(e))},pp=function(s){if(typeof s!="object"||s===null)return Tt(s);const e=[];for(const a in s)e.push(a);e.sort();let i="{";for(let a=0;a<e.length;a++)a!==0&&(i+=","),i+=Tt(e[a]),i+=":",i+=pp(s[e[a]]);return i+="}",i},kb=function(s,e){const i=s.length;if(i<=e)return[s];const a=[];for(let c=0;c<i;c+=e)c+e>i?a.push(s.substring(c,i)):a.push(s.substring(c,c+e));return a};function pn(s,e){for(const i in s)s.hasOwnProperty(i)&&e(i,s[i])}const Db=function(s){ne(!Ib(s),"Invalid JSON number");const e=11,i=52,a=(1<<e-1)-1;let c,h,m,v,g;s===0?(h=0,m=0,c=1/s===-1/0?1:0):(c=s<0,s=Math.abs(s),s>=Math.pow(2,1-a)?(v=Math.min(Math.floor(Math.log(s)/Math.LN2),a),h=v+a,m=Math.round(s*Math.pow(2,i-v)-Math.pow(2,i))):(h=0,m=Math.round(s/Math.pow(2,1-a-i))));const y=[];for(g=i;g;g-=1)y.push(m%2?1:0),m=Math.floor(m/2);for(g=e;g;g-=1)y.push(h%2?1:0),h=Math.floor(h/2);y.push(c?1:0),y.reverse();const C=y.join("");let x="";for(g=0;g<64;g+=8){let N=parseInt(C.substr(g,8),2).toString(16);N.length===1&&(N="0"+N),x=x+N}return x.toLowerCase()},hA=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fA=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dA(s,e){let i="Unknown Error";s==="too_big"?i="The data requested exceeds the maximum size that can be accessed with a single request.":s==="permission_denied"?i="Client doesn't have permission to access the desired data.":s==="unavailable"&&(i="The service is unavailable");const a=new Error(s+" at "+e._path.toString()+": "+i);return a.code=s.toUpperCase(),a}const mA=new RegExp("^-?(0*)\\d{1,10}$"),pA=-2147483648,_A=2147483647,Iy=function(s){if(mA.test(s)){const e=Number(s);if(e>=pA&&e<=_A)return e}return null},wu=function(s){try{s()}catch(e){setTimeout(()=>{const i=e.stack||"";throw Rn("Exception was thrown by user callback.",i),e},Math.floor(0))}},gA=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},$l=function(s,e){const i=setTimeout(s,e);return typeof i=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(i):typeof i=="object"&&i.unref&&i.unref(),i};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(e,i){this.appCheckProvider=i,this.appName=e.name,An(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=i==null?void 0:i.getImmediate({optional:!0}),this.appCheck||i==null||i.get().then(a=>this.appCheck=a)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((i,a)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){var i;(i=this.appCheckProvider)===null||i===void 0||i.get().then(a=>a.addTokenListener(e))}notifyForInvalidToken(){Rn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(e,i,a){this.appName_=e,this.firebaseOptions_=i,this.authProvider_=a,this.auth_=null,this.auth_=a.getImmediate({optional:!0}),this.auth_||a.onInit(c=>this.auth_=c)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(i=>i&&i.code==="auth/token-not-initialized"?(Kt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(i)):new Promise((i,a)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(i,a):i(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(i=>i.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(i=>i.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Rn(e)}}class ph{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ph.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _p="5",Pb="v",zb="s",Ub="r",jb="f",Bb=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Hb="ls",Fb="p",Im="ac",qb="websocket",Zb="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,i,a,c,h=!1,m="",v=!1,g=!1,y=null){this.secure=i,this.namespace=a,this.webSocketOnly=c,this.nodeAdmin=h,this.persistenceKey=m,this.includeNamespaceInQueryParams=v,this.isUsingEmulator=g,this.emulatorOptions=y,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=aa.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&aa.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",i=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${i}`}}function bA(s){return s.host!==s.internalHost||s.isCustomHost()||s.includeNamespaceInQueryParams}function Gb(s,e,i){ne(typeof e=="string","typeof type must == string"),ne(typeof i=="object","typeof params must == object");let a;if(e===qb)a=(s.secure?"wss://":"ws://")+s.internalHost+"/.ws?";else if(e===Zb)a=(s.secure?"https://":"http://")+s.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);bA(s)&&(i.ns=s.namespace);const c=[];return pn(i,(h,m)=>{c.push(h+"="+m)}),a+c.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(){this.counters_={}}incrementCounter(e,i=1){ds(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=i}get(){return eC(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm={},dm={};function gp(s){const e=s.toString();return fm[e]||(fm[e]=new SA),fm[e]}function EA(s,e){const i=s.toString();return dm[i]||(dm[i]=e()),dm[i]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,i){this.closeAfterResponse=e,this.onClose=i,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,i){for(this.pendingResponses[e]=i;this.pendingResponses[this.currentResponseNum];){const a=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let c=0;c<a.length;++c)a[c]&&wu(()=>{this.onMessage_(a[c])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="start",TA="close",CA="pLPCommand",xA="pRTLPCB",Yb="id",Wb="pw",Kb="ser",NA="cb",AA="seg",RA="ts",OA="d",LA="dframe",Xb=1870,Qb=30,MA=Xb-Qb,IA=25e3,kA=3e4;class oo{constructor(e,i,a,c,h,m,v){this.connId=e,this.repoInfo=i,this.applicationId=a,this.appCheckToken=c,this.authToken=h,this.transportSessionId=m,this.lastSessionId=v,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Eu(e),this.stats_=gp(i),this.urlFn=g=>(this.appCheckToken&&(g[Im]=this.appCheckToken),Gb(i,Zb,g))}open(e,i){this.curSegmentNum=0,this.onDisconnect_=i,this.myPacketOrderer=new wA(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(kA)),uA(()=>{if(this.isClosed_)return;this.scriptTagHolder=new vp((...h)=>{const[m,v,g,y,C]=h;if(this.incrementIncomingBytes_(h),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,m===ky)this.id=v,this.password=g;else if(m===TA)v?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(v,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+m)},(...h)=>{const[m,v]=h;this.incrementIncomingBytes_(h),this.myPacketOrderer.handleResponse(m,v)},()=>{this.onClosed_()},this.urlFn);const a={};a[ky]="t",a[Kb]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(a[NA]=this.scriptTagHolder.uniqueCallbackIdentifier),a[Pb]=_p,this.transportSessionId&&(a[zb]=this.transportSessionId),this.lastSessionId&&(a[Hb]=this.lastSessionId),this.applicationId&&(a[Fb]=this.applicationId),this.appCheckToken&&(a[Im]=this.appCheckToken),typeof location<"u"&&location.hostname&&Bb.test(location.hostname)&&(a[Ub]=jb);const c=this.urlFn(a);this.log_("Connecting via long-poll to "+c),this.scriptTagHolder.addTag(c,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){oo.forceAllow_=!0}static forceDisallow(){oo.forceDisallow_=!0}static isAvailable(){return oo.forceAllow_?!0:!oo.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hA()&&!fA()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const i=Tt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=k0(i),c=kb(a,MA);for(let h=0;h<c.length;h++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,c.length,c[h]),this.curSegmentNum++}addDisconnectPingFrame(e,i){this.myDisconnFrame=document.createElement("iframe");const a={};a[LA]="t",a[Yb]=e,a[Wb]=i,this.myDisconnFrame.src=this.urlFn(a),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const i=Tt(e).length;this.bytesReceived+=i,this.stats_.incrementCounter("bytes_received",i)}}class vp{constructor(e,i,a,c){this.onDisconnect=a,this.urlFn=c,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=aA(),window[CA+this.uniqueCallbackIdentifier]=e,window[xA+this.uniqueCallbackIdentifier]=i,this.myIFrame=vp.createIFrame_();let h="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(h='<script>document.domain="'+document.domain+'";<\/script>');const m="<html><body>"+h+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(m),this.myIFrame.doc.close()}catch(v){Kt("frame writing exception"),v.stack&&Kt(v.stack),Kt(v)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Kt("No IE domain setting required")}catch{const a=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+a+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,i){for(this.myID=e,this.myPW=i,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Yb]=this.myID,e[Wb]=this.myPW,e[Kb]=this.currentSerial;let i=this.urlFn(e),a="",c=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Qb+a.length<=Xb;){const m=this.pendingSegs.shift();a=a+"&"+AA+c+"="+m.seg+"&"+RA+c+"="+m.ts+"&"+OA+c+"="+m.d,c++}return i=i+a,this.addLongPollTag_(i,this.currentSerial),!0}else return!1}enqueueSegment(e,i,a){this.pendingSegs.push({seg:e,ts:i,d:a}),this.alive&&this.newRequest_()}addLongPollTag_(e,i){this.outstandingRequests.add(i);const a=()=>{this.outstandingRequests.delete(i),this.newRequest_()},c=setTimeout(a,Math.floor(IA)),h=()=>{clearTimeout(c),a()};this.addTag(e,h)}addTag(e,i){setTimeout(()=>{try{if(!this.sendNewPolls)return;const a=this.myIFrame.doc.createElement("script");a.type="text/javascript",a.async=!0,a.src=e,a.onload=a.onreadystatechange=function(){const c=a.readyState;(!c||c==="loaded"||c==="complete")&&(a.onload=a.onreadystatechange=null,a.parentNode&&a.parentNode.removeChild(a),i())},a.onerror=()=>{Kt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(a)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA=16384,PA=45e3;let Ah=null;typeof MozWebSocket<"u"?Ah=MozWebSocket:typeof WebSocket<"u"&&(Ah=WebSocket);class ei{constructor(e,i,a,c,h,m,v){this.connId=e,this.applicationId=a,this.appCheckToken=c,this.authToken=h,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Eu(this.connId),this.stats_=gp(i),this.connURL=ei.connectionURL_(i,m,v,c,a),this.nodeAdmin=i.nodeAdmin}static connectionURL_(e,i,a,c,h){const m={};return m[Pb]=_p,typeof location<"u"&&location.hostname&&Bb.test(location.hostname)&&(m[Ub]=jb),i&&(m[zb]=i),a&&(m[Hb]=a),c&&(m[Im]=c),h&&(m[Fb]=h),Gb(e,qb,m)}open(e,i){this.onDisconnect=i,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,aa.set("previous_websocket_failure",!0);try{let a;dC(),this.mySock=new Ah(this.connURL,[],a)}catch(a){this.log_("Error instantiating WebSocket.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=a=>{this.handleIncomingFrame(a)},this.mySock.onerror=a=>{this.log_("WebSocket error.  Closing connection.");const c=a.message||a.data;c&&this.log_(c),this.onClosed_()}}start(){}static forceDisallow(){ei.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=/Android ([0-9]{0,}\.[0-9]{0,})/,a=navigator.userAgent.match(i);a&&a.length>1&&parseFloat(a[1])<4.4&&(e=!0)}return!e&&Ah!==null&&!ei.forceDisallow_}static previouslyFailed(){return aa.isInMemoryStorage||aa.get("previous_websocket_failure")===!0}markConnectionHealthy(){aa.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const a=iu(i);this.onMessage(a)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const i=Number(e);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const i=e.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(i);else{const a=this.extractFrameCount_(i);a!==null&&this.appendFrame_(a)}}send(e){this.resetKeepAlive();const i=Tt(e);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const a=kb(i,DA);a.length>1&&this.sendString_(String(a.length));for(let c=0;c<a.length;c++)this.sendString_(a[c])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(PA))}sendString_(e){try{this.mySock.send(e)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ei.responsesRequiredToBeHealthy=2;ei.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{static get ALL_TRANSPORTS(){return[oo,ei]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const i=ei&&ei.isAvailable();let a=i&&!ei.previouslyFailed();if(e.webSocketOnly&&(i||Rn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),a=!0),a)this.transports_=[ei];else{const c=this.transports_=[];for(const h of au.ALL_TRANSPORTS)h&&h.isAvailable()&&c.push(h);au.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}au.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=6e4,UA=5e3,jA=10*1024,BA=100*1024,mm="t",Dy="d",HA="s",Py="r",FA="e",zy="o",Uy="a",jy="n",By="p",qA="h";class ZA{constructor(e,i,a,c,h,m,v,g,y,C){this.id=e,this.repoInfo_=i,this.applicationId_=a,this.appCheckToken_=c,this.authToken_=h,this.onMessage_=m,this.onReady_=v,this.onDisconnect_=g,this.onKill_=y,this.lastSessionId=C,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Eu("c:"+this.id+":"),this.transportManager_=new au(i),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.conn_),a=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(i,a)},Math.floor(0));const c=e.healthyTimeout||0;c>0&&(this.healthyTimeout_=$l(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>BA?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jA?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(c)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return i=>{e===this.conn_?this.onConnectionLost_(i):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return i=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(i):e===this.secondaryConn_?this.onSecondaryMessageReceived_(i):this.log_("message on old connection"))}}sendRequest(e){const i={t:"d",d:e};this.sendData_(i)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(mm in e){const i=e[mm];i===Uy?this.upgradeIfSecondaryHealthy_():i===Py?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):i===zy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const i=Bl("t",e),a=Bl("d",e);if(i==="c")this.onSecondaryControl_(a);else if(i==="d")this.pendingDataMessages.push(a);else throw new Error("Unknown protocol layer: "+i)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:By,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Uy,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:jy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const i=Bl("t",e),a=Bl("d",e);i==="c"?this.onControl_(a):i==="d"&&this.onDataMessage_(a)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const i=Bl(mm,e);if(Dy in e){const a=e[Dy];if(i===qA){const c=Object.assign({},a);this.repoInfo_.isUsingEmulator&&(c.h=this.repoInfo_.host),this.onHandshake_(c)}else if(i===jy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let c=0;c<this.pendingDataMessages.length;++c)this.onDataMessage_(this.pendingDataMessages[c]);this.pendingDataMessages=[],this.tryCleanupConnection()}else i===HA?this.onConnectionShutdown_(a):i===Py?this.onReset_(a):i===FA?Mm("Server Error: "+a):i===zy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Mm("Unknown control packet command: "+i)}}onHandshake_(e){const i=e.ts,a=e.v,c=e.h;this.sessionId=e.s,this.repoInfo_.host=c,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,i),_p!==a&&Rn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const i=this.connReceiver_(this.secondaryConn_),a=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(i,a),$l(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(zA))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,i){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(i,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):$l(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(UA))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:By,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(aa.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{put(e,i,a,c){}merge(e,i,a,c){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,i,a){}onDisconnectMerge(e,i,a){}onDisconnectCancel(e,i){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...i){if(Array.isArray(this.listeners_[e])){const a=[...this.listeners_[e]];for(let c=0;c<a.length;c++)a[c].callback.apply(a[c].context,i)}}on(e,i,a){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:i,context:a});const c=this.getInitialEvent(e);c&&i.apply(a,c)}off(e,i,a){this.validateEventType_(e);const c=this.listeners_[e]||[];for(let h=0;h<c.length;h++)if(c[h].callback===i&&(!a||a===c[h].context)){c.splice(h,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(i=>i===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh extends Jb{static getInstance(){return new Rh}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!ep()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=32,Fy=768;class Je{constructor(e,i){if(i===void 0){this.pieces_=e.split("/");let a=0;for(let c=0;c<this.pieces_.length;c++)this.pieces_[c].length>0&&(this.pieces_[a]=this.pieces_[c],a++);this.pieces_.length=a,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=i}toString(){let e="";for(let i=this.pieceNum_;i<this.pieces_.length;i++)this.pieces_[i]!==""&&(e+="/"+this.pieces_[i]);return e||"/"}}function Fe(){return new Je("")}function Pe(s){return s.pieceNum_>=s.pieces_.length?null:s.pieces_[s.pieceNum_]}function br(s){return s.pieces_.length-s.pieceNum_}function rt(s){let e=s.pieceNum_;return e<s.pieces_.length&&e++,new Je(s.pieces_,e)}function eS(s){return s.pieceNum_<s.pieces_.length?s.pieces_[s.pieces_.length-1]:null}function VA(s){let e="";for(let i=s.pieceNum_;i<s.pieces_.length;i++)s.pieces_[i]!==""&&(e+="/"+encodeURIComponent(String(s.pieces_[i])));return e||"/"}function tS(s,e=0){return s.pieces_.slice(s.pieceNum_+e)}function nS(s){if(s.pieceNum_>=s.pieces_.length)return null;const e=[];for(let i=s.pieceNum_;i<s.pieces_.length-1;i++)e.push(s.pieces_[i]);return new Je(e,0)}function Ct(s,e){const i=[];for(let a=s.pieceNum_;a<s.pieces_.length;a++)i.push(s.pieces_[a]);if(e instanceof Je)for(let a=e.pieceNum_;a<e.pieces_.length;a++)i.push(e.pieces_[a]);else{const a=e.split("/");for(let c=0;c<a.length;c++)a[c].length>0&&i.push(a[c])}return new Je(i,0)}function ke(s){return s.pieceNum_>=s.pieces_.length}function sn(s,e){const i=Pe(s),a=Pe(e);if(i===null)return e;if(i===a)return sn(rt(s),rt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+s+")")}function iS(s,e){if(br(s)!==br(e))return!1;for(let i=s.pieceNum_,a=e.pieceNum_;i<=s.pieces_.length;i++,a++)if(s.pieces_[i]!==e.pieces_[a])return!1;return!0}function ni(s,e){let i=s.pieceNum_,a=e.pieceNum_;if(br(s)>br(e))return!1;for(;i<s.pieces_.length;){if(s.pieces_[i]!==e.pieces_[a])return!1;++i,++a}return!0}class GA{constructor(e,i){this.errorPrefix_=i,this.parts_=tS(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let a=0;a<this.parts_.length;a++)this.byteLength_+=qh(this.parts_[a]);sS(this)}}function YA(s,e){s.parts_.length>0&&(s.byteLength_+=1),s.parts_.push(e),s.byteLength_+=qh(e),sS(s)}function WA(s){const e=s.parts_.pop();s.byteLength_-=qh(e),s.parts_.length>0&&(s.byteLength_-=1)}function sS(s){if(s.byteLength_>Fy)throw new Error(s.errorPrefix_+"has a key path longer than "+Fy+" bytes ("+s.byteLength_+").");if(s.parts_.length>Hy)throw new Error(s.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Hy+") or object contains a cycle "+sa(s))}function sa(s){return s.parts_.length===0?"":"in property '"+s.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp extends Jb{static getInstance(){return new yp}constructor(){super(["visible"]);let e,i;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(i="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(i="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(i="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(i="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,i&&document.addEventListener(i,()=>{const a=!document[e];a!==this.visible_&&(this.visible_=a,this.trigger("visible",a))},!1)}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=1e3,KA=60*5*1e3,qy=30*1e3,XA=1.3,QA=3e4,$A="server_kill",Zy=3;class os extends $b{constructor(e,i,a,c,h,m,v,g){if(super(),this.repoInfo_=e,this.applicationId_=i,this.onDataUpdate_=a,this.onConnectStatus_=c,this.onServerInfoUpdate_=h,this.authTokenProvider_=m,this.appCheckTokenProvider_=v,this.authOverride_=g,this.id=os.nextPersistentConnectionId_++,this.log_=Eu("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Hl,this.maxReconnectDelay_=KA,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Rh.getInstance().on("online",this.onOnline_,this)}sendRequest(e,i,a){const c=++this.requestNumber_,h={r:c,a:e,b:i};this.log_(Tt(h)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(h),a&&(this.requestCBHash_[c]=a)}get(e){this.initConnection_();const i=new Jm,c={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:m=>{const v=m.d;m.s==="ok"?i.resolve(v):i.reject(v)}};this.outstandingGets_.push(c),this.outstandingGetCount_++;const h=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(h),i.promise}listen(e,i,a,c){this.initConnection_();const h=e._queryIdentifier,m=e._path.toString();this.log_("Listen called for "+m+" "+h),this.listens.has(m)||this.listens.set(m,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(m).has(h),"listen() called twice for same path/queryId.");const v={onComplete:c,hashFn:i,query:e,tag:a};this.listens.get(m).set(h,v),this.connected_&&this.sendListen_(v)}sendGet_(e){const i=this.outstandingGets_[e];this.sendRequest("g",i.request,a=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(a)})}sendListen_(e){const i=e.query,a=i._path.toString(),c=i._queryIdentifier;this.log_("Listen on "+a+" for "+c);const h={p:a},m="q";e.tag&&(h.q=i._queryObject,h.t=e.tag),h.h=e.hashFn(),this.sendRequest(m,h,v=>{const g=v.d,y=v.s;os.warnOnListenWarnings_(g,i),(this.listens.get(a)&&this.listens.get(a).get(c))===e&&(this.log_("listen response",v),y!=="ok"&&this.removeListen_(a,c),e.onComplete&&e.onComplete(y,g))})}static warnOnListenWarnings_(e,i){if(e&&typeof e=="object"&&ds(e,"w")){const a=po(e,"w");if(Array.isArray(a)&&~a.indexOf("no_index")){const c='".indexOn": "'+i._queryParams.getIndex().toString()+'"',h=i._path.toString();Rn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${c} at ${h} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||bC(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qy)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,i=yC(e)?"auth":"gauth",a={cred:e};this.authOverride_===null?a.noauth=!0:typeof this.authOverride_=="object"&&(a.authvar=this.authOverride_),this.sendRequest(i,a,c=>{const h=c.s,m=c.d||"error";this.authToken_===e&&(h==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(h,m))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const i=e.s,a=e.d||"error";i==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,a)})}unlisten(e,i){const a=e._path.toString(),c=e._queryIdentifier;this.log_("Unlisten called for "+a+" "+c),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(a,c)&&this.connected_&&this.sendUnlisten_(a,c,e._queryObject,i)}sendUnlisten_(e,i,a,c){this.log_("Unlisten on "+e+" for "+i);const h={p:e},m="n";c&&(h.q=a,h.t=c),this.sendRequest(m,h)}onDisconnectPut(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:i,onComplete:a})}onDisconnectMerge(e,i,a){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,i,a):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:i,onComplete:a})}onDisconnectCancel(e,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(e,i,a,c){const h={p:i,d:a};this.log_("onDisconnect "+e,h),this.sendRequest(e,h,m=>{c&&setTimeout(()=>{c(m.s,m.d)},Math.floor(0))})}put(e,i,a,c){this.putInternal("p",e,i,a,c)}merge(e,i,a,c){this.putInternal("m",e,i,a,c)}putInternal(e,i,a,c,h){this.initConnection_();const m={p:i,d:a};h!==void 0&&(m.h=h),this.outstandingPuts_.push({action:e,request:m,onComplete:c}),this.outstandingPutCount_++;const v=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(v):this.log_("Buffering put: "+i)}sendPut_(e){const i=this.outstandingPuts_[e].action,a=this.outstandingPuts_[e].request,c=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(i,a,h=>{this.log_(i+" response",h),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),c&&c(h.s,h.d)})}reportStats(e){if(this.connected_){const i={c:e};this.log_("reportStats",i),this.sendRequest("s",i,a=>{if(a.s!=="ok"){const h=a.d;this.log_("reportStats","Error sending stats: "+h)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Tt(e));const i=e.r,a=this.requestCBHash_[i];a&&(delete this.requestCBHash_[i],a(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,i){this.log_("handleServerMessage",e,i),e==="d"?this.onDataUpdate_(i.p,i.d,!1,i.t):e==="m"?this.onDataUpdate_(i.p,i.d,!0,i.t):e==="c"?this.onListenRevoked_(i.p,i.q):e==="ac"?this.onAuthRevoked_(i.s,i.d):e==="apc"?this.onAppCheckRevoked_(i.s,i.d):e==="sd"?this.onSecurityDebugPacket_(i):Mm("Unrecognized action received from server: "+Tt(e)+`
Are you using the latest client?`)}onReady_(e,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QA&&(this.reconnectDelay_=Hl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let i=Math.max(0,this.reconnectDelay_-e);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XA)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),i=this.onReady_.bind(this),a=this.onRealtimeDisconnect_.bind(this),c=this.id+":"+os.nextConnectionId_++,h=this.lastSessionId;let m=!1,v=null;const g=function(){v?v.close():(m=!0,a())},y=function(x){ne(v,"sendRequest call when we're not connected not allowed."),v.sendRequest(x)};this.realtime_={close:g,sendRequest:y};const C=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[x,N]=await Promise.all([this.authTokenProvider_.getToken(C),this.appCheckTokenProvider_.getToken(C)]);m?Kt("getToken() completed but was canceled"):(Kt("getToken() completed. Creating connection."),this.authToken_=x&&x.accessToken,this.appCheckToken_=N&&N.token,v=new ZA(c,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,i,a,D=>{Rn(D+" ("+this.repoInfo_.toString()+")"),this.interrupt($A)},h))}catch(x){this.log_("Failed to get token: "+x),m||(this.repoInfo_.nodeAdmin&&Rn(x),g())}}}interrupt(e){Kt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],wm(this.interruptReasons_)&&(this.reconnectDelay_=Hl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const i=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const i=this.outstandingPuts_[e];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,i){let a;i?a=i.map(h=>pp(h)).join("$"):a="default";const c=this.removeListen_(e,a);c&&c.onComplete&&c.onComplete("permission_denied")}removeListen_(e,i){const a=new Je(e).toString();let c;if(this.listens.has(a)){const h=this.listens.get(a);c=h.get(i),h.delete(i),h.size===0&&this.listens.delete(a)}else c=void 0;return c}onAuthRevoked_(e,i){Kt("Auth token revoked: "+e+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Zy&&(this.reconnectDelay_=qy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,i){Kt("App check token revoked: "+e+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Zy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const i of e.values())this.sendListen_(i);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let i="js";e["sdk."+i+"."+Ob.replace(/\./g,"-")]=1,ep()?e["framework.cordova"]=1:H0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Rh.getInstance().currentlyOnline();return wm(this.interruptReasons_)&&e}}os.nextPersistentConnectionId_=0;os.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,i){this.name=e,this.node=i}static Wrap(e,i){return new Le(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,i){const a=new Le(vo,e),c=new Le(vo,i);return this.compare(a,c)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oh;class rS extends Yh{static get __EMPTY_NODE(){return oh}static set __EMPTY_NODE(e){oh=e}compare(e,i){return Ro(e.name,i.name)}isDefinedOn(e){throw To("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,i){return!1}minPost(){return Le.MIN}maxPost(){return new Le(ha,oh)}makePost(e,i){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,oh)}toString(){return".key"}}const mo=new rS;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,i,a,c,h=null){this.isReverse_=c,this.resultGenerator_=h,this.nodeStack_=[];let m=1;for(;!e.isEmpty();)if(e=e,m=i?a(e.key,i):1,c&&(m*=-1),m<0)this.isReverse_?e=e.left:e=e.right;else if(m===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),i;if(this.resultGenerator_?i=this.resultGenerator_(e.key,e.value):i={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return i}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class kt{constructor(e,i,a,c,h){this.key=e,this.value=i,this.color=a??kt.RED,this.left=c??mn.EMPTY_NODE,this.right=h??mn.EMPTY_NODE}copy(e,i,a,c,h){return new kt(e??this.key,i??this.value,a??this.color,c??this.left,h??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let c=this;const h=a(e,c.key);return h<0?c=c.copy(null,null,null,c.left.insert(e,i,a),null):h===0?c=c.copy(null,i,null,null,null):c=c.copy(null,null,null,null,c.right.insert(e,i,a)),c.fixUp_()}removeMin_(){if(this.left.isEmpty())return mn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,i){let a,c;if(a=this,i(e,a.key)<0)!a.left.isEmpty()&&!a.left.isRed_()&&!a.left.left.isRed_()&&(a=a.moveRedLeft_()),a=a.copy(null,null,null,a.left.remove(e,i),null);else{if(a.left.isRed_()&&(a=a.rotateRight_()),!a.right.isEmpty()&&!a.right.isRed_()&&!a.right.left.isRed_()&&(a=a.moveRedRight_()),i(e,a.key)===0){if(a.right.isEmpty())return mn.EMPTY_NODE;c=a.right.min_(),a=a.copy(c.key,c.value,null,null,a.right.removeMin_())}a=a.copy(null,null,null,null,a.right.remove(e,i))}return a.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}kt.RED=!0;kt.BLACK=!1;class JA{copy(e,i,a,c,h){return this}insert(e,i,a){return new kt(e,i,null)}remove(e,i){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class mn{constructor(e,i=mn.EMPTY_NODE){this.comparator_=e,this.root_=i}insert(e,i){return new mn(this.comparator_,this.root_.insert(e,i,this.comparator_).copy(null,null,kt.BLACK,null,null))}remove(e){return new mn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,kt.BLACK,null,null))}get(e){let i,a=this.root_;for(;!a.isEmpty();){if(i=this.comparator_(e,a.key),i===0)return a.value;i<0?a=a.left:i>0&&(a=a.right)}return null}getPredecessorKey(e){let i,a=this.root_,c=null;for(;!a.isEmpty();)if(i=this.comparator_(e,a.key),i===0){if(a.left.isEmpty())return c?c.key:null;for(a=a.left;!a.right.isEmpty();)a=a.right;return a.key}else i<0?a=a.left:i>0&&(c=a,a=a.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new lh(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,i){return new lh(this.root_,e,this.comparator_,!1,i)}getReverseIteratorFrom(e,i){return new lh(this.root_,e,this.comparator_,!0,i)}getReverseIterator(e){return new lh(this.root_,null,this.comparator_,!0,e)}}mn.EMPTY_NODE=new JA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(s,e){return Ro(s.name,e.name)}function bp(s,e){return Ro(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let km;function tR(s){km=s}const aS=function(s){return typeof s=="number"?"number:"+Db(s):"string:"+s},oS=function(s){if(s.isLeafNode()){const e=s.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ds(e,".sv"),"Priority must be a string or number.")}else ne(s===km||s.isEmpty(),"priority of unexpected type.");ne(s===km||s.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vy;class It{static set __childrenNodeConstructor(e){Vy=e}static get __childrenNodeConstructor(){return Vy}constructor(e,i=It.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=i,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),oS(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new It(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:It.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ke(e)?this:Pe(e)===".priority"?this.priorityNode_:It.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,i){return null}updateImmediateChild(e,i){return e===".priority"?this.updatePriority(i):i.isEmpty()&&e!==".priority"?this:It.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,i).updatePriority(this.priorityNode_)}updateChild(e,i){const a=Pe(e);return a===null?i:i.isEmpty()&&a!==".priority"?this:(ne(a!==".priority"||br(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(a,It.__childrenNodeConstructor.EMPTY_NODE.updateChild(rt(e),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,i){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+aS(this.priorityNode_.val())+":");const i=typeof this.value_;e+=i+":",i==="number"?e+=Db(this.value_):e+=this.value_,this.lazyHash_=Mb(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===It.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof It.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const i=typeof e.value_,a=typeof this.value_,c=It.VALUE_TYPE_ORDER.indexOf(i),h=It.VALUE_TYPE_ORDER.indexOf(a);return ne(c>=0,"Unknown leaf type: "+i),ne(h>=0,"Unknown leaf type: "+a),c===h?a==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:h-c}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const i=e;return this.value_===i.value_&&this.priorityNode_.equals(i.priorityNode_)}else return!1}}It.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lS,uS;function nR(s){lS=s}function iR(s){uS=s}class sR extends Yh{compare(e,i){const a=e.node.getPriority(),c=i.node.getPriority(),h=a.compareTo(c);return h===0?Ro(e.name,i.name):h}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,i){return!e.getPriority().equals(i.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(ha,new It("[PRIORITY-POST]",uS))}makePost(e,i){const a=lS(e);return new Le(i,new It("[PRIORITY-POST]",a))}toString(){return".priority"}}const _t=new sR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=Math.log(2);class aR{constructor(e){const i=h=>parseInt(Math.log(h)/rR,10),a=h=>parseInt(Array(h+1).join("1"),2);this.count=i(e+1),this.current_=this.count-1;const c=a(this.count);this.bits_=e+1&c}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Oh=function(s,e,i,a){s.sort(e);const c=function(g,y){const C=y-g;let x,N;if(C===0)return null;if(C===1)return x=s[g],N=i?i(x):x,new kt(N,x.node,kt.BLACK,null,null);{const D=parseInt(C/2,10)+g,k=c(g,D),U=c(D+1,y);return x=s[D],N=i?i(x):x,new kt(N,x.node,kt.BLACK,k,U)}},h=function(g){let y=null,C=null,x=s.length;const N=function(k,U){const Y=x-k,X=x;x-=k;const ee=c(Y+1,X),$=s[Y],ce=i?i($):$;D(new kt(ce,$.node,U,null,ee))},D=function(k){y?(y.left=k,y=k):(C=k,y=k)};for(let k=0;k<g.count;++k){const U=g.nextBitIsOne(),Y=Math.pow(2,g.count-(k+1));U?N(Y,kt.BLACK):(N(Y,kt.BLACK),N(Y,kt.RED))}return C},m=new aR(s.length),v=h(m);return new mn(a||e,v)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pm;const ro={};class ss{static get Default(){return ne(ro&&_t,"ChildrenNode.ts has not been loaded"),pm=pm||new ss({".priority":ro},{".priority":_t}),pm}constructor(e,i){this.indexes_=e,this.indexSet_=i}get(e){const i=po(this.indexes_,e);if(!i)throw new Error("No index defined for "+e);return i instanceof mn?i:null}hasIndex(e){return ds(this.indexSet_,e.toString())}addIndex(e,i){ne(e!==mo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const a=[];let c=!1;const h=i.getIterator(Le.Wrap);let m=h.getNext();for(;m;)c=c||e.isDefinedOn(m.node),a.push(m),m=h.getNext();let v;c?v=Oh(a,e.getCompare()):v=ro;const g=e.toString(),y=Object.assign({},this.indexSet_);y[g]=e;const C=Object.assign({},this.indexes_);return C[g]=v,new ss(C,y)}addToIndexes(e,i){const a=yh(this.indexes_,(c,h)=>{const m=po(this.indexSet_,h);if(ne(m,"Missing index implementation for "+h),c===ro)if(m.isDefinedOn(e.node)){const v=[],g=i.getIterator(Le.Wrap);let y=g.getNext();for(;y;)y.name!==e.name&&v.push(y),y=g.getNext();return v.push(e),Oh(v,m.getCompare())}else return ro;else{const v=i.get(e.name);let g=c;return v&&(g=g.remove(new Le(e.name,v))),g.insert(e,e.node)}});return new ss(a,this.indexSet_)}removeFromIndexes(e,i){const a=yh(this.indexes_,c=>{if(c===ro)return c;{const h=i.get(e.name);return h?c.remove(new Le(e.name,h)):c}});return new ss(a,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Fl;class Se{static get EMPTY_NODE(){return Fl||(Fl=new Se(new mn(bp),null,ss.Default))}constructor(e,i,a){this.children_=e,this.priorityNode_=i,this.indexMap_=a,this.lazyHash_=null,this.priorityNode_&&oS(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Fl}updatePriority(e){return this.children_.isEmpty()?this:new Se(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const i=this.children_.get(e);return i===null?Fl:i}}getChild(e){const i=Pe(e);return i===null?this:this.getImmediateChild(i).getChild(rt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,i){if(ne(i,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(i);{const a=new Le(e,i);let c,h;i.isEmpty()?(c=this.children_.remove(e),h=this.indexMap_.removeFromIndexes(a,this.children_)):(c=this.children_.insert(e,i),h=this.indexMap_.addToIndexes(a,this.children_));const m=c.isEmpty()?Fl:this.priorityNode_;return new Se(c,m,h)}}updateChild(e,i){const a=Pe(e);if(a===null)return i;{ne(Pe(e)!==".priority"||br(e)===1,".priority must be the last token in a path");const c=this.getImmediateChild(a).updateChild(rt(e),i);return this.updateImmediateChild(a,c)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const i={};let a=0,c=0,h=!0;if(this.forEachChild(_t,(m,v)=>{i[m]=v.val(e),a++,h&&Se.INTEGER_REGEXP_.test(m)?c=Math.max(c,Number(m)):h=!1}),!e&&h&&c<2*a){const m=[];for(const v in i)m[v]=i[v];return m}else return e&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+aS(this.getPriority().val())+":"),this.forEachChild(_t,(i,a)=>{const c=a.hash();c!==""&&(e+=":"+i+":"+c)}),this.lazyHash_=e===""?"":Mb(e)}return this.lazyHash_}getPredecessorChildName(e,i,a){const c=this.resolveIndex_(a);if(c){const h=c.getPredecessorKey(new Le(e,i));return h?h.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.minKey();return a&&a.name}else return this.children_.minKey()}getFirstChild(e){const i=this.getFirstChildName(e);return i?new Le(i,this.children_.get(i)):null}getLastChildName(e){const i=this.resolveIndex_(e);if(i){const a=i.maxKey();return a&&a.name}else return this.children_.maxKey()}getLastChild(e){const i=this.getLastChildName(e);return i?new Le(i,this.children_.get(i)):null}forEachChild(e,i){const a=this.resolveIndex_(e);return a?a.inorderTraversal(c=>i(c.name,c.node)):this.children_.inorderTraversal(i)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getIteratorFrom(e,c=>c);{const c=this.children_.getIteratorFrom(e.name,Le.Wrap);let h=c.peek();for(;h!=null&&i.compare(h,e)<0;)c.getNext(),h=c.peek();return c}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,i){const a=this.resolveIndex_(i);if(a)return a.getReverseIteratorFrom(e,c=>c);{const c=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let h=c.peek();for(;h!=null&&i.compare(h,e)>0;)c.getNext(),h=c.peek();return c}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Tu?-1:0}withIndex(e){if(e===mo||this.indexMap_.hasIndex(e))return this;{const i=this.indexMap_.addIndex(e,this.children_);return new Se(this.children_,this.priorityNode_,i)}}isIndexed(e){return e===mo||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const i=e;if(this.getPriority().equals(i.getPriority()))if(this.children_.count()===i.children_.count()){const a=this.getIterator(_t),c=i.getIterator(_t);let h=a.getNext(),m=c.getNext();for(;h&&m;){if(h.name!==m.name||!h.node.equals(m.node))return!1;h=a.getNext(),m=c.getNext()}return h===null&&m===null}else return!1;else return!1}}resolveIndex_(e){return e===mo?null:this.indexMap_.get(e.toString())}}Se.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oR extends Se{constructor(){super(new mn(bp),Se.EMPTY_NODE,ss.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Se.EMPTY_NODE}isEmpty(){return!1}}const Tu=new oR;Object.defineProperties(Le,{MIN:{value:new Le(vo,Se.EMPTY_NODE)},MAX:{value:new Le(ha,Tu)}});rS.__EMPTY_NODE=Se.EMPTY_NODE;It.__childrenNodeConstructor=Se;tR(Tu);iR(Tu);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=!0;function Ft(s,e=null){if(s===null)return Se.EMPTY_NODE;if(typeof s=="object"&&".priority"in s&&(e=s[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof s=="object"&&".value"in s&&s[".value"]!==null&&(s=s[".value"]),typeof s!="object"||".sv"in s){const i=s;return new It(i,Ft(e))}if(!(s instanceof Array)&&lR){const i=[];let a=!1;if(pn(s,(m,v)=>{if(m.substring(0,1)!=="."){const g=Ft(v);g.isEmpty()||(a=a||!g.getPriority().isEmpty(),i.push(new Le(m,g)))}}),i.length===0)return Se.EMPTY_NODE;const h=Oh(i,eR,m=>m.name,bp);if(a){const m=Oh(i,_t.getCompare());return new Se(h,Ft(e),new ss({".priority":m},{".priority":_t}))}else return new Se(h,Ft(e),ss.Default)}else{let i=Se.EMPTY_NODE;return pn(s,(a,c)=>{if(ds(s,a)&&a.substring(0,1)!=="."){const h=Ft(c);(h.isLeafNode()||!h.isEmpty())&&(i=i.updateImmediateChild(a,h))}}),i.updatePriority(Ft(e))}}nR(Ft);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR extends Yh{constructor(e){super(),this.indexPath_=e,ne(!ke(e)&&Pe(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,i){const a=this.extractChild(e.node),c=this.extractChild(i.node),h=a.compareTo(c);return h===0?Ro(e.name,i.name):h}makePost(e,i){const a=Ft(e),c=Se.EMPTY_NODE.updateChild(this.indexPath_,a);return new Le(i,c)}maxPost(){const e=Se.EMPTY_NODE.updateChild(this.indexPath_,Tu);return new Le(ha,e)}toString(){return tS(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR extends Yh{compare(e,i){const a=e.node.compareTo(i.node);return a===0?Ro(e.name,i.name):a}isDefinedOn(e){return!0}indexedValueChanged(e,i){return!e.equals(i)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,i){const a=Ft(e);return new Le(i,a)}toString(){return".value"}}const hR=new cR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cS(s){return{type:"value",snapshotNode:s}}function yo(s,e){return{type:"child_added",snapshotNode:e,childName:s}}function ou(s,e){return{type:"child_removed",snapshotNode:e,childName:s}}function lu(s,e,i){return{type:"child_changed",snapshotNode:e,childName:s,oldSnap:i}}function fR(s,e){return{type:"child_moved",snapshotNode:e,childName:s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e){this.index_=e}updateChild(e,i,a,c,h,m){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const v=e.getImmediateChild(i);return v.getChild(c).equals(a.getChild(c))&&v.isEmpty()===a.isEmpty()||(m!=null&&(a.isEmpty()?e.hasChild(i)?m.trackChildChange(ou(i,v)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):v.isEmpty()?m.trackChildChange(yo(i,a)):m.trackChildChange(lu(i,a,v))),e.isLeafNode()&&a.isEmpty())?e:e.updateImmediateChild(i,a).withIndex(this.index_)}updateFullNode(e,i,a){return a!=null&&(e.isLeafNode()||e.forEachChild(_t,(c,h)=>{i.hasChild(c)||a.trackChildChange(ou(c,h))}),i.isLeafNode()||i.forEachChild(_t,(c,h)=>{if(e.hasChild(c)){const m=e.getImmediateChild(c);m.equals(h)||a.trackChildChange(lu(c,h,m))}else a.trackChildChange(yo(c,h))})),i.withIndex(this.index_)}updatePriority(e,i){return e.isEmpty()?Se.EMPTY_NODE:e.updatePriority(i)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e){this.indexedFilter_=new Sp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=uu.getStartPost_(e),this.endPost_=uu.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const i=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,a=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return i&&a}updateChild(e,i,a,c,h,m){return this.matches(new Le(i,a))||(a=Se.EMPTY_NODE),this.indexedFilter_.updateChild(e,i,a,c,h,m)}updateFullNode(e,i,a){i.isLeafNode()&&(i=Se.EMPTY_NODE);let c=i.withIndex(this.index_);c=c.updatePriority(Se.EMPTY_NODE);const h=this;return i.forEachChild(_t,(m,v)=>{h.matches(new Le(m,v))||(c=c.updateImmediateChild(m,Se.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,c,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const i=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),i)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const i=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),i)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(e){this.withinDirectionalStart=i=>this.reverse_?this.withinEndPost(i):this.withinStartPost(i),this.withinDirectionalEnd=i=>this.reverse_?this.withinStartPost(i):this.withinEndPost(i),this.withinStartPost=i=>{const a=this.index_.compare(this.rangedFilter_.getStartPost(),i);return this.startIsInclusive_?a<=0:a<0},this.withinEndPost=i=>{const a=this.index_.compare(i,this.rangedFilter_.getEndPost());return this.endIsInclusive_?a<=0:a<0},this.rangedFilter_=new uu(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,i,a,c,h,m){return this.rangedFilter_.matches(new Le(i,a))||(a=Se.EMPTY_NODE),e.getImmediateChild(i).equals(a)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,i,a,c,h,m):this.fullLimitUpdateChild_(e,i,a,h,m)}updateFullNode(e,i,a){let c;if(i.isLeafNode()||i.isEmpty())c=Se.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<i.numChildren()&&i.isIndexed(this.index_)){c=Se.EMPTY_NODE.withIndex(this.index_);let h;this.reverse_?h=i.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):h=i.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let m=0;for(;h.hasNext()&&m<this.limit_;){const v=h.getNext();if(this.withinDirectionalStart(v))if(this.withinDirectionalEnd(v))c=c.updateImmediateChild(v.name,v.node),m++;else break;else continue}}else{c=i.withIndex(this.index_),c=c.updatePriority(Se.EMPTY_NODE);let h;this.reverse_?h=c.getReverseIterator(this.index_):h=c.getIterator(this.index_);let m=0;for(;h.hasNext();){const v=h.getNext();m<this.limit_&&this.withinDirectionalStart(v)&&this.withinDirectionalEnd(v)?m++:c=c.updateImmediateChild(v.name,Se.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,c,a)}updatePriority(e,i){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,i,a,c,h){let m;if(this.reverse_){const x=this.index_.getCompare();m=(N,D)=>x(D,N)}else m=this.index_.getCompare();const v=e;ne(v.numChildren()===this.limit_,"");const g=new Le(i,a),y=this.reverse_?v.getFirstChild(this.index_):v.getLastChild(this.index_),C=this.rangedFilter_.matches(g);if(v.hasChild(i)){const x=v.getImmediateChild(i);let N=c.getChildAfterChild(this.index_,y,this.reverse_);for(;N!=null&&(N.name===i||v.hasChild(N.name));)N=c.getChildAfterChild(this.index_,N,this.reverse_);const D=N==null?1:m(N,g);if(C&&!a.isEmpty()&&D>=0)return h!=null&&h.trackChildChange(lu(i,a,x)),v.updateImmediateChild(i,a);{h!=null&&h.trackChildChange(ou(i,x));const U=v.updateImmediateChild(i,Se.EMPTY_NODE);return N!=null&&this.rangedFilter_.matches(N)?(h!=null&&h.trackChildChange(yo(N.name,N.node)),U.updateImmediateChild(N.name,N.node)):U}}else return a.isEmpty()?e:C&&m(y,g)>=0?(h!=null&&(h.trackChildChange(ou(y.name,y.node)),h.trackChildChange(yo(i,a))),v.updateImmediateChild(i,a).updateImmediateChild(y.name,Se.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=_t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:vo}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ha}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===_t}copy(){const e=new Ep;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function mR(s){return s.loadsAllData()?new Sp(s.getIndex()):s.hasLimit()?new dR(s):new uu(s)}function Gy(s){const e={};if(s.isDefault())return e;let i;if(s.index_===_t?i="$priority":s.index_===hR?i="$value":s.index_===mo?i="$key":(ne(s.index_ instanceof uR,"Unrecognized index type!"),i=s.index_.toString()),e.orderBy=Tt(i),s.startSet_){const a=s.startAfterSet_?"startAfter":"startAt";e[a]=Tt(s.indexStartValue_),s.startNameSet_&&(e[a]+=","+Tt(s.indexStartName_))}if(s.endSet_){const a=s.endBeforeSet_?"endBefore":"endAt";e[a]=Tt(s.indexEndValue_),s.endNameSet_&&(e[a]+=","+Tt(s.indexEndName_))}return s.limitSet_&&(s.isViewFromLeft()?e.limitToFirst=s.limit_:e.limitToLast=s.limit_),e}function Yy(s){const e={};if(s.startSet_&&(e.sp=s.indexStartValue_,s.startNameSet_&&(e.sn=s.indexStartName_),e.sin=!s.startAfterSet_),s.endSet_&&(e.ep=s.indexEndValue_,s.endNameSet_&&(e.en=s.indexEndName_),e.ein=!s.endBeforeSet_),s.limitSet_){e.l=s.limit_;let i=s.viewFrom_;i===""&&(s.isViewFromLeft()?i="l":i="r"),e.vf=i}return s.index_!==_t&&(e.i=s.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends $b{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,i){return i!==void 0?"tag$"+i:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,i,a,c){super(),this.repoInfo_=e,this.onDataUpdate_=i,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.log_=Eu("p:rest:"),this.listens_={}}listen(e,i,a,c){const h=e._path.toString();this.log_("Listen called for "+h+" "+e._queryIdentifier);const m=Lh.getListenId_(e,a),v={};this.listens_[m]=v;const g=Gy(e._queryParams);this.restRequest_(h+".json",g,(y,C)=>{let x=C;if(y===404&&(x=null,y=null),y===null&&this.onDataUpdate_(h,x,!1,a),po(this.listens_,m)===v){let N;y?y===401?N="permission_denied":N="rest_error:"+y:N="ok",c(N,null)}})}unlisten(e,i){const a=Lh.getListenId_(e,i);delete this.listens_[a]}get(e){const i=Gy(e._queryParams),a=e._path.toString(),c=new Jm;return this.restRequest_(a+".json",i,(h,m)=>{let v=m;h===404&&(v=null,h=null),h===null?(this.onDataUpdate_(a,v,!1,null),c.resolve(v)):c.reject(new Error(v))}),c.promise}refreshAuthToken(e){}restRequest_(e,i={},a){return i.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([c,h])=>{c&&c.accessToken&&(i.auth=c.accessToken),h&&h.token&&(i.ac=h.token);const m=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+xo(i);this.log_("Sending REST request for "+m);const v=new XMLHttpRequest;v.onreadystatechange=()=>{if(a&&v.readyState===4){this.log_("REST Response for "+m+" received. status:",v.status,"response:",v.responseText);let g=null;if(v.status>=200&&v.status<300){try{g=iu(v.responseText)}catch{Rn("Failed to parse JSON response for "+m+": "+v.responseText)}a(null,g)}else v.status!==401&&v.status!==404&&Rn("Got unsuccessful REST response for "+m+" Status: "+v.status),a(v.status);a=null}},v.open("GET",m,!0),v.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(){this.rootNode_=Se.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,i){this.rootNode_=this.rootNode_.updateChild(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mh(){return{value:null,children:new Map}}function hS(s,e,i){if(ke(e))s.value=i,s.children.clear();else if(s.value!==null)s.value=s.value.updateChild(e,i);else{const a=Pe(e);s.children.has(a)||s.children.set(a,Mh());const c=s.children.get(a);e=rt(e),hS(c,e,i)}}function Dm(s,e,i){s.value!==null?i(e,s.value):_R(s,(a,c)=>{const h=new Je(e.toString()+"/"+a);Dm(c,h,i)})}function _R(s,e){s.children.forEach((i,a)=>{e(a,i)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),i=Object.assign({},e);return this.last_&&pn(this.last_,(a,c)=>{i[a]=i[a]-c}),this.last_=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wy=10*1e3,vR=30*1e3,yR=5*60*1e3;class bR{constructor(e,i){this.server_=i,this.statsToReport_={},this.statsListener_=new gR(e);const a=Wy+(vR-Wy)*Math.random();$l(this.reportStats_.bind(this),Math.floor(a))}reportStats_(){const e=this.statsListener_.get(),i={};let a=!1;pn(e,(c,h)=>{h>0&&ds(this.statsToReport_,c)&&(i[c]=h,a=!0)}),a&&this.server_.reportStats(i),$l(this.reportStats_.bind(this),Math.floor(Math.random()*2*yR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ii;(function(s){s[s.OVERWRITE=0]="OVERWRITE",s[s.MERGE=1]="MERGE",s[s.ACK_USER_WRITE=2]="ACK_USER_WRITE",s[s.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ii||(ii={}));function fS(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function wp(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Tp(s){return{fromUser:!1,fromServer:!0,queryId:s,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,i,a){this.path=e,this.affectedTree=i,this.revert=a,this.type=ii.ACK_USER_WRITE,this.source=fS()}operationForChild(e){if(ke(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const i=this.affectedTree.subtree(new Je(e));return new Ih(Fe(),i,this.revert)}}else return ne(Pe(this.path)===e,"operationForChild called for unrelated child."),new Ih(rt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,i){this.source=e,this.path=i,this.type=ii.LISTEN_COMPLETE}operationForChild(e){return ke(this.path)?new cu(this.source,Fe()):new cu(this.source,rt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,i,a){this.source=e,this.path=i,this.snap=a,this.type=ii.OVERWRITE}operationForChild(e){return ke(this.path)?new fa(this.source,Fe(),this.snap.getImmediateChild(e)):new fa(this.source,rt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e,i,a){this.source=e,this.path=i,this.children=a,this.type=ii.MERGE}operationForChild(e){if(ke(this.path)){const i=this.children.subtree(new Je(e));return i.isEmpty()?null:i.value?new fa(this.source,Fe(),i.value):new hu(this.source,Fe(),i)}else return ne(Pe(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new hu(this.source,rt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,i,a){this.node_=e,this.fullyInitialized_=i,this.filtered_=a}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ke(e))return this.isFullyInitialized()&&!this.filtered_;const i=Pe(e);return this.isCompleteForChild(i)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ER(s,e,i,a){const c=[],h=[];return e.forEach(m=>{m.type==="child_changed"&&s.index_.indexedValueChanged(m.oldSnap,m.snapshotNode)&&h.push(fR(m.childName,m.snapshotNode))}),ql(s,c,"child_removed",e,a,i),ql(s,c,"child_added",e,a,i),ql(s,c,"child_moved",h,a,i),ql(s,c,"child_changed",e,a,i),ql(s,c,"value",e,a,i),c}function ql(s,e,i,a,c,h){const m=a.filter(v=>v.type===i);m.sort((v,g)=>TR(s,v,g)),m.forEach(v=>{const g=wR(s,v,h);c.forEach(y=>{y.respondsTo(v.type)&&e.push(y.createEvent(g,s.query_))})})}function wR(s,e,i){return e.type==="value"||e.type==="child_removed"||(e.prevName=i.getPredecessorChildName(e.childName,e.snapshotNode,s.index_)),e}function TR(s,e,i){if(e.childName==null||i.childName==null)throw To("Should only compare child_ events.");const a=new Le(e.childName,e.snapshotNode),c=new Le(i.childName,i.snapshotNode);return s.index_.compare(a,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wh(s,e){return{eventCache:s,serverCache:e}}function Jl(s,e,i,a){return Wh(new Sr(e,i,a),s.serverCache)}function dS(s,e,i,a){return Wh(s.eventCache,new Sr(e,i,a))}function kh(s){return s.eventCache.isFullyInitialized()?s.eventCache.getNode():null}function da(s){return s.serverCache.isFullyInitialized()?s.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _m;const CR=()=>(_m||(_m=new mn(cA)),_m);class at{static fromObject(e){let i=new at(null);return pn(e,(a,c)=>{i=i.set(new Je(a),c)}),i}constructor(e,i=CR()){this.value=e,this.children=i}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,i){if(this.value!=null&&i(this.value))return{path:Fe(),value:this.value};if(ke(e))return null;{const a=Pe(e),c=this.children.get(a);if(c!==null){const h=c.findRootMostMatchingPathAndValue(rt(e),i);return h!=null?{path:Ct(new Je(a),h.path),value:h.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ke(e))return this;{const i=Pe(e),a=this.children.get(i);return a!==null?a.subtree(rt(e)):new at(null)}}set(e,i){if(ke(e))return new at(i,this.children);{const a=Pe(e),h=(this.children.get(a)||new at(null)).set(rt(e),i),m=this.children.insert(a,h);return new at(this.value,m)}}remove(e){if(ke(e))return this.children.isEmpty()?new at(null):new at(null,this.children);{const i=Pe(e),a=this.children.get(i);if(a){const c=a.remove(rt(e));let h;return c.isEmpty()?h=this.children.remove(i):h=this.children.insert(i,c),this.value===null&&h.isEmpty()?new at(null):new at(this.value,h)}else return this}}get(e){if(ke(e))return this.value;{const i=Pe(e),a=this.children.get(i);return a?a.get(rt(e)):null}}setTree(e,i){if(ke(e))return i;{const a=Pe(e),h=(this.children.get(a)||new at(null)).setTree(rt(e),i);let m;return h.isEmpty()?m=this.children.remove(a):m=this.children.insert(a,h),new at(this.value,m)}}fold(e){return this.fold_(Fe(),e)}fold_(e,i){const a={};return this.children.inorderTraversal((c,h)=>{a[c]=h.fold_(Ct(e,c),i)}),i(e,this.value,a)}findOnPath(e,i){return this.findOnPath_(e,Fe(),i)}findOnPath_(e,i,a){const c=this.value?a(i,this.value):!1;if(c)return c;if(ke(e))return null;{const h=Pe(e),m=this.children.get(h);return m?m.findOnPath_(rt(e),Ct(i,h),a):null}}foreachOnPath(e,i){return this.foreachOnPath_(e,Fe(),i)}foreachOnPath_(e,i,a){if(ke(e))return this;{this.value&&a(i,this.value);const c=Pe(e),h=this.children.get(c);return h?h.foreachOnPath_(rt(e),Ct(i,c),a):new at(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,i){this.children.inorderTraversal((a,c)=>{c.foreach_(Ct(e,a),i)}),this.value&&i(e,this.value)}foreachChild(e){this.children.inorderTraversal((i,a)=>{a.value&&e(i,a.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e){this.writeTree_=e}static empty(){return new ri(new at(null))}}function eu(s,e,i){if(ke(e))return new ri(new at(i));{const a=s.writeTree_.findRootMostValueAndPath(e);if(a!=null){const c=a.path;let h=a.value;const m=sn(c,e);return h=h.updateChild(m,i),new ri(s.writeTree_.set(c,h))}else{const c=new at(i),h=s.writeTree_.setTree(e,c);return new ri(h)}}}function Ky(s,e,i){let a=s;return pn(i,(c,h)=>{a=eu(a,Ct(e,c),h)}),a}function Xy(s,e){if(ke(e))return ri.empty();{const i=s.writeTree_.setTree(e,new at(null));return new ri(i)}}function Pm(s,e){return ma(s,e)!=null}function ma(s,e){const i=s.writeTree_.findRootMostValueAndPath(e);return i!=null?s.writeTree_.get(i.path).getChild(sn(i.path,e)):null}function Qy(s){const e=[],i=s.writeTree_.value;return i!=null?i.isLeafNode()||i.forEachChild(_t,(a,c)=>{e.push(new Le(a,c))}):s.writeTree_.children.inorderTraversal((a,c)=>{c.value!=null&&e.push(new Le(a,c.value))}),e}function vr(s,e){if(ke(e))return s;{const i=ma(s,e);return i!=null?new ri(new at(i)):new ri(s.writeTree_.subtree(e))}}function zm(s){return s.writeTree_.isEmpty()}function bo(s,e){return mS(Fe(),s.writeTree_,e)}function mS(s,e,i){if(e.value!=null)return i.updateChild(s,e.value);{let a=null;return e.children.inorderTraversal((c,h)=>{c===".priority"?(ne(h.value!==null,"Priority writes must always be leaf nodes"),a=h.value):i=mS(Ct(s,c),h,i)}),!i.getChild(s).isEmpty()&&a!==null&&(i=i.updateChild(Ct(s,".priority"),a)),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(s,e){return vS(e,s)}function xR(s,e,i,a,c){ne(a>s.lastWriteId,"Stacking an older write on top of newer ones"),c===void 0&&(c=!0),s.allWrites.push({path:e,snap:i,writeId:a,visible:c}),c&&(s.visibleWrites=eu(s.visibleWrites,e,i)),s.lastWriteId=a}function NR(s,e){for(let i=0;i<s.allWrites.length;i++){const a=s.allWrites[i];if(a.writeId===e)return a}return null}function AR(s,e){const i=s.allWrites.findIndex(v=>v.writeId===e);ne(i>=0,"removeWrite called with nonexistent writeId.");const a=s.allWrites[i];s.allWrites.splice(i,1);let c=a.visible,h=!1,m=s.allWrites.length-1;for(;c&&m>=0;){const v=s.allWrites[m];v.visible&&(m>=i&&RR(v,a.path)?c=!1:ni(a.path,v.path)&&(h=!0)),m--}if(c){if(h)return OR(s),!0;if(a.snap)s.visibleWrites=Xy(s.visibleWrites,a.path);else{const v=a.children;pn(v,g=>{s.visibleWrites=Xy(s.visibleWrites,Ct(a.path,g))})}return!0}else return!1}function RR(s,e){if(s.snap)return ni(s.path,e);for(const i in s.children)if(s.children.hasOwnProperty(i)&&ni(Ct(s.path,i),e))return!0;return!1}function OR(s){s.visibleWrites=pS(s.allWrites,LR,Fe()),s.allWrites.length>0?s.lastWriteId=s.allWrites[s.allWrites.length-1].writeId:s.lastWriteId=-1}function LR(s){return s.visible}function pS(s,e,i){let a=ri.empty();for(let c=0;c<s.length;++c){const h=s[c];if(e(h)){const m=h.path;let v;if(h.snap)ni(i,m)?(v=sn(i,m),a=eu(a,v,h.snap)):ni(m,i)&&(v=sn(m,i),a=eu(a,Fe(),h.snap.getChild(v)));else if(h.children){if(ni(i,m))v=sn(i,m),a=Ky(a,v,h.children);else if(ni(m,i))if(v=sn(m,i),ke(v))a=Ky(a,Fe(),h.children);else{const g=po(h.children,Pe(v));if(g){const y=g.getChild(rt(v));a=eu(a,Fe(),y)}}}else throw To("WriteRecord should have .snap or .children")}}return a}function _S(s,e,i,a,c){if(!a&&!c){const h=ma(s.visibleWrites,e);if(h!=null)return h;{const m=vr(s.visibleWrites,e);if(zm(m))return i;if(i==null&&!Pm(m,Fe()))return null;{const v=i||Se.EMPTY_NODE;return bo(m,v)}}}else{const h=vr(s.visibleWrites,e);if(!c&&zm(h))return i;if(!c&&i==null&&!Pm(h,Fe()))return null;{const m=function(y){return(y.visible||c)&&(!a||!~a.indexOf(y.writeId))&&(ni(y.path,e)||ni(e,y.path))},v=pS(s.allWrites,m,e),g=i||Se.EMPTY_NODE;return bo(v,g)}}}function MR(s,e,i){let a=Se.EMPTY_NODE;const c=ma(s.visibleWrites,e);if(c)return c.isLeafNode()||c.forEachChild(_t,(h,m)=>{a=a.updateImmediateChild(h,m)}),a;if(i){const h=vr(s.visibleWrites,e);return i.forEachChild(_t,(m,v)=>{const g=bo(vr(h,new Je(m)),v);a=a.updateImmediateChild(m,g)}),Qy(h).forEach(m=>{a=a.updateImmediateChild(m.name,m.node)}),a}else{const h=vr(s.visibleWrites,e);return Qy(h).forEach(m=>{a=a.updateImmediateChild(m.name,m.node)}),a}}function IR(s,e,i,a,c){ne(a||c,"Either existingEventSnap or existingServerSnap must exist");const h=Ct(e,i);if(Pm(s.visibleWrites,h))return null;{const m=vr(s.visibleWrites,h);return zm(m)?c.getChild(i):bo(m,c.getChild(i))}}function kR(s,e,i,a){const c=Ct(e,i),h=ma(s.visibleWrites,c);if(h!=null)return h;if(a.isCompleteForChild(i)){const m=vr(s.visibleWrites,c);return bo(m,a.getNode().getImmediateChild(i))}else return null}function DR(s,e){return ma(s.visibleWrites,e)}function PR(s,e,i,a,c,h,m){let v;const g=vr(s.visibleWrites,e),y=ma(g,Fe());if(y!=null)v=y;else if(i!=null)v=bo(g,i);else return[];if(v=v.withIndex(m),!v.isEmpty()&&!v.isLeafNode()){const C=[],x=m.getCompare(),N=h?v.getReverseIteratorFrom(a,m):v.getIteratorFrom(a,m);let D=N.getNext();for(;D&&C.length<c;)x(D,a)!==0&&C.push(D),D=N.getNext();return C}else return[]}function zR(){return{visibleWrites:ri.empty(),allWrites:[],lastWriteId:-1}}function Dh(s,e,i,a){return _S(s.writeTree,s.treePath,e,i,a)}function Cp(s,e){return MR(s.writeTree,s.treePath,e)}function $y(s,e,i,a){return IR(s.writeTree,s.treePath,e,i,a)}function Ph(s,e){return DR(s.writeTree,Ct(s.treePath,e))}function UR(s,e,i,a,c,h){return PR(s.writeTree,s.treePath,e,i,a,c,h)}function xp(s,e,i){return kR(s.writeTree,s.treePath,e,i)}function gS(s,e){return vS(Ct(s.treePath,e),s.writeTree)}function vS(s,e){return{treePath:s,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.changeMap=new Map}trackChildChange(e){const i=e.type,a=e.childName;ne(i==="child_added"||i==="child_changed"||i==="child_removed","Only child changes supported for tracking"),ne(a!==".priority","Only non-priority child changes can be tracked.");const c=this.changeMap.get(a);if(c){const h=c.type;if(i==="child_added"&&h==="child_removed")this.changeMap.set(a,lu(a,e.snapshotNode,c.snapshotNode));else if(i==="child_removed"&&h==="child_added")this.changeMap.delete(a);else if(i==="child_removed"&&h==="child_changed")this.changeMap.set(a,ou(a,c.oldSnap));else if(i==="child_changed"&&h==="child_added")this.changeMap.set(a,yo(a,e.snapshotNode));else if(i==="child_changed"&&h==="child_changed")this.changeMap.set(a,lu(a,e.snapshotNode,c.oldSnap));else throw To("Illegal combination of changes: "+e+" occurred after "+c)}else this.changeMap.set(a,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{getCompleteChild(e){return null}getChildAfterChild(e,i,a){return null}}const yS=new BR;class Np{constructor(e,i,a=null){this.writes_=e,this.viewCache_=i,this.optCompleteServerCache_=a}getCompleteChild(e){const i=this.viewCache_.eventCache;if(i.isCompleteForChild(e))return i.getNode().getImmediateChild(e);{const a=this.optCompleteServerCache_!=null?new Sr(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return xp(this.writes_,e,a)}}getChildAfterChild(e,i,a){const c=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:da(this.viewCache_),h=UR(this.writes_,c,i,1,a,e);return h.length===0?null:h[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(s){return{filter:s}}function FR(s,e){ne(e.eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed")}function qR(s,e,i,a,c){const h=new jR;let m,v;if(i.type===ii.OVERWRITE){const y=i;y.source.fromUser?m=Um(s,e,y.path,y.snap,a,c,h):(ne(y.source.fromServer,"Unknown source."),v=y.source.tagged||e.serverCache.isFiltered()&&!ke(y.path),m=zh(s,e,y.path,y.snap,a,c,v,h))}else if(i.type===ii.MERGE){const y=i;y.source.fromUser?m=VR(s,e,y.path,y.children,a,c,h):(ne(y.source.fromServer,"Unknown source."),v=y.source.tagged||e.serverCache.isFiltered(),m=jm(s,e,y.path,y.children,a,c,v,h))}else if(i.type===ii.ACK_USER_WRITE){const y=i;y.revert?m=WR(s,e,y.path,a,c,h):m=GR(s,e,y.path,y.affectedTree,a,c,h)}else if(i.type===ii.LISTEN_COMPLETE)m=YR(s,e,i.path,a,h);else throw To("Unknown operation type: "+i.type);const g=h.getChanges();return ZR(e,m,g),{viewCache:m,changes:g}}function ZR(s,e,i){const a=e.eventCache;if(a.isFullyInitialized()){const c=a.getNode().isLeafNode()||a.getNode().isEmpty(),h=kh(s);(i.length>0||!s.eventCache.isFullyInitialized()||c&&!a.getNode().equals(h)||!a.getNode().getPriority().equals(h.getPriority()))&&i.push(cS(kh(e)))}}function bS(s,e,i,a,c,h){const m=e.eventCache;if(Ph(a,i)!=null)return e;{let v,g;if(ke(i))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const y=da(e),C=y instanceof Se?y:Se.EMPTY_NODE,x=Cp(a,C);v=s.filter.updateFullNode(e.eventCache.getNode(),x,h)}else{const y=Dh(a,da(e));v=s.filter.updateFullNode(e.eventCache.getNode(),y,h)}else{const y=Pe(i);if(y===".priority"){ne(br(i)===1,"Can't have a priority with additional path components");const C=m.getNode();g=e.serverCache.getNode();const x=$y(a,i,C,g);x!=null?v=s.filter.updatePriority(C,x):v=m.getNode()}else{const C=rt(i);let x;if(m.isCompleteForChild(y)){g=e.serverCache.getNode();const N=$y(a,i,m.getNode(),g);N!=null?x=m.getNode().getImmediateChild(y).updateChild(C,N):x=m.getNode().getImmediateChild(y)}else x=xp(a,y,e.serverCache);x!=null?v=s.filter.updateChild(m.getNode(),y,x,C,c,h):v=m.getNode()}}return Jl(e,v,m.isFullyInitialized()||ke(i),s.filter.filtersNodes())}}function zh(s,e,i,a,c,h,m,v){const g=e.serverCache;let y;const C=m?s.filter:s.filter.getIndexedFilter();if(ke(i))y=C.updateFullNode(g.getNode(),a,null);else if(C.filtersNodes()&&!g.isFiltered()){const D=g.getNode().updateChild(i,a);y=C.updateFullNode(g.getNode(),D,null)}else{const D=Pe(i);if(!g.isCompleteForPath(i)&&br(i)>1)return e;const k=rt(i),Y=g.getNode().getImmediateChild(D).updateChild(k,a);D===".priority"?y=C.updatePriority(g.getNode(),Y):y=C.updateChild(g.getNode(),D,Y,k,yS,null)}const x=dS(e,y,g.isFullyInitialized()||ke(i),C.filtersNodes()),N=new Np(c,x,h);return bS(s,x,i,c,N,v)}function Um(s,e,i,a,c,h,m){const v=e.eventCache;let g,y;const C=new Np(c,e,h);if(ke(i))y=s.filter.updateFullNode(e.eventCache.getNode(),a,m),g=Jl(e,y,!0,s.filter.filtersNodes());else{const x=Pe(i);if(x===".priority")y=s.filter.updatePriority(e.eventCache.getNode(),a),g=Jl(e,y,v.isFullyInitialized(),v.isFiltered());else{const N=rt(i),D=v.getNode().getImmediateChild(x);let k;if(ke(N))k=a;else{const U=C.getCompleteChild(x);U!=null?eS(N)===".priority"&&U.getChild(nS(N)).isEmpty()?k=U:k=U.updateChild(N,a):k=Se.EMPTY_NODE}if(D.equals(k))g=e;else{const U=s.filter.updateChild(v.getNode(),x,k,N,C,m);g=Jl(e,U,v.isFullyInitialized(),s.filter.filtersNodes())}}}return g}function Jy(s,e){return s.eventCache.isCompleteForChild(e)}function VR(s,e,i,a,c,h,m){let v=e;return a.foreach((g,y)=>{const C=Ct(i,g);Jy(e,Pe(C))&&(v=Um(s,v,C,y,c,h,m))}),a.foreach((g,y)=>{const C=Ct(i,g);Jy(e,Pe(C))||(v=Um(s,v,C,y,c,h,m))}),v}function e0(s,e,i){return i.foreach((a,c)=>{e=e.updateChild(a,c)}),e}function jm(s,e,i,a,c,h,m,v){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g=e,y;ke(i)?y=a:y=new at(null).setTree(i,a);const C=e.serverCache.getNode();return y.children.inorderTraversal((x,N)=>{if(C.hasChild(x)){const D=e.serverCache.getNode().getImmediateChild(x),k=e0(s,D,N);g=zh(s,g,new Je(x),k,c,h,m,v)}}),y.children.inorderTraversal((x,N)=>{const D=!e.serverCache.isCompleteForChild(x)&&N.value===null;if(!C.hasChild(x)&&!D){const k=e.serverCache.getNode().getImmediateChild(x),U=e0(s,k,N);g=zh(s,g,new Je(x),U,c,h,m,v)}}),g}function GR(s,e,i,a,c,h,m){if(Ph(c,i)!=null)return e;const v=e.serverCache.isFiltered(),g=e.serverCache;if(a.value!=null){if(ke(i)&&g.isFullyInitialized()||g.isCompleteForPath(i))return zh(s,e,i,g.getNode().getChild(i),c,h,v,m);if(ke(i)){let y=new at(null);return g.getNode().forEachChild(mo,(C,x)=>{y=y.set(new Je(C),x)}),jm(s,e,i,y,c,h,v,m)}else return e}else{let y=new at(null);return a.foreach((C,x)=>{const N=Ct(i,C);g.isCompleteForPath(N)&&(y=y.set(C,g.getNode().getChild(N)))}),jm(s,e,i,y,c,h,v,m)}}function YR(s,e,i,a,c){const h=e.serverCache,m=dS(e,h.getNode(),h.isFullyInitialized()||ke(i),h.isFiltered());return bS(s,m,i,a,yS,c)}function WR(s,e,i,a,c,h){let m;if(Ph(a,i)!=null)return e;{const v=new Np(a,e,c),g=e.eventCache.getNode();let y;if(ke(i)||Pe(i)===".priority"){let C;if(e.serverCache.isFullyInitialized())C=Dh(a,da(e));else{const x=e.serverCache.getNode();ne(x instanceof Se,"serverChildren would be complete if leaf node"),C=Cp(a,x)}C=C,y=s.filter.updateFullNode(g,C,h)}else{const C=Pe(i);let x=xp(a,C,e.serverCache);x==null&&e.serverCache.isCompleteForChild(C)&&(x=g.getImmediateChild(C)),x!=null?y=s.filter.updateChild(g,C,x,rt(i),v,h):e.eventCache.getNode().hasChild(C)?y=s.filter.updateChild(g,C,Se.EMPTY_NODE,rt(i),v,h):y=g,y.isEmpty()&&e.serverCache.isFullyInitialized()&&(m=Dh(a,da(e)),m.isLeafNode()&&(y=s.filter.updateFullNode(y,m,h)))}return m=e.serverCache.isFullyInitialized()||Ph(a,Fe())!=null,Jl(e,y,m,s.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,i){this.query_=e,this.eventRegistrations_=[];const a=this.query_._queryParams,c=new Sp(a.getIndex()),h=mR(a);this.processor_=HR(h);const m=i.serverCache,v=i.eventCache,g=c.updateFullNode(Se.EMPTY_NODE,m.getNode(),null),y=h.updateFullNode(Se.EMPTY_NODE,v.getNode(),null),C=new Sr(g,m.isFullyInitialized(),c.filtersNodes()),x=new Sr(y,v.isFullyInitialized(),h.filtersNodes());this.viewCache_=Wh(x,C),this.eventGenerator_=new SR(this.query_)}get query(){return this.query_}}function XR(s){return s.viewCache_.serverCache.getNode()}function QR(s){return kh(s.viewCache_)}function $R(s,e){const i=da(s.viewCache_);return i&&(s.query._queryParams.loadsAllData()||!ke(e)&&!i.getImmediateChild(Pe(e)).isEmpty())?i.getChild(e):null}function t0(s){return s.eventRegistrations_.length===0}function JR(s,e){s.eventRegistrations_.push(e)}function n0(s,e,i){const a=[];if(i){ne(e==null,"A cancel should cancel all event registrations.");const c=s.query._path;s.eventRegistrations_.forEach(h=>{const m=h.createCancelEvent(i,c);m&&a.push(m)})}if(e){let c=[];for(let h=0;h<s.eventRegistrations_.length;++h){const m=s.eventRegistrations_[h];if(!m.matches(e))c.push(m);else if(e.hasAnyCallback()){c=c.concat(s.eventRegistrations_.slice(h+1));break}}s.eventRegistrations_=c}else s.eventRegistrations_=[];return a}function i0(s,e,i,a){e.type===ii.MERGE&&e.source.queryId!==null&&(ne(da(s.viewCache_),"We should always have a full cache before handling merges"),ne(kh(s.viewCache_),"Missing event cache, even though we have a server cache"));const c=s.viewCache_,h=qR(s.processor_,c,e,i,a);return FR(s.processor_,h.viewCache),ne(h.viewCache.serverCache.isFullyInitialized()||!c.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),s.viewCache_=h.viewCache,SS(s,h.changes,h.viewCache.eventCache.getNode(),null)}function eO(s,e){const i=s.viewCache_.eventCache,a=[];return i.getNode().isLeafNode()||i.getNode().forEachChild(_t,(h,m)=>{a.push(yo(h,m))}),i.isFullyInitialized()&&a.push(cS(i.getNode())),SS(s,a,i.getNode(),e)}function SS(s,e,i,a){const c=a?[a]:s.eventRegistrations_;return ER(s.eventGenerator_,e,i,c)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh;class ES{constructor(){this.views=new Map}}function tO(s){ne(!Uh,"__referenceConstructor has already been defined"),Uh=s}function nO(){return ne(Uh,"Reference.ts has not been loaded"),Uh}function iO(s){return s.views.size===0}function Ap(s,e,i,a){const c=e.source.queryId;if(c!==null){const h=s.views.get(c);return ne(h!=null,"SyncTree gave us an op for an invalid query."),i0(h,e,i,a)}else{let h=[];for(const m of s.views.values())h=h.concat(i0(m,e,i,a));return h}}function wS(s,e,i,a,c){const h=e._queryIdentifier,m=s.views.get(h);if(!m){let v=Dh(i,c?a:null),g=!1;v?g=!0:a instanceof Se?(v=Cp(i,a),g=!1):(v=Se.EMPTY_NODE,g=!1);const y=Wh(new Sr(v,g,!1),new Sr(a,c,!1));return new KR(e,y)}return m}function sO(s,e,i,a,c,h){const m=wS(s,e,a,c,h);return s.views.has(e._queryIdentifier)||s.views.set(e._queryIdentifier,m),JR(m,i),eO(m,i)}function rO(s,e,i,a){const c=e._queryIdentifier,h=[];let m=[];const v=Er(s);if(c==="default")for(const[g,y]of s.views.entries())m=m.concat(n0(y,i,a)),t0(y)&&(s.views.delete(g),y.query._queryParams.loadsAllData()||h.push(y.query));else{const g=s.views.get(c);g&&(m=m.concat(n0(g,i,a)),t0(g)&&(s.views.delete(c),g.query._queryParams.loadsAllData()||h.push(g.query)))}return v&&!Er(s)&&h.push(new(nO())(e._repo,e._path)),{removed:h,events:m}}function TS(s){const e=[];for(const i of s.views.values())i.query._queryParams.loadsAllData()||e.push(i);return e}function yr(s,e){let i=null;for(const a of s.views.values())i=i||$R(a,e);return i}function CS(s,e){if(e._queryParams.loadsAllData())return Xh(s);{const a=e._queryIdentifier;return s.views.get(a)}}function xS(s,e){return CS(s,e)!=null}function Er(s){return Xh(s)!=null}function Xh(s){for(const e of s.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jh;function aO(s){ne(!jh,"__referenceConstructor has already been defined"),jh=s}function oO(){return ne(jh,"Reference.ts has not been loaded"),jh}let lO=1;class s0{constructor(e){this.listenProvider_=e,this.syncPointTree_=new at(null),this.pendingWriteTree_=zR(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function uO(s,e,i,a,c){return xR(s.pendingWriteTree_,e,i,a,c),c?xu(s,new fa(fS(),e,i)):[]}function lo(s,e,i=!1){const a=NR(s.pendingWriteTree_,e);if(AR(s.pendingWriteTree_,e)){let h=new at(null);return a.snap!=null?h=h.set(Fe(),!0):pn(a.children,m=>{h=h.set(new Je(m),!0)}),xu(s,new Ih(a.path,h,i))}else return[]}function Cu(s,e,i){return xu(s,new fa(wp(),e,i))}function cO(s,e,i){const a=at.fromObject(i);return xu(s,new hu(wp(),e,a))}function hO(s,e){return xu(s,new cu(wp(),e))}function fO(s,e,i){const a=Rp(s,i);if(a){const c=Op(a),h=c.path,m=c.queryId,v=sn(h,e),g=new cu(Tp(m),v);return Lp(s,h,g)}else return[]}function NS(s,e,i,a,c=!1){const h=e._path,m=s.syncPointTree_.get(h);let v=[];if(m&&(e._queryIdentifier==="default"||xS(m,e))){const g=rO(m,e,i,a);iO(m)&&(s.syncPointTree_=s.syncPointTree_.remove(h));const y=g.removed;if(v=g.events,!c){const C=y.findIndex(N=>N._queryParams.loadsAllData())!==-1,x=s.syncPointTree_.findOnPath(h,(N,D)=>Er(D));if(C&&!x){const N=s.syncPointTree_.subtree(h);if(!N.isEmpty()){const D=_O(N);for(let k=0;k<D.length;++k){const U=D[k],Y=U.query,X=MS(s,U);s.listenProvider_.startListening(tu(Y),fu(s,Y),X.hashFn,X.onComplete)}}}!x&&y.length>0&&!a&&(C?s.listenProvider_.stopListening(tu(e),null):y.forEach(N=>{const D=s.queryToTagMap.get(Qh(N));s.listenProvider_.stopListening(tu(N),D)}))}gO(s,y)}return v}function AS(s,e,i,a){const c=Rp(s,a);if(c!=null){const h=Op(c),m=h.path,v=h.queryId,g=sn(m,e),y=new fa(Tp(v),g,i);return Lp(s,m,y)}else return[]}function dO(s,e,i,a){const c=Rp(s,a);if(c){const h=Op(c),m=h.path,v=h.queryId,g=sn(m,e),y=at.fromObject(i),C=new hu(Tp(v),g,y);return Lp(s,m,C)}else return[]}function mO(s,e,i,a=!1){const c=e._path;let h=null,m=!1;s.syncPointTree_.foreachOnPath(c,(N,D)=>{const k=sn(N,c);h=h||yr(D,k),m=m||Er(D)});let v=s.syncPointTree_.get(c);v?(m=m||Er(v),h=h||yr(v,Fe())):(v=new ES,s.syncPointTree_=s.syncPointTree_.set(c,v));let g;h!=null?g=!0:(g=!1,h=Se.EMPTY_NODE,s.syncPointTree_.subtree(c).foreachChild((D,k)=>{const U=yr(k,Fe());U&&(h=h.updateImmediateChild(D,U))}));const y=xS(v,e);if(!y&&!e._queryParams.loadsAllData()){const N=Qh(e);ne(!s.queryToTagMap.has(N),"View does not exist, but we have a tag");const D=vO();s.queryToTagMap.set(N,D),s.tagToQueryMap.set(D,N)}const C=Kh(s.pendingWriteTree_,c);let x=sO(v,e,i,C,h,g);if(!y&&!m&&!a){const N=CS(v,e);x=x.concat(yO(s,e,N))}return x}function RS(s,e,i){const c=s.pendingWriteTree_,h=s.syncPointTree_.findOnPath(e,(m,v)=>{const g=sn(m,e),y=yr(v,g);if(y)return y});return _S(c,e,h,i,!0)}function pO(s,e){const i=e._path;let a=null;s.syncPointTree_.foreachOnPath(i,(y,C)=>{const x=sn(y,i);a=a||yr(C,x)});let c=s.syncPointTree_.get(i);c?a=a||yr(c,Fe()):(c=new ES,s.syncPointTree_=s.syncPointTree_.set(i,c));const h=a!=null,m=h?new Sr(a,!0,!1):null,v=Kh(s.pendingWriteTree_,e._path),g=wS(c,e,v,h?m.getNode():Se.EMPTY_NODE,h);return QR(g)}function xu(s,e){return OS(e,s.syncPointTree_,null,Kh(s.pendingWriteTree_,Fe()))}function OS(s,e,i,a){if(ke(s.path))return LS(s,e,i,a);{const c=e.get(Fe());i==null&&c!=null&&(i=yr(c,Fe()));let h=[];const m=Pe(s.path),v=s.operationForChild(m),g=e.children.get(m);if(g&&v){const y=i?i.getImmediateChild(m):null,C=gS(a,m);h=h.concat(OS(v,g,y,C))}return c&&(h=h.concat(Ap(c,s,a,i))),h}}function LS(s,e,i,a){const c=e.get(Fe());i==null&&c!=null&&(i=yr(c,Fe()));let h=[];return e.children.inorderTraversal((m,v)=>{const g=i?i.getImmediateChild(m):null,y=gS(a,m),C=s.operationForChild(m);C&&(h=h.concat(LS(C,v,g,y)))}),c&&(h=h.concat(Ap(c,s,a,i))),h}function MS(s,e){const i=e.query,a=fu(s,i);return{hashFn:()=>(XR(e)||Se.EMPTY_NODE).hash(),onComplete:c=>{if(c==="ok")return a?fO(s,i._path,a):hO(s,i._path);{const h=dA(c,i);return NS(s,i,null,h)}}}}function fu(s,e){const i=Qh(e);return s.queryToTagMap.get(i)}function Qh(s){return s._path.toString()+"$"+s._queryIdentifier}function Rp(s,e){return s.tagToQueryMap.get(e)}function Op(s){const e=s.indexOf("$");return ne(e!==-1&&e<s.length-1,"Bad queryKey."),{queryId:s.substr(e+1),path:new Je(s.substr(0,e))}}function Lp(s,e,i){const a=s.syncPointTree_.get(e);ne(a,"Missing sync point for query tag that we're tracking");const c=Kh(s.pendingWriteTree_,e);return Ap(a,i,c,null)}function _O(s){return s.fold((e,i,a)=>{if(i&&Er(i))return[Xh(i)];{let c=[];return i&&(c=TS(i)),pn(a,(h,m)=>{c=c.concat(m)}),c}})}function tu(s){return s._queryParams.loadsAllData()&&!s._queryParams.isDefault()?new(oO())(s._repo,s._path):s}function gO(s,e){for(let i=0;i<e.length;++i){const a=e[i];if(!a._queryParams.loadsAllData()){const c=Qh(a),h=s.queryToTagMap.get(c);s.queryToTagMap.delete(c),s.tagToQueryMap.delete(h)}}}function vO(){return lO++}function yO(s,e,i){const a=e._path,c=fu(s,e),h=MS(s,i),m=s.listenProvider_.startListening(tu(e),c,h.hashFn,h.onComplete),v=s.syncPointTree_.subtree(a);if(c)ne(!Er(v.value),"If we're adding a query, it shouldn't be shadowed");else{const g=v.fold((y,C,x)=>{if(!ke(y)&&C&&Er(C))return[Xh(C).query];{let N=[];return C&&(N=N.concat(TS(C).map(D=>D.query))),pn(x,(D,k)=>{N=N.concat(k)}),N}});for(let y=0;y<g.length;++y){const C=g[y];s.listenProvider_.stopListening(tu(C),fu(s,C))}}return m}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this.node_=e}getImmediateChild(e){const i=this.node_.getImmediateChild(e);return new Mp(i)}node(){return this.node_}}class Ip{constructor(e,i){this.syncTree_=e,this.path_=i}getImmediateChild(e){const i=Ct(this.path_,e);return new Ip(this.syncTree_,i)}node(){return RS(this.syncTree_,this.path_)}}const bO=function(s){return s=s||{},s.timestamp=s.timestamp||new Date().getTime(),s},r0=function(s,e,i){if(!s||typeof s!="object")return s;if(ne(".sv"in s,"Unexpected leaf node or priority contents"),typeof s[".sv"]=="string")return SO(s[".sv"],e,i);if(typeof s[".sv"]=="object")return EO(s[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(s,null,2))},SO=function(s,e,i){switch(s){case"timestamp":return i.timestamp;default:ne(!1,"Unexpected server value: "+s)}},EO=function(s,e,i){s.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(s,null,2));const a=s.increment;typeof a!="number"&&ne(!1,"Unexpected increment value: "+a);const c=e.node();if(ne(c!==null&&typeof c<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!c.isLeafNode())return a;const m=c.getValue();return typeof m!="number"?a:m+a},wO=function(s,e,i,a){return kp(e,new Ip(i,s),a)},TO=function(s,e,i){return kp(s,new Mp(e),i)};function kp(s,e,i){const a=s.getPriority().val(),c=r0(a,e.getImmediateChild(".priority"),i);let h;if(s.isLeafNode()){const m=s,v=r0(m.getValue(),e,i);return v!==m.getValue()||c!==m.getPriority().val()?new It(v,Ft(c)):s}else{const m=s;return h=m,c!==m.getPriority().val()&&(h=h.updatePriority(new It(c))),m.forEachChild(_t,(v,g)=>{const y=kp(g,e.getImmediateChild(v),i);y!==g&&(h=h.updateImmediateChild(v,y))}),h}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dp{constructor(e="",i=null,a={children:{},childCount:0}){this.name=e,this.parent=i,this.node=a}}function Pp(s,e){let i=e instanceof Je?e:new Je(e),a=s,c=Pe(i);for(;c!==null;){const h=po(a.node.children,c)||{children:{},childCount:0};a=new Dp(c,a,h),i=rt(i),c=Pe(i)}return a}function Oo(s){return s.node.value}function IS(s,e){s.node.value=e,Bm(s)}function kS(s){return s.node.childCount>0}function CO(s){return Oo(s)===void 0&&!kS(s)}function $h(s,e){pn(s.node.children,(i,a)=>{e(new Dp(i,s,a))})}function DS(s,e,i,a){i&&e(s),$h(s,c=>{DS(c,e,!0)})}function xO(s,e,i){let a=s.parent;for(;a!==null;){if(e(a))return!0;a=a.parent}return!1}function Nu(s){return new Je(s.parent===null?s.name:Nu(s.parent)+"/"+s.name)}function Bm(s){s.parent!==null&&NO(s.parent,s.name,s)}function NO(s,e,i){const a=CO(i),c=ds(s.node.children,e);a&&c?(delete s.node.children[e],s.node.childCount--,Bm(s)):!a&&!c&&(s.node.children[e]=i.node,s.node.childCount++,Bm(s))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AO=/[\[\].#$\/\u0000-\u001F\u007F]/,RO=/[\[\].#$\u0000-\u001F\u007F]/,gm=10*1024*1024,PS=function(s){return typeof s=="string"&&s.length!==0&&!AO.test(s)},zS=function(s){return typeof s=="string"&&s.length!==0&&!RO.test(s)},OO=function(s){return s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),zS(s)},US=function(s,e,i){const a=i instanceof Je?new GA(i,s):i;if(e===void 0)throw new Error(s+"contains undefined "+sa(a));if(typeof e=="function")throw new Error(s+"contains a function "+sa(a)+" with contents = "+e.toString());if(Ib(e))throw new Error(s+"contains "+e.toString()+" "+sa(a));if(typeof e=="string"&&e.length>gm/3&&qh(e)>gm)throw new Error(s+"contains a string greater than "+gm+" utf8 bytes "+sa(a)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let c=!1,h=!1;if(pn(e,(m,v)=>{if(m===".value")c=!0;else if(m!==".priority"&&m!==".sv"&&(h=!0,!PS(m)))throw new Error(s+" contains an invalid key ("+m+") "+sa(a)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);YA(a,m),US(s,v,a),WA(a)}),c&&h)throw new Error(s+' contains ".value" child '+sa(a)+" in addition to actual children.")}},jS=function(s,e,i,a){if(!zS(i))throw new Error(q0(s,e)+'was an invalid path = "'+i+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},LO=function(s,e,i,a){i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),jS(s,e,i)},MO=function(s,e){const i=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!PS(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||i.length!==0&&!OO(i))throw new Error(q0(s,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function kO(s,e){let i=null;for(let a=0;a<e.length;a++){const c=e[a],h=c.getPath();i!==null&&!iS(h,i.path)&&(s.eventLists_.push(i),i=null),i===null&&(i={events:[],path:h}),i.events.push(c)}i&&s.eventLists_.push(i)}function Tr(s,e,i){kO(s,i),DO(s,a=>ni(a,e)||ni(e,a))}function DO(s,e){s.recursionDepth_++;let i=!0;for(let a=0;a<s.eventLists_.length;a++){const c=s.eventLists_[a];if(c){const h=c.path;e(h)?(PO(s.eventLists_[a]),s.eventLists_[a]=null):i=!1}}i&&(s.eventLists_=[]),s.recursionDepth_--}function PO(s){for(let e=0;e<s.events.length;e++){const i=s.events[e];if(i!==null){s.events[e]=null;const a=i.getEventRunner();Ql&&Kt("event: "+i.toString()),wu(a)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zO="repo_interrupt",UO=25;class jO{constructor(e,i,a,c){this.repoInfo_=e,this.forceRestClient_=i,this.authTokenProvider_=a,this.appCheckProvider_=c,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new IO,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Mh(),this.transactionQueueTree_=new Dp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function BO(s,e,i){if(s.stats_=gp(s.repoInfo_),s.forceRestClient_||gA())s.server_=new Lh(s.repoInfo_,(a,c,h,m)=>{a0(s,a,c,h,m)},s.authTokenProvider_,s.appCheckProvider_),setTimeout(()=>o0(s,!0),0);else{if(typeof i<"u"&&i!==null){if(typeof i!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tt(i)}catch(a){throw new Error("Invalid authOverride provided: "+a)}}s.persistentConnection_=new os(s.repoInfo_,e,(a,c,h,m)=>{a0(s,a,c,h,m)},a=>{o0(s,a)},a=>{FO(s,a)},s.authTokenProvider_,s.appCheckProvider_,i),s.server_=s.persistentConnection_}s.authTokenProvider_.addTokenChangeListener(a=>{s.server_.refreshAuthToken(a)}),s.appCheckProvider_.addTokenChangeListener(a=>{s.server_.refreshAppCheckToken(a.token)}),s.statsReporter_=EA(s.repoInfo_,()=>new bR(s.stats_,s.server_)),s.infoData_=new pR,s.infoSyncTree_=new s0({startListening:(a,c,h,m)=>{let v=[];const g=s.infoData_.getNode(a._path);return g.isEmpty()||(v=Cu(s.infoSyncTree_,a._path,g),setTimeout(()=>{m("ok")},0)),v},stopListening:()=>{}}),zp(s,"connected",!1),s.serverSyncTree_=new s0({startListening:(a,c,h,m)=>(s.server_.listen(a,h,c,(v,g)=>{const y=m(v,g);Tr(s.eventQueue_,a._path,y)}),[]),stopListening:(a,c)=>{s.server_.unlisten(a,c)}})}function HO(s){const i=s.infoData_.getNode(new Je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+i}function BS(s){return bO({timestamp:HO(s)})}function a0(s,e,i,a,c){s.dataUpdateCount++;const h=new Je(e);i=s.interceptServerDataCallback_?s.interceptServerDataCallback_(e,i):i;let m=[];if(c)if(a){const g=yh(i,y=>Ft(y));m=dO(s.serverSyncTree_,h,g,c)}else{const g=Ft(i);m=AS(s.serverSyncTree_,h,g,c)}else if(a){const g=yh(i,y=>Ft(y));m=cO(s.serverSyncTree_,h,g)}else{const g=Ft(i);m=Cu(s.serverSyncTree_,h,g)}let v=h;m.length>0&&(v=Bp(s,h)),Tr(s.eventQueue_,v,m)}function o0(s,e){zp(s,"connected",e),e===!1&&VO(s)}function FO(s,e){pn(e,(i,a)=>{zp(s,i,a)})}function zp(s,e,i){const a=new Je("/.info/"+e),c=Ft(i);s.infoData_.updateSnapshot(a,c);const h=Cu(s.infoSyncTree_,a,c);Tr(s.eventQueue_,a,h)}function qO(s){return s.nextWriteId_++}function ZO(s,e,i){const a=pO(s.serverSyncTree_,e);return a!=null?Promise.resolve(a):s.server_.get(e).then(c=>{const h=Ft(c).withIndex(e._queryParams.getIndex());mO(s.serverSyncTree_,e,i,!0);let m;if(e._queryParams.loadsAllData())m=Cu(s.serverSyncTree_,e._path,h);else{const v=fu(s.serverSyncTree_,e);m=AS(s.serverSyncTree_,e._path,h,v)}return Tr(s.eventQueue_,e._path,m),NS(s.serverSyncTree_,e,i,null,!0),h},c=>(Up(s,"get for query "+Tt(e)+" failed: "+c),Promise.reject(new Error(c))))}function VO(s){Up(s,"onDisconnectEvents");const e=BS(s),i=Mh();Dm(s.onDisconnect_,Fe(),(c,h)=>{const m=wO(c,h,s.serverSyncTree_,e);hS(i,c,m)});let a=[];Dm(i,Fe(),(c,h)=>{a=a.concat(Cu(s.serverSyncTree_,c,h));const m=KO(s,c);Bp(s,m)}),s.onDisconnect_=Mh(),Tr(s.eventQueue_,Fe(),a)}function GO(s){s.persistentConnection_&&s.persistentConnection_.interrupt(zO)}function Up(s,...e){let i="";s.persistentConnection_&&(i=s.persistentConnection_.id+":"),Kt(i,...e)}function HS(s,e,i){return RS(s.serverSyncTree_,e,i)||Se.EMPTY_NODE}function jp(s,e=s.transactionQueueTree_){if(e||Jh(s,e),Oo(e)){const i=qS(s,e);ne(i.length>0,"Sending zero length transaction queue"),i.every(c=>c.status===0)&&YO(s,Nu(e),i)}else kS(e)&&$h(e,i=>{jp(s,i)})}function YO(s,e,i){const a=i.map(y=>y.currentWriteId),c=HS(s,e,a);let h=c;const m=c.hash();for(let y=0;y<i.length;y++){const C=i[y];ne(C.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),C.status=1,C.retryCount++;const x=sn(e,C.path);h=h.updateChild(x,C.currentOutputSnapshotRaw)}const v=h.val(!0),g=e;s.server_.put(g.toString(),v,y=>{Up(s,"transaction put response",{path:g.toString(),status:y});let C=[];if(y==="ok"){const x=[];for(let N=0;N<i.length;N++)i[N].status=2,C=C.concat(lo(s.serverSyncTree_,i[N].currentWriteId)),i[N].onComplete&&x.push(()=>i[N].onComplete(null,!0,i[N].currentOutputSnapshotResolved)),i[N].unwatcher();Jh(s,Pp(s.transactionQueueTree_,e)),jp(s,s.transactionQueueTree_),Tr(s.eventQueue_,e,C);for(let N=0;N<x.length;N++)wu(x[N])}else{if(y==="datastale")for(let x=0;x<i.length;x++)i[x].status===3?i[x].status=4:i[x].status=0;else{Rn("transaction at "+g.toString()+" failed: "+y);for(let x=0;x<i.length;x++)i[x].status=4,i[x].abortReason=y}Bp(s,e)}},m)}function Bp(s,e){const i=FS(s,e),a=Nu(i),c=qS(s,i);return WO(s,c,a),a}function WO(s,e,i){if(e.length===0)return;const a=[];let c=[];const m=e.filter(v=>v.status===0).map(v=>v.currentWriteId);for(let v=0;v<e.length;v++){const g=e[v],y=sn(i,g.path);let C=!1,x;if(ne(y!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)C=!0,x=g.abortReason,c=c.concat(lo(s.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=UO)C=!0,x="maxretry",c=c.concat(lo(s.serverSyncTree_,g.currentWriteId,!0));else{const N=HS(s,g.path,m);g.currentInputSnapshot=N;const D=e[v].update(N.val());if(D!==void 0){US("transaction failed: Data returned ",D,g.path);let k=Ft(D);typeof D=="object"&&D!=null&&ds(D,".priority")||(k=k.updatePriority(N.getPriority()));const Y=g.currentWriteId,X=BS(s),ee=TO(k,N,X);g.currentOutputSnapshotRaw=k,g.currentOutputSnapshotResolved=ee,g.currentWriteId=qO(s),m.splice(m.indexOf(Y),1),c=c.concat(uO(s.serverSyncTree_,g.path,ee,g.currentWriteId,g.applyLocally)),c=c.concat(lo(s.serverSyncTree_,Y,!0))}else C=!0,x="nodata",c=c.concat(lo(s.serverSyncTree_,g.currentWriteId,!0))}Tr(s.eventQueue_,i,c),c=[],C&&(e[v].status=2,function(N){setTimeout(N,Math.floor(0))}(e[v].unwatcher),e[v].onComplete&&(x==="nodata"?a.push(()=>e[v].onComplete(null,!1,e[v].currentInputSnapshot)):a.push(()=>e[v].onComplete(new Error(x),!1,null))))}Jh(s,s.transactionQueueTree_);for(let v=0;v<a.length;v++)wu(a[v]);jp(s,s.transactionQueueTree_)}function FS(s,e){let i,a=s.transactionQueueTree_;for(i=Pe(e);i!==null&&Oo(a)===void 0;)a=Pp(a,i),e=rt(e),i=Pe(e);return a}function qS(s,e){const i=[];return ZS(s,e,i),i.sort((a,c)=>a.order-c.order),i}function ZS(s,e,i){const a=Oo(e);if(a)for(let c=0;c<a.length;c++)i.push(a[c]);$h(e,c=>{ZS(s,c,i)})}function Jh(s,e){const i=Oo(e);if(i){let a=0;for(let c=0;c<i.length;c++)i[c].status!==2&&(i[a]=i[c],a++);i.length=a,IS(e,i.length>0?i:void 0)}$h(e,a=>{Jh(s,a)})}function KO(s,e){const i=Nu(FS(s,e)),a=Pp(s.transactionQueueTree_,e);return xO(a,c=>{vm(s,c)}),vm(s,a),DS(a,c=>{vm(s,c)}),i}function vm(s,e){const i=Oo(e);if(i){const a=[];let c=[],h=-1;for(let m=0;m<i.length;m++)i[m].status===3||(i[m].status===1?(ne(h===m-1,"All SENT items should be at beginning of queue."),h=m,i[m].status=3,i[m].abortReason="set"):(ne(i[m].status===0,"Unexpected transaction status in abort"),i[m].unwatcher(),c=c.concat(lo(s.serverSyncTree_,i[m].currentWriteId,!0)),i[m].onComplete&&a.push(i[m].onComplete.bind(null,new Error("set"),!1,null))));h===-1?IS(e,void 0):i.length=h+1,Tr(s.eventQueue_,Nu(e),c);for(let m=0;m<a.length;m++)wu(a[m])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XO(s){let e="";const i=s.split("/");for(let a=0;a<i.length;a++)if(i[a].length>0){let c=i[a];try{c=decodeURIComponent(c.replace(/\+/g," "))}catch{}e+="/"+c}return e}function QO(s){const e={};s.charAt(0)==="?"&&(s=s.substring(1));for(const i of s.split("&")){if(i.length===0)continue;const a=i.split("=");a.length===2?e[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Rn(`Invalid query segment '${i}' in query '${s}'`)}return e}const l0=function(s,e){const i=$O(s),a=i.namespace;i.domain==="firebase.com"&&hs(i.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!a||a==="undefined")&&i.domain!=="localhost"&&hs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),i.secure||lA();const c=i.scheme==="ws"||i.scheme==="wss";return{repoInfo:new Vb(i.host,i.secure,a,c,e,"",a!==i.subdomain),path:new Je(i.pathString)}},$O=function(s){let e="",i="",a="",c="",h="",m=!0,v="https",g=443;if(typeof s=="string"){let y=s.indexOf("//");y>=0&&(v=s.substring(0,y-1),s=s.substring(y+2));let C=s.indexOf("/");C===-1&&(C=s.length);let x=s.indexOf("?");x===-1&&(x=s.length),e=s.substring(0,Math.min(C,x)),C<x&&(c=XO(s.substring(C,x)));const N=QO(s.substring(Math.min(s.length,x)));y=e.indexOf(":"),y>=0?(m=v==="https"||v==="wss",g=parseInt(e.substring(y+1),10)):y=e.length;const D=e.slice(0,y);if(D.toLowerCase()==="localhost")i="localhost";else if(D.split(".").length<=2)i=D;else{const k=e.indexOf(".");a=e.substring(0,k).toLowerCase(),i=e.substring(k+1),h=a}"ns"in N&&(h=N.ns)}return{host:e,port:g,domain:i,subdomain:a,secure:m,scheme:v,pathString:c,namespace:h}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(e,i,a,c){this.eventType=e,this.eventRegistration=i,this.snapshot=a,this.prevName=c}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Tt(this.snapshot.exportVal())}}class eL{constructor(e,i,a){this.eventRegistration=e,this.error=i,this.path=a}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e,i){this.snapshotCallback=e,this.cancelCallback=i}onValue(e,i){this.snapshotCallback.call(null,e,i)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,i,a,c){this._repo=e,this._path=i,this._queryParams=a,this._orderByCalled=c}get key(){return ke(this._path)?null:eS(this._path)}get ref(){return new _s(this._repo,this._path)}get _queryIdentifier(){const e=Yy(this._queryParams),i=pp(e);return i==="{}"?"default":i}get _queryObject(){return Yy(this._queryParams)}isEqual(e){if(e=an(e),!(e instanceof Hp))return!1;const i=this._repo===e._repo,a=iS(this._path,e._path),c=this._queryIdentifier===e._queryIdentifier;return i&&a&&c}toJSON(){return this.toString()}toString(){return this._repo.toString()+VA(this._path)}}class _s extends Hp{constructor(e,i){super(e,i,new Ep,!1)}get parent(){const e=nS(this._path);return e===null?null:new _s(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class du{constructor(e,i,a){this._node=e,this.ref=i,this._index=a}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const i=new Je(e),a=Hm(this.ref,e);return new du(this._node.getChild(i),a,_t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(a,c)=>e(new du(c,Hm(this.ref,a),_t)))}hasChild(e){const i=new Je(e);return!this._node.getChild(i).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function VS(s,e){return s=an(s),s._checkNotDeleted("ref"),e!==void 0?Hm(s._root,e):s._root}function Hm(s,e){return s=an(s),Pe(s._path)===null?LO("child","path",e):jS("child","path",e),new _s(s._repo,Ct(s._path,e))}function GS(s){s=an(s);const e=new tL(()=>{}),i=new Fp(e);return ZO(s._repo,s,i).then(a=>new du(a,new _s(s._repo,s._path),s._queryParams.getIndex()))}class Fp{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,i){const a=i._queryParams.getIndex();return new JO("value",this,new du(e.snapshotNode,new _s(i._repo,i._path),a))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,i){return this.callbackContext.hasCancelCallback?new eL(this,e,i):null}matches(e){return e instanceof Fp?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}tO(_s);aO(_s);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL="FIREBASE_DATABASE_EMULATOR_HOST",Fm={};let iL=!1;function sL(s,e,i,a){const c=e.lastIndexOf(":"),h=e.substring(0,c),m=Co(h);s.repoInfo_=new Vb(e,m,s.repoInfo_.namespace,s.repoInfo_.webSocketOnly,s.repoInfo_.nodeAdmin,s.repoInfo_.persistenceKey,s.repoInfo_.includeNamespaceInQueryParams,!0,i),a&&(s.authTokenProvider_=a)}function rL(s,e,i,a,c){let h=a||s.options.databaseURL;h===void 0&&(s.options.projectId||hs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kt("Using default host for project ",s.options.projectId),h=`${s.options.projectId}-default-rtdb.firebaseio.com`);let m=l0(h,c),v=m.repoInfo,g;typeof process<"u"&&Ry&&(g=Ry[nL]),g?(h=`http://${g}?ns=${v.namespace}`,m=l0(h,c),v=m.repoInfo):m.repoInfo.secure;const y=new yA(s.name,s.options,e);MO("Invalid Firebase Database URL",m),ke(m.path)||hs("Database URL must point to the root of a Firebase Database (not including a child path).");const C=oL(v,s,y,new vA(s,i));return new lL(C,s)}function aL(s,e){const i=Fm[e];(!i||i[s.key]!==s)&&hs(`Database ${e}(${s.repoInfo_}) has already been deleted.`),GO(s),delete i[s.key]}function oL(s,e,i,a){let c=Fm[e.name];c||(c={},Fm[e.name]=c);let h=c[s.toURLString()];return h&&hs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),h=new jO(s,iL,i,a),c[s.toURLString()]=h,h}class lL{constructor(e,i){this._repoInternal=e,this.app=i,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(BO(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new _s(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(aL(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&hs("Cannot call "+e+" on a deleted database.")}}function uL(s=Y0(),e){const i=ip(s,"database").getImmediate({identifier:e});if(!i._instanceStarted){const a=aC("database");a&&cL(i,...a)}return i}function cL(s,e,i,a={}){s=an(s),s._checkNotDeleted("useEmulator");const c=`${e}:${i}`,h=s._repoInternal;if(s._instanceStarted){if(c===s._repoInternal.repoInfo_.host&&oa(a,h.repoInfo_.emulatorOptions))return;hs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let m;if(h.repoInfo_.nodeAdmin)a.mockUserToken&&hs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),m=new ph(ph.OWNER);else if(a.mockUserToken){const v=typeof a.mockUserToken=="string"?a.mockUserToken:oC(a.mockUserToken,s.app.options.projectId);m=new ph(v)}Co(e)&&(j0(e),B0("Database",!0)),sL(h,c,a,m)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hL(s){nA(No),_o(new la("database",(e,{instanceIdentifier:i})=>{const a=e.getProvider("app").getImmediate(),c=e.getProvider("auth-internal"),h=e.getProvider("app-check-internal");return rL(a,c,h,i)},"PUBLIC").setMultipleInstances(!0)),gr(Oy,Ly,s),gr(Oy,Ly,"esm2017")}os.prototype.simpleListen=function(s,e){this.sendRequest("q",{p:s},e)};os.prototype.echo=function(s,e){this.sendRequest("echo",{d:s},e)};hL();const fL={apiKey:"AIzaSyAjgircs1OZfvCnvo2GNA3y2-UYRcy-W4k",authDomain:"vizy-12155.firebaseapp.com",databaseURL:"https://vizy-12155-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"vizy-12155",storageBucket:"vizy-12155.firebasestorage.app",messagingSenderId:"207196912841",appId:"1:207196912841:web:005f743a35c5149d882118",measurementId:"G-Q1JJF9C716"},YS=G0(fL),WS=uL(YS),ao=$N(YS),KS=I.createContext(void 0);function Lo(){const s=I.useContext(KS);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s}function dL({children:s}){const[e,i]=I.useState(null),[a,c]=I.useState(!0);function h(C,x){return D1(ao,C,x)}function m(C,x){return P1(ao,C,x)}async function v(){try{console.log("Logging out..."),await H1(ao),console.log("Logout successful"),i(null)}catch(C){throw console.error("Logout error:",C),C}}function g(){const C=new ts;return oN(ao,C)}I.useEffect(()=>B1(ao,x=>{i(x),c(!1)}),[]);const y={currentUser:e,login:m,signup:h,logout:v,loginWithGoogle:g,loading:a};return E.jsx(KS.Provider,{value:y,children:!a&&s})}const ym=({children:s})=>{const{currentUser:e,loading:i}=Lo();return i?E.jsxs("div",{className:"loading-screen",children:[E.jsx("div",{className:"loading-spinner"}),E.jsx("p",{children:"Loading..."})]}):e?E.jsx(E.Fragment,{children:s}):E.jsx(C0,{to:"/login",replace:!0})},mL=({onDeadlineChange:s,onClose:e,currentDate:i,currentReminder:a})=>{const[c,h,m]=i.split("/").map(Number),[v,g]=I.useState(c),[y,C]=I.useState(h),[x,N]=I.useState(m),[D,k]=I.useState(a),[U,Y]=I.useState(!1),X=()=>{const _e=new Date().getFullYear(),xe=[];for(let ye=_e;ye<=_e+5;ye++)xe.push(E.jsx("option",{value:ye,children:ye},ye));return xe},ee=()=>{const _e=[];for(let xe=1;xe<=12;xe++){const ye=new Date(2e3,xe-1).toLocaleString("default",{month:"long"});_e.push(E.jsx("option",{value:xe,children:ye},xe))}return _e},$=()=>{const _e=new Date(v,y,0).getDate(),xe=[];for(let ye=1;ye<=_e;ye++)xe.push(E.jsx("option",{value:ye,children:ye},ye));return xe},ce=()=>{Y(!0)},re=()=>{const _e=`${v}/${String(y).padStart(2,"0")}/${String(x).padStart(2,"0")}`;s(_e,D),e()},De=()=>{Y(!1)};return E.jsxs("div",{className:"reminder-set-container",children:[E.jsxs("div",{className:"reminder-set-popup",children:[E.jsx("button",{className:"close-button",onClick:e,children:"×"}),E.jsxs("div",{className:"popup-content",children:[E.jsxs("div",{className:"popup-content-header",children:[E.jsx("img",{src:"https://img.icons8.com/color/96/passport.png",alt:"Visa Icon"}),E.jsx("h3",{children:"VISA Reminder"})]}),E.jsxs("div",{className:"input-group",children:[E.jsxs("div",{className:"input-with-button",children:[E.jsx("label",{className:"date-label",children:"Set Visa expiration date"}),E.jsxs("div",{className:"date-selectors",children:[E.jsx("select",{className:"date-select",value:v,onChange:_e=>g(Number(_e.target.value)),children:X()}),E.jsx("select",{className:"date-select",value:y,onChange:_e=>C(Number(_e.target.value)),children:ee()}),E.jsx("select",{className:"date-select",value:x,onChange:_e=>N(Number(_e.target.value)),children:$()})]})]}),E.jsxs("div",{className:"reminder-input-container",children:[E.jsx("label",{className:"reminder-label",children:"Set Reminder"}),E.jsxs("select",{className:"reminder-select",value:D,onChange:_e=>k(_e.target.value),children:[E.jsx("option",{value:"",children:"Select reminder time"}),E.jsx("option",{value:"3",children:"3 months prior"}),E.jsx("option",{value:"2",children:"2 months prior"}),E.jsx("option",{value:"1",children:"1 month prior"})]})]}),E.jsx("button",{onClick:ce,className:"submit-btn",children:"Submit"})]})]})]}),U&&E.jsx("div",{className:"confirmation-dialog",children:E.jsxs("div",{className:"confirmation-content",children:[E.jsx("h3",{children:"Confirm Date"}),E.jsxs("p",{children:["Are you sure you want to set the visa expiration date to"," ",`${v}/${String(y).padStart(2,"0")}/${String(x).padStart(2,"0")}`,"?"]}),D?E.jsxs("p",{className:"reminder-info",children:["You will be reminded"," ",E.jsxs("span",{className:"reminder-time-text",children:[D," month",D==="1"?"":"s"]})," ","before the expiration date."]}):E.jsx("p",{className:"reminder-warning",children:"You have not set any reminder. Are you sure you don't want to be reminded before the expiration date?"}),E.jsxs("div",{className:"button-group",children:[E.jsx("button",{onClick:re,className:"confirm-btn",children:"Confirm"}),E.jsx("button",{onClick:De,className:"cancel-btn",children:"Cancel"})]})]})})]})},pL=()=>{const[s,e]=I.useState("2025/06/03"),[i,a]=I.useState(""),[c,h]=I.useState(!1),m=C=>{const x=new Date(C),N=new Date,D=new Date;return D.setMonth(N.getMonth()+3),N<=x&&x<=D},v=C=>{const x=new Date(C);return new Date>x?{status:"Expired",isAvailable:!1}:m(C)?{status:"Available",isAvailable:!0}:{status:"Unavailable",isAvailable:!1}},{status:g}=v(s),y=(C,x)=>{e(C),a(x),h(!1)};return E.jsxs("div",{className:"reminder-container",style:{position:"relative"},children:[E.jsxs("div",{className:"reminder-card",onClick:()=>h(!c),style:{cursor:"pointer"},children:[E.jsx("div",{className:"reminder-title",children:E.jsx("h5",{children:"VISA Renewal Reminder"})}),E.jsxs("div",{className:"reminder-content",children:[E.jsxs("div",{className:"deadline-date-container",children:[E.jsx("p",{children:"Deadline: "}),E.jsx("p",{className:"deadline-date",children:s})]}),E.jsxs("div",{className:"reminder-time-container",children:[E.jsx("p",{children:"Reminder: "}),E.jsx("p",{className:`reminder-time ${i?"set":"not-set"}`,children:i?`${i} month${i==="1"?"":"s"} prior`:"Not set"})]}),E.jsxs("div",{className:"availability-status-container",children:[E.jsx("p",{children:"Status: "}),E.jsx("p",{className:`availability-status ${g==="Available"?"available":g==="Expired"?"expired":"unavailable"}`,children:g})]})]})]}),c&&E.jsx(mL,{onDeadlineChange:y,onClose:()=>h(!1),currentDate:s,currentReminder:i})]})},_L=()=>{const[s,e]=I.useState(["Passport","Visa Renewal Application Form","Photo (30mm x 40mm)","Financial Statement"]),[i,a]=I.useState(["Residence Card","Enrollment Certificate","University Transcript"]),[c,h]=I.useState(null),[m,v]=I.useState(!1),[g,y]=I.useState([]),C=U=>{h(U),v(!0)},x=()=>{v(!1),h(null)},N=()=>{if(c){e(Y=>Y.filter(X=>X!==c)),a(Y=>[...Y,c]);const U=Date.now();y(Y=>[...Y,{message:`${c} has been checked!`,isUnchecking:!1,id:U}]),setTimeout(()=>{y(Y=>Y.filter(X=>X.id!==U))},2e3),x()}},D=()=>{if(c){a(Y=>Y.filter(X=>X!==c)),e(Y=>[...Y,c]);const U=Date.now();y(Y=>[...Y,{message:`${c} has been unchecked!`,isUnchecking:!0,id:U}]),setTimeout(()=>{y(Y=>Y.filter(X=>X.id!==U))},2e3),x()}},k=c?i.includes(c):!1;return E.jsxs("div",{className:"checklist-container",children:[E.jsxs("div",{className:"checklist-card",children:[E.jsx("div",{className:"checklist-title",children:E.jsx("h5",{children:"Document Checklist"})}),E.jsxs("div",{className:"checklist-content",children:[E.jsxs("div",{className:"checklist-section",children:[E.jsx("h6",{className:"section-title",children:"Required Documents"}),E.jsx("ul",{className:"document-list",children:s.map((U,Y)=>E.jsx("li",{className:"document-item uncompleted",onClick:()=>C(U),children:E.jsx("span",{className:"item-text",children:U})},`unchecked-${U}-${Y}`))})]}),E.jsx("div",{className:"checklist-divider"}),E.jsxs("div",{className:"checklist-section",children:[E.jsx("h6",{className:"section-title",children:"Completed Documents"}),E.jsx("ul",{className:"document-list",children:i.map((U,Y)=>E.jsx("li",{className:"document-item completed",onClick:()=>C(U),children:E.jsx("span",{className:"item-text",children:U})},`checked-${U}-${Y}`))})]})]})]}),m&&E.jsx("div",{className:"modal-overlay",onClick:x,children:E.jsxs("div",{className:"modal-content",onClick:U=>U.stopPropagation(),children:[E.jsxs("div",{className:"modal-header",children:[E.jsx("h5",{children:"Document Details"}),E.jsx("button",{className:"close-button",onClick:x,children:"×"})]}),E.jsxs("div",{className:"modal-body",children:[E.jsxs("div",{className:"modal-title-section",children:[E.jsx("h6",{children:c}),E.jsx("button",{className:"question-button",children:"?"})]}),E.jsxs("p",{children:["Status: ",k?"Completed":"Required"]}),E.jsx("div",{className:"modal-buttons",children:k?E.jsx("button",{className:"modal-button uncheck-button",onClick:D,children:E.jsx("span",{className:"button-text",children:"Uncheck"})}):E.jsxs(E.Fragment,{children:[E.jsxs("button",{className:"modal-button not-yet-button",onClick:x,children:[E.jsx("span",{className:"button-icon",children:"×"}),E.jsx("span",{className:"button-text",children:"Not Yet"})]}),E.jsxs("button",{className:"modal-button check-button",onClick:N,children:[E.jsx("span",{className:"button-icon",children:"✓"}),E.jsx("span",{className:"button-text",children:"Prepared"})]})]})})]})]})}),E.jsx("div",{className:"notification-container",children:g.map((U,Y)=>E.jsx("div",{className:`notification ${U.isUnchecking?"uncheck":""}`,style:{transform:`translateY(${-Y*80}px)`,transition:"transform 0.3s ease"},children:E.jsx("span",{children:U.message})},U.id))})]})},gL=({onAccountClick:s})=>{const{currentUser:e}=Lo(),i=()=>e!=null&&e.displayName?e.displayName:e!=null&&e.email?e.email.split("@")[0]:"User",a=()=>i().charAt(0).toUpperCase(),c=()=>{s&&s()};return E.jsxs("div",{className:"user-profile",onClick:c,children:[E.jsx("div",{className:"profile-picture",children:e!=null&&e.photoURL?E.jsx("img",{src:e.photoURL,alt:"Profile",className:"profile-avatar"}):E.jsx("div",{className:"profile-avatar-placeholder",children:a()})}),E.jsxs("div",{className:"user-info",children:[E.jsx("h2",{className:"user-name",children:i()}),E.jsx("p",{className:"user-status",children:"Welcome back!"})]})]})},XS=({onBack:s})=>{var D,k;const{currentUser:e}=Lo(),[i,a]=I.useState(!1),[c,h]=I.useState((e==null?void 0:e.displayName)||""),[m,v]=I.useState(!1),[g,y]=I.useState(""),C=()=>{a(!0),h((e==null?void 0:e.displayName)||""),y("")},x=async()=>{if(e){v(!0);try{await vb(e,{displayName:c}),y("Name updated successfully!"),setTimeout(()=>{a(!1),y("")},2e3)}catch{y("Failed to update name. Please try again.")}finally{v(!1)}}},N=async()=>{if(e!=null&&e.email){v(!0);try{await k1(ao,e.email),y("Password reset email sent! Check your inbox."),setTimeout(()=>{a(!1),y("")},3e3)}catch{y("Failed to send reset email. Please try again.")}finally{v(!1)}}};return E.jsxs("div",{className:"account-container",children:[E.jsxs("div",{className:"account-header",children:[E.jsx("button",{className:"back-button",onClick:s,children:E.jsx("img",{src:"https://img.icons8.com/sf-black-filled/100/FFFFFF/back.png",alt:"Back"})}),E.jsx("h1",{children:"Account"})]}),E.jsxs("div",{className:"profile-section",children:[E.jsxs("div",{className:"profile-photo",children:[e!=null&&e.photoURL?E.jsx("img",{src:e.photoURL,alt:"Profile"}):E.jsx("div",{className:"profile-placeholder",children:((D=e==null?void 0:e.displayName)==null?void 0:D.charAt(0))||((k=e==null?void 0:e.email)==null?void 0:k.charAt(0))||"U"}),E.jsx("button",{className:"edit-button",onClick:C,children:E.jsx("img",{src:"https://img.icons8.com/sf-black-filled/100/FFFFFF/pencil.png",alt:"Edit"})})]}),E.jsxs("div",{className:"profile-info",children:[E.jsx("h2",{className:"user-name",children:(e==null?void 0:e.displayName)||"User"}),E.jsx("p",{className:"user-email",children:(e==null?void 0:e.email)||"No email"})]})]}),i&&E.jsx("div",{className:"popup-overlay",onClick:()=>a(!1),children:E.jsxs("div",{className:"popup-content",onClick:U=>U.stopPropagation(),children:[E.jsxs("div",{className:"popup-header",children:[E.jsx("h3",{children:"Edit Profile"}),E.jsx("button",{className:"close-button",onClick:()=>a(!1),children:"×"})]}),E.jsxs("div",{className:"popup-body",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{children:"Display Name"}),E.jsxs("div",{className:"name-input-container",children:[E.jsx("input",{type:"text",value:c,onChange:U=>h(U.target.value),placeholder:"Enter your name",className:"name-input"}),E.jsx("button",{className:"save-button",onClick:x,disabled:m||!c.trim(),children:m?E.jsx("img",{src:"https://img.icons8.com/ios/100/FFFFFF/hourglass.png",alt:"Saving"}):E.jsx("img",{src:"https://img.icons8.com/sf-black-filled/100/FFFFFF/pencil.png",alt:"Save"})})]})]}),E.jsx("div",{className:"popup-actions",children:E.jsx("button",{className:"reset-password-button",onClick:N,disabled:m,children:m?"Sending...":"Reset Password"})}),g&&E.jsx("div",{className:`message ${g.includes("successfully")||g.includes("sent")?"success":"error"}`,children:g})]})]})})]})},qp=()=>{const s=Hh(),e=fs();return E.jsxs("div",{className:"bottom-navigation",children:[E.jsxs("button",{className:`nav-button locator-button ${e.pathname==="/locator"?"active":""}`,onClick:()=>{s("/locator")},children:[E.jsx("div",{className:"nav-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/marker.png",alt:"Pin Icon"})}),E.jsx("span",{children:"Locator"})]}),E.jsxs("button",{className:`nav-button home-button ${e.pathname==="/"||e.pathname==="/vizy"?"active":""}`,onClick:()=>{s("/")},children:[E.jsx("div",{className:"nav-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/home.png",alt:"home"})}),E.jsx("span",{children:"Home"})]}),E.jsxs("button",{className:`nav-button settings-button ${e.pathname==="/settings"?"active":""}`,onClick:()=>s("/settings"),children:[E.jsx("div",{className:"nav-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/settings.png",alt:"settings"})}),E.jsx("span",{children:"Settings"})]})]})},vL=()=>{const[s,e]=I.useState(!1),i=()=>{e(!1)};return s?E.jsx(XS,{onBack:i}):E.jsxs("div",{className:"home-container",children:[E.jsx("div",{className:"top-section",children:E.jsx(gL,{})}),E.jsxs("div",{className:"middle-section",children:[E.jsx(pL,{}),E.jsx(_L,{})]}),E.jsx("div",{className:"bottom-section",children:E.jsx(qp,{})})]})};function QS(s,e){const i=I.useRef(e);I.useEffect(function(){e!==i.current&&s.attributionControl!=null&&(i.current!=null&&s.attributionControl.removeAttribution(i.current),e!=null&&s.attributionControl.addAttribution(e)),i.current=e},[s,e])}const yL=1;function bL(s){return Object.freeze({__version:yL,map:s})}function SL(s,e){return Object.freeze({...s,...e})}const Zp=I.createContext(null);function Vp(){const s=I.use(Zp);if(s==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return s}function EL(s){function e(i,a){const{instance:c,context:h}=s(i).current;I.useImperativeHandle(a,()=>c);const{children:m}=i;return m==null?null:bm.createElement(Zp,{value:h},m)}return I.forwardRef(e)}function wL(s){function e(i,a){const[c,h]=I.useState(!1),{instance:m}=s(i,h).current;I.useImperativeHandle(a,()=>m),I.useEffect(function(){c&&m.update()},[m,c,i.children]);const v=m._contentNode;return v?XT.createPortal(i.children,v):null}return I.forwardRef(e)}function TL(s){function e(i,a){const{instance:c}=s(i).current;return I.useImperativeHandle(a,()=>c),null}return I.forwardRef(e)}function $S(s,e){const i=I.useRef(void 0);I.useEffect(function(){return e!=null&&s.instance.on(e),i.current=e,function(){i.current!=null&&s.instance.off(i.current),i.current=null}},[s,e])}function Gp(s,e){const i=s.pane??e.pane;return i?{...s,pane:i}:s}function CL(s,e){return function(a,c){const h=Vp(),m=s(Gp(a,h),h);return QS(h.map,a.attribution),$S(m.current,a.eventHandlers),e(m.current,h,a,c),m}}var Wl={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var xL=Wl.exports,u0;function NL(){return u0||(u0=1,function(s,e){(function(i,a){a(e)})(xL,function(i){var a="1.9.4";function c(r){var l,f,_,b;for(f=1,_=arguments.length;f<_;f++){b=arguments[f];for(l in b)r[l]=b[l]}return r}var h=Object.create||function(){function r(){}return function(l){return r.prototype=l,new r}}();function m(r,l){var f=Array.prototype.slice;if(r.bind)return r.bind.apply(r,f.call(arguments,1));var _=f.call(arguments,2);return function(){return r.apply(l,_.length?_.concat(f.call(arguments)):arguments)}}var v=0;function g(r){return"_leaflet_id"in r||(r._leaflet_id=++v),r._leaflet_id}function y(r,l,f){var _,b,w,R;return R=function(){_=!1,b&&(w.apply(f,b),b=!1)},w=function(){_?b=arguments:(r.apply(f,arguments),setTimeout(R,l),_=!0)},w}function C(r,l,f){var _=l[1],b=l[0],w=_-b;return r===_&&f?r:((r-b)%w+w)%w+b}function x(){return!1}function N(r,l){if(l===!1)return r;var f=Math.pow(10,l===void 0?6:l);return Math.round(r*f)/f}function D(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function k(r){return D(r).split(/\s+/)}function U(r,l){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?h(r.options):{});for(var f in l)r.options[f]=l[f];return r.options}function Y(r,l,f){var _=[];for(var b in r)_.push(encodeURIComponent(f?b.toUpperCase():b)+"="+encodeURIComponent(r[b]));return(!l||l.indexOf("?")===-1?"?":"&")+_.join("&")}var X=/\{ *([\w_ -]+) *\}/g;function ee(r,l){return r.replace(X,function(f,_){var b=l[_];if(b===void 0)throw new Error("No value provided for variable "+f);return typeof b=="function"&&(b=b(l)),b})}var $=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function ce(r,l){for(var f=0;f<r.length;f++)if(r[f]===l)return f;return-1}var re="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function De(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var _e=0;function xe(r){var l=+new Date,f=Math.max(0,16-(l-_e));return _e=l+f,window.setTimeout(r,f)}var ye=window.requestAnimationFrame||De("RequestAnimationFrame")||xe,et=window.cancelAnimationFrame||De("CancelAnimationFrame")||De("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function qe(r,l,f){if(f&&ye===xe)r.call(l);else return ye.call(window,m(r,l))}function Ze(r){r&&et.call(window,r)}var Fn={__proto__:null,extend:c,create:h,bind:m,get lastId(){return v},stamp:g,throttle:y,wrapNum:C,falseFn:x,formatNum:N,trim:D,splitWords:k,setOptions:U,getParamString:Y,template:ee,isArray:$,indexOf:ce,emptyImageUrl:re,requestFn:ye,cancelFn:et,requestAnimFrame:qe,cancelAnimFrame:Ze};function Dt(){}Dt.extend=function(r){var l=function(){U(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=l.__super__=this.prototype,_=h(f);_.constructor=l,l.prototype=_;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(l[b]=this[b]);return r.statics&&c(l,r.statics),r.includes&&(xt(r.includes),c.apply(null,[_].concat(r.includes))),c(_,r),delete _.statics,delete _.includes,_.options&&(_.options=f.options?h(f.options):{},c(_.options,r.options)),_._initHooks=[],_.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var w=0,R=_._initHooks.length;w<R;w++)_._initHooks[w].call(this)}},l},Dt.include=function(r){var l=this.prototype.options;return c(this.prototype,r),r.options&&(this.prototype.options=l,this.mergeOptions(r.options)),this},Dt.mergeOptions=function(r){return c(this.prototype.options,r),this},Dt.addInitHook=function(r){var l=Array.prototype.slice.call(arguments,1),f=typeof r=="function"?r:function(){this[r].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function xt(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=$(r)?r:[r];for(var l=0;l<r.length;l++)r[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Z={on:function(r,l,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],l);else{r=k(r);for(var b=0,w=r.length;b<w;b++)this._on(r[b],l,f)}return this},off:function(r,l,f){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var _ in r)this._off(_,r[_],l);else{r=k(r);for(var b=arguments.length===1,w=0,R=r.length;w<R;w++)b?this._off(r[w]):this._off(r[w],l,f)}return this},_on:function(r,l,f,_){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(r,l,f)===!1){f===this&&(f=void 0);var b={fn:l,ctx:f};_&&(b.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(b)}},_off:function(r,l,f){var _,b,w;if(this._events&&(_=this._events[r],!!_)){if(arguments.length===1){if(this._firingCount)for(b=0,w=_.length;b<w;b++)_[b].fn=x;delete this._events[r];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var R=this._listens(r,l,f);if(R!==!1){var z=_[R];this._firingCount&&(z.fn=x,this._events[r]=_=_.slice()),_.splice(R,1)}}},fire:function(r,l,f){if(!this.listens(r,f))return this;var _=c({},l,{type:r,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var b=this._events[r];if(b){this._firingCount=this._firingCount+1||1;for(var w=0,R=b.length;w<R;w++){var z=b[w],q=z.fn;z.once&&this.off(r,q,z.ctx),q.call(z.ctx||this,_)}this._firingCount--}}return f&&this._propagateEvent(_),this},listens:function(r,l,f,_){typeof r!="string"&&console.warn('"string" type argument expected');var b=l;typeof l!="function"&&(_=!!l,b=void 0,f=void 0);var w=this._events&&this._events[r];if(w&&w.length&&this._listens(r,b,f)!==!1)return!0;if(_){for(var R in this._eventParents)if(this._eventParents[R].listens(r,l,f,_))return!0}return!1},_listens:function(r,l,f){if(!this._events)return!1;var _=this._events[r]||[];if(!l)return!!_.length;f===this&&(f=void 0);for(var b=0,w=_.length;b<w;b++)if(_[b].fn===l&&_[b].ctx===f)return b;return!1},once:function(r,l,f){if(typeof r=="object")for(var _ in r)this._on(_,r[_],l,!0);else{r=k(r);for(var b=0,w=r.length;b<w;b++)this._on(r[b],l,f,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[g(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[g(r)],this},_propagateEvent:function(r){for(var l in this._eventParents)this._eventParents[l].fire(r.type,c({layer:r.target,propagatedFrom:r.target},r),!0)}};Z.addEventListener=Z.on,Z.removeEventListener=Z.clearAllEventListeners=Z.off,Z.addOneTimeEventListener=Z.once,Z.fireEvent=Z.fire,Z.hasEventListeners=Z.listens;var ae=Dt.extend(Z);function J(r,l,f){this.x=f?Math.round(r):r,this.y=f?Math.round(l):l}var Ve=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};J.prototype={clone:function(){return new J(this.x,this.y)},add:function(r){return this.clone()._add(A(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(A(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new J(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new J(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Ve(this.x),this.y=Ve(this.y),this},distanceTo:function(r){r=A(r);var l=r.x-this.x,f=r.y-this.y;return Math.sqrt(l*l+f*f)},equals:function(r){return r=A(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=A(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+N(this.x)+", "+N(this.y)+")"}};function A(r,l,f){return r instanceof J?r:$(r)?new J(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new J(r.x,r.y):new J(r,l,f)}function V(r,l){if(r)for(var f=l?[r,l]:r,_=0,b=f.length;_<b;_++)this.extend(f[_])}V.prototype={extend:function(r){var l,f;if(!r)return this;if(r instanceof J||typeof r[0]=="number"||"x"in r)l=f=A(r);else if(r=ie(r),l=r.min,f=r.max,!l||!f)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=f.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(r){return A((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return A(this.min.x,this.max.y)},getTopRight:function(){return A(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var l,f;return typeof r[0]=="number"||r instanceof J?r=A(r):r=ie(r),r instanceof V?(l=r.min,f=r.max):l=f=r,l.x>=this.min.x&&f.x<=this.max.x&&l.y>=this.min.y&&f.y<=this.max.y},intersects:function(r){r=ie(r);var l=this.min,f=this.max,_=r.min,b=r.max,w=b.x>=l.x&&_.x<=f.x,R=b.y>=l.y&&_.y<=f.y;return w&&R},overlaps:function(r){r=ie(r);var l=this.min,f=this.max,_=r.min,b=r.max,w=b.x>l.x&&_.x<f.x,R=b.y>l.y&&_.y<f.y;return w&&R},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var l=this.min,f=this.max,_=Math.abs(l.x-f.x)*r,b=Math.abs(l.y-f.y)*r;return ie(A(l.x-_,l.y-b),A(f.x+_,f.y+b))},equals:function(r){return r?(r=ie(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ie(r,l){return!r||r instanceof V?r:new V(r,l)}function te(r,l){if(r)for(var f=l?[r,l]:r,_=0,b=f.length;_<b;_++)this.extend(f[_])}te.prototype={extend:function(r){var l=this._southWest,f=this._northEast,_,b;if(r instanceof fe)_=r,b=r;else if(r instanceof te){if(_=r._southWest,b=r._northEast,!_||!b)return this}else return r?this.extend(se(r)||le(r)):this;return!l&&!f?(this._southWest=new fe(_.lat,_.lng),this._northEast=new fe(b.lat,b.lng)):(l.lat=Math.min(_.lat,l.lat),l.lng=Math.min(_.lng,l.lng),f.lat=Math.max(b.lat,f.lat),f.lng=Math.max(b.lng,f.lng)),this},pad:function(r){var l=this._southWest,f=this._northEast,_=Math.abs(l.lat-f.lat)*r,b=Math.abs(l.lng-f.lng)*r;return new te(new fe(l.lat-_,l.lng-b),new fe(f.lat+_,f.lng+b))},getCenter:function(){return new fe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new fe(this.getNorth(),this.getWest())},getSouthEast:function(){return new fe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof fe||"lat"in r?r=se(r):r=le(r);var l=this._southWest,f=this._northEast,_,b;return r instanceof te?(_=r.getSouthWest(),b=r.getNorthEast()):_=b=r,_.lat>=l.lat&&b.lat<=f.lat&&_.lng>=l.lng&&b.lng<=f.lng},intersects:function(r){r=le(r);var l=this._southWest,f=this._northEast,_=r.getSouthWest(),b=r.getNorthEast(),w=b.lat>=l.lat&&_.lat<=f.lat,R=b.lng>=l.lng&&_.lng<=f.lng;return w&&R},overlaps:function(r){r=le(r);var l=this._southWest,f=this._northEast,_=r.getSouthWest(),b=r.getNorthEast(),w=b.lat>l.lat&&_.lat<f.lat,R=b.lng>l.lng&&_.lng<f.lng;return w&&R},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,l){return r?(r=le(r),this._southWest.equals(r.getSouthWest(),l)&&this._northEast.equals(r.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function le(r,l){return r instanceof te?r:new te(r,l)}function fe(r,l,f){if(isNaN(r)||isNaN(l))throw new Error("Invalid LatLng object: ("+r+", "+l+")");this.lat=+r,this.lng=+l,f!==void 0&&(this.alt=+f)}fe.prototype={equals:function(r,l){if(!r)return!1;r=se(r);var f=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return f<=(l===void 0?1e-9:l)},toString:function(r){return"LatLng("+N(this.lat,r)+", "+N(this.lng,r)+")"},distanceTo:function(r){return je.distance(this,se(r))},wrap:function(){return je.wrapLatLng(this)},toBounds:function(r){var l=180*r/40075017,f=l/Math.cos(Math.PI/180*this.lat);return le([this.lat-l,this.lng-f],[this.lat+l,this.lng+f])},clone:function(){return new fe(this.lat,this.lng,this.alt)}};function se(r,l,f){return r instanceof fe?r:$(r)&&typeof r[0]!="object"?r.length===3?new fe(r[0],r[1],r[2]):r.length===2?new fe(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new fe(r.lat,"lng"in r?r.lng:r.lon,r.alt):l===void 0?null:new fe(r,l,f)}var ct={latLngToPoint:function(r,l){var f=this.projection.project(r),_=this.scale(l);return this.transformation._transform(f,_)},pointToLatLng:function(r,l){var f=this.scale(l),_=this.transformation.untransform(r,f);return this.projection.unproject(_)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var l=this.projection.bounds,f=this.scale(r),_=this.transformation.transform(l.min,f),b=this.transformation.transform(l.max,f);return new V(_,b)},infinite:!1,wrapLatLng:function(r){var l=this.wrapLng?C(r.lng,this.wrapLng,!0):r.lng,f=this.wrapLat?C(r.lat,this.wrapLat,!0):r.lat,_=r.alt;return new fe(f,l,_)},wrapLatLngBounds:function(r){var l=r.getCenter(),f=this.wrapLatLng(l),_=l.lat-f.lat,b=l.lng-f.lng;if(_===0&&b===0)return r;var w=r.getSouthWest(),R=r.getNorthEast(),z=new fe(w.lat-_,w.lng-b),q=new fe(R.lat-_,R.lng-b);return new te(z,q)}},je=c({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(r,l){var f=Math.PI/180,_=r.lat*f,b=l.lat*f,w=Math.sin((l.lat-r.lat)*f/2),R=Math.sin((l.lng-r.lng)*f/2),z=w*w+Math.cos(_)*Math.cos(b)*R*R,q=2*Math.atan2(Math.sqrt(z),Math.sqrt(1-z));return this.R*q}}),qn=6378137,Cr={R:qn,MAX_LATITUDE:85.0511287798,project:function(r){var l=Math.PI/180,f=this.MAX_LATITUDE,_=Math.max(Math.min(f,r.lat),-f),b=Math.sin(_*l);return new J(this.R*r.lng*l,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(r){var l=180/Math.PI;return new fe((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*l,r.x*l/this.R)},bounds:function(){var r=qn*Math.PI;return new V([-r,-r],[r,r])}()};function gs(r,l,f,_){if($(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=l,this._c=f,this._d=_}gs.prototype={transform:function(r,l){return this._transform(r.clone(),l)},_transform:function(r,l){return l=l||1,r.x=l*(this._a*r.x+this._b),r.y=l*(this._c*r.y+this._d),r},untransform:function(r,l){return l=l||1,new J((r.x/l-this._b)/this._a,(r.y/l-this._d)/this._c)}};function Ci(r,l,f,_){return new gs(r,l,f,_)}var xr=c({},je,{code:"EPSG:3857",projection:Cr,transformation:function(){var r=.5/(Math.PI*Cr.R);return Ci(r,.5,-r,.5)}()}),Mo=c({},xr,{code:"EPSG:900913"});function Ru(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function Ou(r,l){var f="",_,b,w,R,z,q;for(_=0,w=r.length;_<w;_++){for(z=r[_],b=0,R=z.length;b<R;b++)q=z[b],f+=(b?"L":"M")+q.x+" "+q.y;f+=l?me.svg?"z":"x":""}return f||"M0 0"}var on=document.documentElement.style,pa="ActiveXObject"in window,Lu=pa&&!document.addEventListener,Io="msLaunchUri"in navigator&&!("documentMode"in document),vs=ln("webkit"),Mu=ln("android"),ko=ln("android 2")||ln("android 3"),ef=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),tf=Mu&&ln("Google")&&ef<537&&!("AudioNode"in window),xi=!!window.opera,qt=!Io&&ln("chrome"),Zn=ln("gecko")&&!vs&&!xi&&!pa,Xt=!qt&&ln("safari"),Iu=ln("phantom"),ku="OTransition"in on,nf=navigator.platform.indexOf("Win")===0,Nr=pa&&"transition"in on,ys="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ko,li="MozPerspective"in on,_a=!window.L_DISABLE_3D&&(Nr||ys||li)&&!ku&&!Iu,Vn=typeof orientation<"u"||ln("mobile"),sf=Vn&&vs,Du=Vn&&ys,Do=!window.PointerEvent&&window.MSPointerEvent,ga=!!(window.PointerEvent||Do),bs="ontouchstart"in window||!!window.TouchEvent,rf=!window.L_NO_TOUCH&&(bs||ga),Pu=Vn&&xi,zu=Vn&&Zn,Po=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,zo=function(){var r=!1;try{var l=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",x,l),window.removeEventListener("testPassiveEventSupport",x,l)}catch{}return r}(),Uu=function(){return!!document.createElement("canvas").getContext}(),Uo=!!(document.createElementNS&&Ru("svg").createSVGRect),ui=!!Uo&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Nt=!Uo&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var l=r.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Zt=navigator.platform.indexOf("Mac")===0,Ss=navigator.platform.indexOf("Linux")===0;function ln(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var me={ie:pa,ielt9:Lu,edge:Io,webkit:vs,android:Mu,android23:ko,androidStock:tf,opera:xi,chrome:qt,gecko:Zn,safari:Xt,phantom:Iu,opera12:ku,win:nf,ie3d:Nr,webkit3d:ys,gecko3d:li,any3d:_a,mobile:Vn,mobileWebkit:sf,mobileWebkit3d:Du,msPointer:Do,pointer:ga,touch:rf,touchNative:bs,mobileOpera:Pu,mobileGecko:zu,retina:Po,passiveEvents:zo,canvas:Uu,svg:Uo,vml:Nt,inlineSvg:ui,mac:Zt,linux:Ss},ju=me.msPointer?"MSPointerDown":"pointerdown",jo=me.msPointer?"MSPointerMove":"pointermove",Es=me.msPointer?"MSPointerUp":"pointerup",va=me.msPointer?"MSPointerCancel":"pointercancel",ci={touchstart:ju,touchmove:jo,touchend:Es,touchcancel:va},Ni={touchstart:Fu,touchmove:Ar,touchend:Ar,touchcancel:Ar},On={},Ai=!1;function yt(r,l,f){return l==="touchstart"&&af(),Ni[l]?(f=Ni[l].bind(this,f),r.addEventListener(ci[l],f,!1),f):(console.warn("wrong event specified:",l),x)}function Bu(r,l,f){if(!ci[l]){console.warn("wrong event specified:",l);return}r.removeEventListener(ci[l],f,!1)}function Hu(r){On[r.pointerId]=r}function Ri(r){On[r.pointerId]&&(On[r.pointerId]=r)}function Oi(r){delete On[r.pointerId]}function af(){Ai||(document.addEventListener(ju,Hu,!0),document.addEventListener(jo,Ri,!0),document.addEventListener(Es,Oi,!0),document.addEventListener(va,Oi,!0),Ai=!0)}function Ar(r,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var f in On)l.touches.push(On[f]);l.changedTouches=[l],r(l)}}function Fu(r,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&mt(l),Ar(r,l)}function of(r){var l={},f,_;for(_ in r)f=r[_],l[_]=f&&f.bind?f.bind(r):f;return r=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var ya=200;function ba(r,l){r.addEventListener("dblclick",l);var f=0,_;function b(w){if(w.detail!==1){_=w.detail;return}if(!(w.pointerType==="mouse"||w.sourceCapabilities&&!w.sourceCapabilities.firesTouchEvents)){var R=Fo(w);if(!(R.some(function(q){return q instanceof HTMLLabelElement&&q.attributes.for})&&!R.some(function(q){return q instanceof HTMLInputElement||q instanceof HTMLSelectElement}))){var z=Date.now();z-f<=ya?(_++,_===2&&l(of(w))):_=1,f=z}}}return r.addEventListener("click",b),{dblclick:l,simDblclick:b}}function Gn(r,l){r.removeEventListener("dblclick",l.dblclick),r.removeEventListener("click",l.simDblclick)}var Rr=xs(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ws=xs(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Li=ws==="webkitTransition"||ws==="OTransition"?ws+"End":"transitionend";function Sa(r){return typeof r=="string"?document.getElementById(r):r}function Mi(r,l){var f=r.style[l]||r.currentStyle&&r.currentStyle[l];if((!f||f==="auto")&&document.defaultView){var _=document.defaultView.getComputedStyle(r,null);f=_?_[l]:null}return f==="auto"?null:f}function ze(r,l,f){var _=document.createElement(r);return _.className=l||"",f&&f.appendChild(_),_}function tt(r){var l=r.parentNode;l&&l.removeChild(r)}function Pt(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function Ii(r){var l=r.parentNode;l&&l.lastChild!==r&&l.appendChild(r)}function Ts(r){var l=r.parentNode;l&&l.firstChild!==r&&l.insertBefore(r,l.firstChild)}function Cs(r,l){if(r.classList!==void 0)return r.classList.contains(l);var f=zt(r);return f.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(f)}function Ce(r,l){if(r.classList!==void 0)for(var f=k(l),_=0,b=f.length;_<b;_++)r.classList.add(f[_]);else if(!Cs(r,l)){var w=zt(r);Bo(r,(w?w+" ":"")+l)}}function nt(r,l){r.classList!==void 0?r.classList.remove(l):Bo(r,D((" "+zt(r)+" ").replace(" "+l+" "," ")))}function Bo(r,l){r.className.baseVal===void 0?r.className=l:r.className.baseVal=l}function zt(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Vt(r,l){"opacity"in r.style?r.style.opacity=l:"filter"in r.style&&qu(r,l)}function qu(r,l){var f=!1,_="DXImageTransform.Microsoft.Alpha";try{f=r.filters.item(_)}catch{if(l===1)return}l=Math.round(l*100),f?(f.Enabled=l!==100,f.Opacity=l):r.style.filter+=" progid:"+_+"(opacity="+l+")"}function xs(r){for(var l=document.documentElement.style,f=0;f<r.length;f++)if(r[f]in l)return r[f];return!1}function un(r,l,f){var _=l||new J(0,0);r.style[Rr]=(me.ie3d?"translate("+_.x+"px,"+_.y+"px)":"translate3d("+_.x+"px,"+_.y+"px,0)")+(f?" scale("+f+")":"")}function ht(r,l){r._leaflet_pos=l,me.any3d?un(r,l):(r.style.left=l.x+"px",r.style.top=l.y+"px")}function hi(r){return r._leaflet_pos||new J(0,0)}var Ln,Or,Ea;if("onselectstart"in document)Ln=function(){Te(window,"selectstart",mt)},Or=function(){Be(window,"selectstart",mt)};else{var Ns=xs(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ln=function(){if(Ns){var r=document.documentElement.style;Ea=r[Ns],r[Ns]="none"}},Or=function(){Ns&&(document.documentElement.style[Ns]=Ea,Ea=void 0)}}function Lr(){Te(window,"dragstart",mt)}function Ho(){Be(window,"dragstart",mt)}var wa,As;function Mr(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Rs(),wa=r,As=r.style.outlineStyle,r.style.outlineStyle="none",Te(window,"keydown",Rs))}function Rs(){wa&&(wa.style.outlineStyle=As,wa=void 0,As=void 0,Be(window,"keydown",Rs))}function ki(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function fi(r){var l=r.getBoundingClientRect();return{x:l.width/r.offsetWidth||1,y:l.height/r.offsetHeight||1,boundingClientRect:l}}var Zu={__proto__:null,TRANSFORM:Rr,TRANSITION:ws,TRANSITION_END:Li,get:Sa,getStyle:Mi,create:ze,remove:tt,empty:Pt,toFront:Ii,toBack:Ts,hasClass:Cs,addClass:Ce,removeClass:nt,setClass:Bo,getClass:zt,setOpacity:Vt,testProp:xs,setTransform:un,setPosition:ht,getPosition:hi,get disableTextSelection(){return Ln},get enableTextSelection(){return Or},disableImageDrag:Lr,enableImageDrag:Ho,preventOutline:Mr,restoreOutline:Rs,getSizedParentNode:ki,getScale:fi};function Te(r,l,f,_){if(l&&typeof l=="object")for(var b in l)Di(r,b,l[b],f);else{l=k(l);for(var w=0,R=l.length;w<R;w++)Di(r,l[w],f,_)}return this}var _n="_leaflet_events";function Be(r,l,f,_){if(arguments.length===1)Mn(r),delete r[_n];else if(l&&typeof l=="object")for(var b in l)In(r,b,l[b],f);else if(l=k(l),arguments.length===2)Mn(r,function(z){return ce(l,z)!==-1});else for(var w=0,R=l.length;w<R;w++)In(r,l[w],f,_);return this}function Mn(r,l){for(var f in r[_n]){var _=f.split(/\d/)[0];(!l||l(_))&&In(r,_,null,null,f)}}var Ir={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Di(r,l,f,_){var b=l+g(f)+(_?"_"+g(_):"");if(r[_n]&&r[_n][b])return this;var w=function(z){return f.call(_||r,z||window.event)},R=w;!me.touchNative&&me.pointer&&l.indexOf("touch")===0?w=yt(r,l,w):me.touch&&l==="dblclick"?w=ba(r,w):"addEventListener"in r?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?r.addEventListener(Ir[l]||l,w,me.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(w=function(z){z=z||window.event,zi(r,z)&&R(z)},r.addEventListener(Ir[l],w,!1)):r.addEventListener(l,R,!1):r.attachEvent("on"+l,w),r[_n]=r[_n]||{},r[_n][b]=w}function In(r,l,f,_,b){b=b||l+g(f)+(_?"_"+g(_):"");var w=r[_n]&&r[_n][b];if(!w)return this;!me.touchNative&&me.pointer&&l.indexOf("touch")===0?Bu(r,l,w):me.touch&&l==="dblclick"?Gn(r,w):"removeEventListener"in r?r.removeEventListener(Ir[l]||l,w,!1):r.detachEvent("on"+l,w),r[_n][b]=null}function Yn(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Os(r){return Di(r,"wheel",Yn),this}function Ls(r){return Te(r,"mousedown touchstart dblclick contextmenu",Yn),r._leaflet_disable_click=!0,this}function mt(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function kn(r){return mt(r),Yn(r),this}function Fo(r){if(r.composedPath)return r.composedPath();for(var l=[],f=r.target;f;)l.push(f),f=f.parentNode;return l}function Ut(r,l){if(!l)return new J(r.clientX,r.clientY);var f=fi(l),_=f.boundingClientRect;return new J((r.clientX-_.left)/f.x-l.clientLeft,(r.clientY-_.top)/f.y-l.clientTop)}var Pi=me.linux&&me.chrome?window.devicePixelRatio:me.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function kr(r){return me.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/Pi:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function zi(r,l){var f=l.relatedTarget;if(!f)return!0;try{for(;f&&f!==r;)f=f.parentNode}catch{return!1}return f!==r}var lf={__proto__:null,on:Te,off:Be,stopPropagation:Yn,disableScrollPropagation:Os,disableClickPropagation:Ls,preventDefault:mt,stop:kn,getPropagationPath:Fo,getMousePosition:Ut,getWheelDelta:kr,isExternalTarget:zi,addListener:Te,removeListener:Be},Ta=ae.extend({run:function(r,l,f,_){this.stop(),this._el=r,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(_||.5,.2),this._startPos=hi(r),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=qe(this._animate,this),this._step()},_step:function(r){var l=+new Date-this._startTime,f=this._duration*1e3;l<f?this._runFrame(this._easeOut(l/f),r):(this._runFrame(1),this._complete())},_runFrame:function(r,l){var f=this._startPos.add(this._offset.multiplyBy(r));l&&f._round(),ht(this._el,f),this.fire("step")},_complete:function(){Ze(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),Re=ae.extend({options:{crs:xr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,l){l=U(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=m(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(se(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ws&&me.any3d&&!me.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Te(this._proxy,Li,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,l,f){if(l=l===void 0?this._zoom:this._limitZoom(l),r=this._limitCenter(se(r),l,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=c({animate:f.animate},f.zoom),f.pan=c({animate:f.animate,duration:f.duration},f.pan));var _=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,l,f.zoom):this._tryAnimatedPan(r,f.pan);if(_)return clearTimeout(this._sizeTimer),this}return this._resetView(r,l,f.pan&&f.pan.noMoveStart),this},setZoom:function(r,l){return this._loaded?this.setView(this.getCenter(),r,{zoom:l}):(this._zoom=r,this)},zoomIn:function(r,l){return r=r||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,l)},zoomOut:function(r,l){return r=r||(me.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,l)},setZoomAround:function(r,l,f){var _=this.getZoomScale(l),b=this.getSize().divideBy(2),w=r instanceof J?r:this.latLngToContainerPoint(r),R=w.subtract(b).multiplyBy(1-1/_),z=this.containerPointToLatLng(b.add(R));return this.setView(z,l,{zoom:f})},_getBoundsCenterZoom:function(r,l){l=l||{},r=r.getBounds?r.getBounds():le(r);var f=A(l.paddingTopLeft||l.padding||[0,0]),_=A(l.paddingBottomRight||l.padding||[0,0]),b=this.getBoundsZoom(r,!1,f.add(_));if(b=typeof l.maxZoom=="number"?Math.min(l.maxZoom,b):b,b===1/0)return{center:r.getCenter(),zoom:b};var w=_.subtract(f).divideBy(2),R=this.project(r.getSouthWest(),b),z=this.project(r.getNorthEast(),b),q=this.unproject(R.add(z).divideBy(2).add(w),b);return{center:q,zoom:b}},fitBounds:function(r,l){if(r=le(r),!r.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(r,l);return this.setView(f.center,f.zoom,l)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,l){return this.setView(r,this._zoom,{pan:l})},panBy:function(r,l){if(r=A(r).round(),l=l||{},!r.x&&!r.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ta,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,f,l.duration||.25,l.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,l,f){if(f=f||{},f.animate===!1||!me.any3d)return this.setView(r,l,f);this._stop();var _=this.project(this.getCenter()),b=this.project(r),w=this.getSize(),R=this._zoom;r=se(r),l=l===void 0?R:l;var z=Math.max(w.x,w.y),q=z*this.getZoomScale(R,l),Q=b.distanceTo(_)||1,oe=1.42,ue=oe*oe;function de(ot){var zn=ot?-1:1,Xn=ot?q:z,gi=q*q-z*z+zn*ue*ue*Q*Q,Qn=2*Xn*ue*Q,Yr=gi/Qn,za=Math.sqrt(Yr*Yr+1)-Yr,Wr=za<1e-9?-18:Math.log(za);return Wr}function we(ot){return(Math.exp(ot)-Math.exp(-ot))/2}function it(ot){return(Math.exp(ot)+Math.exp(-ot))/2}function ft(ot){return we(ot)/it(ot)}var Rt=de(0);function cn(ot){return z*(it(Rt)/it(Rt+oe*ot))}function uc(ot){return z*(it(Rt)*ft(Rt+oe*ot)-we(Rt))/ue}function cc(ot){return 1-Math.pow(1-ot,1.5)}var Gr=Date.now(),qs=(de(1)-Rt)/oe,hc=f.duration?1e3*f.duration:1e3*qs*.8;function Zs(){var ot=(Date.now()-Gr)/hc,zn=cc(ot)*qs;ot<=1?(this._flyToFrame=qe(Zs,this),this._move(this.unproject(_.add(b.subtract(_).multiplyBy(uc(zn)/Q)),R),this.getScaleZoom(z/cn(zn),R),{flyTo:!0})):this._move(r,l)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),Zs.call(this),this},flyToBounds:function(r,l){var f=this._getBoundsCenterZoom(r,l);return this.flyTo(f.center,f.zoom,l)},setMaxBounds:function(r){return r=le(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var l=this.options.minZoom;return this.options.minZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var l=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&l!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,l){this._enforcingBounds=!0;var f=this.getCenter(),_=this._limitCenter(f,this._zoom,le(r));return f.equals(_)||this.panTo(_,l),this._enforcingBounds=!1,this},panInside:function(r,l){l=l||{};var f=A(l.paddingTopLeft||l.padding||[0,0]),_=A(l.paddingBottomRight||l.padding||[0,0]),b=this.project(this.getCenter()),w=this.project(r),R=this.getPixelBounds(),z=ie([R.min.add(f),R.max.subtract(_)]),q=z.getSize();if(!z.contains(w)){this._enforcingBounds=!0;var Q=w.subtract(z.getCenter()),oe=z.extend(w).getSize().subtract(q);b.x+=Q.x<0?-oe.x:oe.x,b.y+=Q.y<0?-oe.y:oe.y,this.panTo(this.unproject(b),l),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=c({animate:!1,pan:!0},r===!0?{animate:!0}:r);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),_=l.divideBy(2).round(),b=f.divideBy(2).round(),w=_.subtract(b);return!w.x&&!w.y?this:(r.animate&&r.pan?this.panBy(w):(r.pan&&this._rawPanBy(w),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(m(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=c({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=m(this._handleGeolocationResponse,this),f=m(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,f,r):navigator.geolocation.getCurrentPosition(l,f,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var l=r.code,f=r.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var l=r.coords.latitude,f=r.coords.longitude,_=new fe(l,f),b=_.toBounds(r.coords.accuracy*2),w=this._locateOptions;if(w.setView){var R=this.getBoundsZoom(b);this.setView(_,w.maxZoom?Math.min(R,w.maxZoom):R)}var z={latlng:_,bounds:b,timestamp:r.timestamp};for(var q in r.coords)typeof r.coords[q]=="number"&&(z[q]=r.coords[q]);this.fire("locationfound",z)}},addHandler:function(r,l){if(!l)return this;var f=this[r]=new l(this);return this._handlers.push(f),this.options[r]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ze(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)tt(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,l){var f="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),_=ze("div",f,l||this._mapPane);return r&&(this._panes[r]=_),_},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),l=this.unproject(r.getBottomLeft()),f=this.unproject(r.getTopRight());return new te(l,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,l,f){r=le(r),f=A(f||[0,0]);var _=this.getZoom()||0,b=this.getMinZoom(),w=this.getMaxZoom(),R=r.getNorthWest(),z=r.getSouthEast(),q=this.getSize().subtract(f),Q=ie(this.project(z,_),this.project(R,_)).getSize(),oe=me.any3d?this.options.zoomSnap:1,ue=q.x/Q.x,de=q.y/Q.y,we=l?Math.max(ue,de):Math.min(ue,de);return _=this.getScaleZoom(we,_),oe&&(_=Math.round(_/(oe/100))*(oe/100),_=l?Math.ceil(_/oe)*oe:Math.floor(_/oe)*oe),Math.max(b,Math.min(w,_))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new J(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,l){var f=this._getTopLeftPoint(r,l);return new V(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,l){var f=this.options.crs;return l=l===void 0?this._zoom:l,f.scale(r)/f.scale(l)},getScaleZoom:function(r,l){var f=this.options.crs;l=l===void 0?this._zoom:l;var _=f.zoom(r*f.scale(l));return isNaN(_)?1/0:_},project:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(se(r),l)},unproject:function(r,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(A(r),l)},layerPointToLatLng:function(r){var l=A(r).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(r){var l=this.project(se(r))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(se(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(le(r))},distance:function(r,l){return this.options.crs.distance(se(r),se(l))},containerPointToLayerPoint:function(r){return A(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return A(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var l=this.containerPointToLayerPoint(A(r));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(se(r)))},mouseEventToContainerPoint:function(r){return Ut(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var l=this._container=Sa(r);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Te(l,"scroll",this._onScroll,this),this._containerId=g(l)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&me.any3d,Ce(r,"leaflet-container"+(me.touch?" leaflet-touch":"")+(me.retina?" leaflet-retina":"")+(me.ielt9?" leaflet-oldie":"")+(me.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=Mi(r,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ht(this._mapPane,new J(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(r.markerPane,"leaflet-zoom-hide"),Ce(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,l,f){ht(this._mapPane,new J(0,0));var _=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var b=this._zoom!==l;this._moveStart(b,f)._move(r,l)._moveEnd(b),this.fire("viewreset"),_&&this.fire("load")},_moveStart:function(r,l){return r&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(r,l,f,_){l===void 0&&(l=this._zoom);var b=this._zoom!==l;return this._zoom=l,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),_?f&&f.pinch&&this.fire("zoom",f):((b||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ze(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){ht(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[g(this._container)]=this;var l=r?Be:Te;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),me.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ze(this._resizeRequest),this._resizeRequest=qe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,l){for(var f=[],_,b=l==="mouseout"||l==="mouseover",w=r.target||r.srcElement,R=!1;w;){if(_=this._targets[g(w)],_&&(l==="click"||l==="preclick")&&this._draggableMoved(_)){R=!0;break}if(_&&_.listens(l,!0)&&(b&&!zi(w,r)||(f.push(_),b))||w===this._container)break;w=w.parentNode}return!f.length&&!R&&!b&&this.listens(l,!0)&&(f=[this]),f},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var l=r.target||r.srcElement;if(!(!this._loaded||l._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(l))){var f=r.type;f==="mousedown"&&Mr(l),this._fireDOMEvent(r,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,l,f){if(r.type==="click"){var _=c({},r);_.type="preclick",this._fireDOMEvent(_,_.type,f)}var b=this._findEventTargets(r,l);if(f){for(var w=[],R=0;R<f.length;R++)f[R].listens(l,!0)&&w.push(f[R]);b=w.concat(b)}if(b.length){l==="contextmenu"&&mt(r);var z=b[0],q={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var Q=z.getLatLng&&(!z._radius||z._radius<=10);q.containerPoint=Q?this.latLngToContainerPoint(z.getLatLng()):this.mouseEventToContainerPoint(r),q.layerPoint=this.containerPointToLayerPoint(q.containerPoint),q.latlng=Q?z.getLatLng():this.layerPointToLatLng(q.layerPoint)}for(R=0;R<b.length;R++)if(b[R].fire(l,q,!0),q.originalEvent._stopped||b[R].options.bubblingMouseEvents===!1&&ce(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,l=this._handlers.length;r<l;r++)this._handlers[r].disable()},whenReady:function(r,l){return this._loaded?r.call(l||this,{target:this}):this.on("load",r,l),this},_getMapPanePos:function(){return hi(this._mapPane)||new J(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,l){var f=r&&l!==void 0?this._getNewPixelOrigin(r,l):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,l){var f=this.getSize()._divideBy(2);return this.project(r,l)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,l,f){var _=this._getNewPixelOrigin(f,l);return this.project(r,l)._subtract(_)},_latLngBoundsToNewLayerBounds:function(r,l,f){var _=this._getNewPixelOrigin(f,l);return ie([this.project(r.getSouthWest(),l)._subtract(_),this.project(r.getNorthWest(),l)._subtract(_),this.project(r.getSouthEast(),l)._subtract(_),this.project(r.getNorthEast(),l)._subtract(_)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,l,f){if(!f)return r;var _=this.project(r,l),b=this.getSize().divideBy(2),w=new V(_.subtract(b),_.add(b)),R=this._getBoundsOffset(w,f,l);return Math.abs(R.x)<=1&&Math.abs(R.y)<=1?r:this.unproject(_.add(R),l)},_limitOffset:function(r,l){if(!l)return r;var f=this.getPixelBounds(),_=new V(f.min.add(r),f.max.add(r));return r.add(this._getBoundsOffset(_,l))},_getBoundsOffset:function(r,l,f){var _=ie(this.project(l.getNorthEast(),f),this.project(l.getSouthWest(),f)),b=_.min.subtract(r.min),w=_.max.subtract(r.max),R=this._rebound(b.x,-w.x),z=this._rebound(b.y,-w.y);return new J(R,z)},_rebound:function(r,l){return r+l>0?Math.round(r-l)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(l))},_limitZoom:function(r){var l=this.getMinZoom(),f=this.getMaxZoom(),_=me.any3d?this.options.zoomSnap:1;return _&&(r=Math.round(r/_)*_),Math.max(l,Math.min(f,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,l){var f=this._getCenterOffset(r)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,l),!0)},_createAnimProxy:function(){var r=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(l){var f=Rr,_=this._proxy.style[f];un(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),_===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),l=this.getZoom();un(this._proxy,this.project(r,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,l,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _=this.getZoomScale(l),b=this._getCenterOffset(r)._divideBy(1-1/_);return f.animate!==!0&&!this.getSize().contains(b)?!1:(qe(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(r,l,!0)},this),!0)},_animateZoom:function(r,l,f,_){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=l,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:l,noUpdate:_}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(m(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Dr(r,l){return new Re(r,l)}var Gt=Dt.extend({options:{position:"topright"},initialize:function(r){U(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var l=this._map;return l&&l.removeControl(this),this.options.position=r,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var l=this._container=this.onAdd(r),f=this.getPosition(),_=r._controlCorners[f];return Ce(l,"leaflet-control"),f.indexOf("bottom")!==-1?_.insertBefore(l,_.firstChild):_.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),Ms=function(r){return new Gt(r)};Re.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},l="leaflet-",f=this._controlContainer=ze("div",l+"control-container",this._container);function _(b,w){var R=l+b+" "+l+w;r[b+w]=ze("div",R,f)}_("top","left"),_("top","right"),_("bottom","left"),_("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)tt(this._controlCorners[r]);tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Vu=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,l,f,_){return f<_?-1:_<f?1:0}},initialize:function(r,l,f){U(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var _ in r)this._addLayer(r[_],_);for(_ in l)this._addLayer(l[_],_,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Gt.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,l){return this._addLayer(r,l),this._map?this._update():this},addOverlay:function(r,l){return this._addLayer(r,l,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var l=this._getLayer(g(r));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",l=this._container=ze("div",r),f=this.options.collapsed;l.setAttribute("aria-haspopup",!0),Ls(l),Os(l);var _=this._section=ze("section",r+"-list");f&&(this._map.on("click",this.collapse,this),Te(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=ze("a",r+"-toggle",l);b.href="#",b.title="Layers",b.setAttribute("role","button"),Te(b,{keydown:function(w){w.keyCode===13&&this._expandSafely()},click:function(w){mt(w),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=ze("div",r+"-base",_),this._separator=ze("div",r+"-separator",_),this._overlaysList=ze("div",r+"-overlays",_),l.appendChild(_)},_getLayer:function(r){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&g(this._layers[l].layer)===r)return this._layers[l]},_addLayer:function(r,l,f){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:l,overlay:f}),this.options.sortLayers&&this._layers.sort(m(function(_,b){return this.options.sortFunction(_.layer,b.layer,_.name,b.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Pt(this._baseLayersList),Pt(this._overlaysList),this._layerControlInputs=[];var r,l,f,_,b=0;for(f=0;f<this._layers.length;f++)_=this._layers[f],this._addItem(_),l=l||_.overlay,r=r||!_.overlay,b+=_.overlay?0:1;return this.options.hideSingleBase&&(r=r&&b>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=l&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var l=this._getLayer(g(r.target)),f=l.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;f&&this._map.fire(f,l)},_createRadioElement:function(r,l){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(l?' checked="checked"':"")+"/>",_=document.createElement("div");return _.innerHTML=f,_.firstChild},_addItem:function(r){var l=document.createElement("label"),f=this._map.hasLayer(r.layer),_;r.overlay?(_=document.createElement("input"),_.type="checkbox",_.className="leaflet-control-layers-selector",_.defaultChecked=f):_=this._createRadioElement("leaflet-base-layers_"+g(this),f),this._layerControlInputs.push(_),_.layerId=g(r.layer),Te(_,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+r.name;var w=document.createElement("span");l.appendChild(w),w.appendChild(_),w.appendChild(b);var R=r.overlay?this._overlaysList:this._baseLayersList;return R.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,l,f,_=[],b=[];this._handlingClick=!0;for(var w=r.length-1;w>=0;w--)l=r[w],f=this._getLayer(l.layerId).layer,l.checked?_.push(f):l.checked||b.push(f);for(w=0;w<b.length;w++)this._map.hasLayer(b[w])&&this._map.removeLayer(b[w]);for(w=0;w<_.length;w++)this._map.hasLayer(_[w])||this._map.addLayer(_[w]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,l,f,_=this._map.getZoom(),b=r.length-1;b>=0;b--)l=r[b],f=this._getLayer(l.layerId).layer,l.disabled=f.options.minZoom!==void 0&&_<f.options.minZoom||f.options.maxZoom!==void 0&&_>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,Te(r,"click",mt),this.expand();var l=this;setTimeout(function(){Be(r,"click",mt),l._preventClick=!1})}}),uf=function(r,l,f){return new Vu(r,l,f)},qo=Gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var l="leaflet-control-zoom",f=ze("div",l+" leaflet-bar"),_=this.options;return this._zoomInButton=this._createButton(_.zoomInText,_.zoomInTitle,l+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(_.zoomOutText,_.zoomOutTitle,l+"-out",f,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,l,f,_,b){var w=ze("a",f,_);return w.innerHTML=r,w.href="#",w.title=l,w.setAttribute("role","button"),w.setAttribute("aria-label",l),Ls(w),Te(w,"click",kn),Te(w,"click",b,this),Te(w,"click",this._refocusOnMap,this),w},_updateDisabled:function(){var r=this._map,l="leaflet-disabled";nt(this._zoomInButton,l),nt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Ce(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Ce(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Re.mergeOptions({zoomControl:!0}),Re.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new qo,this.addControl(this.zoomControl))});var Zo=function(r){return new qo(r)},Gu=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var l="leaflet-control-scale",f=ze("div",l),_=this.options;return this._addScales(_,l+"-line",f),r.on(_.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),f},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,l,f){r.metric&&(this._mScale=ze("div",l,f)),r.imperial&&(this._iScale=ze("div",l,f))},_update:function(){var r=this._map,l=r.getSize().y/2,f=r.distance(r.containerPointToLatLng([0,l]),r.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(f)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var l=this._getRoundNum(r),f=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,f,l/r)},_updateImperial:function(r){var l=r*3.2808399,f,_,b;l>5280?(f=l/5280,_=this._getRoundNum(f),this._updateScale(this._iScale,_+" mi",_/f)):(b=this._getRoundNum(l),this._updateScale(this._iScale,b+" ft",b/l))},_updateScale:function(r,l,f){r.style.width=Math.round(this.options.maxWidth*f)+"px",r.innerHTML=l},_getRoundNum:function(r){var l=Math.pow(10,(Math.floor(r)+"").length-1),f=r/l;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,l*f}}),cf=function(r){return new Gu(r)},hf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Vo=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(me.inlineSvg?hf+" ":"")+"Leaflet</a>"},initialize:function(r){U(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),Ls(this._container);for(var l in r._layers)r._layers[l].getAttribution&&this.addAttribution(r._layers[l].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var l in this._attributions)this._attributions[l]&&r.push(l);var f=[];this.options.prefix&&f.push(this.options.prefix),r.length&&f.push(r.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});Re.mergeOptions({attributionControl:!0}),Re.addInitHook(function(){this.options.attributionControl&&new Vo().addTo(this)});var ff=function(r){return new Vo(r)};Gt.Layers=Vu,Gt.Zoom=qo,Gt.Scale=Gu,Gt.Attribution=Vo,Ms.layers=uf,Ms.zoom=Zo,Ms.scale=cf,Ms.attribution=ff;var gn=Dt.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(r,l){return r.addHandler(l,this),this};var df={Events:Z},Yu=me.touch?"touchstart mousedown":"mousedown",di=ae.extend({options:{clickTolerance:3},initialize:function(r,l,f,_){U(this,_),this._element=r,this._dragStartTarget=l||r,this._preventOutline=f},enable:function(){this._enabled||(Te(this._dragStartTarget,Yu,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(di._dragging===this&&this.finishDrag(!0),Be(this._dragStartTarget,Yu,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Cs(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){di._dragging===this&&this.finishDrag();return}if(!(di._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(di._dragging=this,this._preventOutline&&Mr(this._element),Lr(),Ln(),!this._moving)){this.fire("down");var l=r.touches?r.touches[0]:r,f=ki(this._element);this._startPoint=new J(l.clientX,l.clientY),this._startPos=hi(this._element),this._parentScale=fi(f);var _=r.type==="mousedown";Te(document,_?"mousemove":"touchmove",this._onMove,this),Te(document,_?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var l=r.touches&&r.touches.length===1?r.touches[0]:r,f=new J(l.clientX,l.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,mt(r),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),ht(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){nt(document.body,"leaflet-dragging"),this._lastTarget&&(nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Be(document,"mousemove touchmove",this._onMove,this),Be(document,"mouseup touchend touchcancel",this._onUp,this),Ho(),Or();var l=this._moved&&this._moving;this._moving=!1,di._dragging=!1,l&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Wu(r,l,f){var _,b=[1,4,2,8],w,R,z,q,Q,oe,ue,de;for(w=0,oe=r.length;w<oe;w++)r[w]._code=Ui(r[w],l);for(z=0;z<4;z++){for(ue=b[z],_=[],w=0,oe=r.length,R=oe-1;w<oe;R=w++)q=r[w],Q=r[R],q._code&ue?Q._code&ue||(de=xa(Q,q,ue,l,f),de._code=Ui(de,l),_.push(de)):(Q._code&ue&&(de=xa(Q,q,ue,l,f),de._code=Ui(de,l),_.push(de)),_.push(q));r=_}return r}function Ca(r,l){var f,_,b,w,R,z,q,Q,oe;if(!r||r.length===0)throw new Error("latlngs not passed");At(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var ue=se([0,0]),de=le(r),we=de.getNorthWest().distanceTo(de.getSouthWest())*de.getNorthEast().distanceTo(de.getNorthWest());we<1700&&(ue=Go(r));var it=r.length,ft=[];for(f=0;f<it;f++){var Rt=se(r[f]);ft.push(l.project(se([Rt.lat-ue.lat,Rt.lng-ue.lng])))}for(z=q=Q=0,f=0,_=it-1;f<it;_=f++)b=ft[f],w=ft[_],R=b.y*w.x-w.y*b.x,q+=(b.x+w.x)*R,Q+=(b.y+w.y)*R,z+=R*3;z===0?oe=ft[0]:oe=[q/z,Q/z];var cn=l.unproject(A(oe));return se([cn.lat+ue.lat,cn.lng+ue.lng])}function Go(r){for(var l=0,f=0,_=0,b=0;b<r.length;b++){var w=se(r[b]);l+=w.lat,f+=w.lng,_++}return se([l/_,f/_])}var mf={__proto__:null,clipPolygon:Wu,polygonCenter:Ca,centroid:Go};function Ku(r,l){if(!l||!r.length)return r.slice();var f=l*l;return r=gf(r,f),r=_f(r,f),r}function Yo(r,l,f){return Math.sqrt(ji(r,l,f,!0))}function pf(r,l,f){return ji(r,l,f)}function _f(r,l){var f=r.length,_=typeof Uint8Array<"u"?Uint8Array:Array,b=new _(f);b[0]=b[f-1]=1,Wo(r,b,l,0,f-1);var w,R=[];for(w=0;w<f;w++)b[w]&&R.push(r[w]);return R}function Wo(r,l,f,_,b){var w=0,R,z,q;for(z=_+1;z<=b-1;z++)q=ji(r[z],r[_],r[b],!0),q>w&&(R=z,w=q);w>f&&(l[R]=1,Wo(r,l,f,_,R),Wo(r,l,f,R,b))}function gf(r,l){for(var f=[r[0]],_=1,b=0,w=r.length;_<w;_++)vf(r[_],r[b])>l&&(f.push(r[_]),b=_);return b<w-1&&f.push(r[w-1]),f}var Xu;function Qu(r,l,f,_,b){var w=_?Xu:Ui(r,f),R=Ui(l,f),z,q,Q;for(Xu=R;;){if(!(w|R))return[r,l];if(w&R)return!1;z=w||R,q=xa(r,l,z,f,b),Q=Ui(q,f),z===w?(r=q,w=Q):(l=q,R=Q)}}function xa(r,l,f,_,b){var w=l.x-r.x,R=l.y-r.y,z=_.min,q=_.max,Q,oe;return f&8?(Q=r.x+w*(q.y-r.y)/R,oe=q.y):f&4?(Q=r.x+w*(z.y-r.y)/R,oe=z.y):f&2?(Q=q.x,oe=r.y+R*(q.x-r.x)/w):f&1&&(Q=z.x,oe=r.y+R*(z.x-r.x)/w),new J(Q,oe,b)}function Ui(r,l){var f=0;return r.x<l.min.x?f|=1:r.x>l.max.x&&(f|=2),r.y<l.min.y?f|=4:r.y>l.max.y&&(f|=8),f}function vf(r,l){var f=l.x-r.x,_=l.y-r.y;return f*f+_*_}function ji(r,l,f,_){var b=l.x,w=l.y,R=f.x-b,z=f.y-w,q=R*R+z*z,Q;return q>0&&(Q=((r.x-b)*R+(r.y-w)*z)/q,Q>1?(b=f.x,w=f.y):Q>0&&(b+=R*Q,w+=z*Q)),R=r.x-b,z=r.y-w,_?R*R+z*z:new J(b,w)}function At(r){return!$(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function $u(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),At(r)}function Ko(r,l){var f,_,b,w,R,z,q,Q;if(!r||r.length===0)throw new Error("latlngs not passed");At(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var oe=se([0,0]),ue=le(r),de=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());de<1700&&(oe=Go(r));var we=r.length,it=[];for(f=0;f<we;f++){var ft=se(r[f]);it.push(l.project(se([ft.lat-oe.lat,ft.lng-oe.lng])))}for(f=0,_=0;f<we-1;f++)_+=it[f].distanceTo(it[f+1])/2;if(_===0)Q=it[0];else for(f=0,w=0;f<we-1;f++)if(R=it[f],z=it[f+1],b=R.distanceTo(z),w+=b,w>_){q=(w-_)/b,Q=[z.x-q*(z.x-R.x),z.y-q*(z.y-R.y)];break}var Rt=l.unproject(A(Q));return se([Rt.lat+oe.lat,Rt.lng+oe.lng])}var Ju={__proto__:null,simplify:Ku,pointToSegmentDistance:Yo,closestPointOnSegment:pf,clipSegment:Qu,_getEdgeIntersection:xa,_getBitCode:Ui,_sqClosestPointOnSegment:ji,isFlat:At,_flat:$u,polylineCenter:Ko},Na={project:function(r){return new J(r.lng,r.lat)},unproject:function(r){return new fe(r.y,r.x)},bounds:new V([-180,-90],[180,90])},Aa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var l=Math.PI/180,f=this.R,_=r.lat*l,b=this.R_MINOR/f,w=Math.sqrt(1-b*b),R=w*Math.sin(_),z=Math.tan(Math.PI/4-_/2)/Math.pow((1-R)/(1+R),w/2);return _=-f*Math.log(Math.max(z,1e-10)),new J(r.lng*l*f,_)},unproject:function(r){for(var l=180/Math.PI,f=this.R,_=this.R_MINOR/f,b=Math.sqrt(1-_*_),w=Math.exp(-r.y/f),R=Math.PI/2-2*Math.atan(w),z=0,q=.1,Q;z<15&&Math.abs(q)>1e-7;z++)Q=b*Math.sin(R),Q=Math.pow((1-Q)/(1+Q),b/2),q=Math.PI/2-2*Math.atan(w*Q)-R,R+=q;return new fe(R*l,r.x*l/f)}},ec={__proto__:null,LonLat:Na,Mercator:Aa,SphericalMercator:Cr},Is=c({},je,{code:"EPSG:3395",projection:Aa,transformation:function(){var r=.5/(Math.PI*Aa.R);return Ci(r,.5,-r,.5)}()}),tc=c({},je,{code:"EPSG:4326",projection:Na,transformation:Ci(1/180,1,-1/180,.5)}),yf=c({},ct,{projection:Na,transformation:Ci(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,l){var f=l.lng-r.lng,_=l.lat-r.lat;return Math.sqrt(f*f+_*_)},infinite:!0});ct.Earth=je,ct.EPSG3395=Is,ct.EPSG3857=xr,ct.EPSG900913=Mo,ct.EPSG4326=tc,ct.Simple=yf;var vn=ae.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[g(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[g(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var l=r.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var f=this.getEvents();l.on(f,this),this.once("remove",function(){l.off(f,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Re.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var l=g(r);return this._layers[l]?this:(this._layers[l]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var l=g(r);return this._layers[l]?(this._loaded&&r.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return g(r)in this._layers},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},_addLayers:function(r){r=r?$(r)?r:[r]:[];for(var l=0,f=r.length;l<f;l++)this.addLayer(r[l])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[g(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var l=g(r);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,l=-1/0,f=this._getZoomSpan();for(var _ in this._zoomBoundLayers){var b=this._zoomBoundLayers[_].options;r=b.minZoom===void 0?r:Math.min(r,b.minZoom),l=b.maxZoom===void 0?l:Math.max(l,b.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=r===1/0?void 0:r,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Bi=vn.extend({initialize:function(r,l){U(this,l),this._layers={};var f,_;if(r)for(f=0,_=r.length;f<_;f++)this.addLayer(r[f])},addLayer:function(r){var l=this.getLayerId(r);return this._layers[l]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var l=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(r){var l=typeof r=="number"?r:this.getLayerId(r);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var l=Array.prototype.slice.call(arguments,1),f,_;for(f in this._layers)_=this._layers[f],_[r]&&_[r].apply(_,l);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,l){for(var f in this._layers)r.call(l,this._layers[f]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return g(r)}}),nc=function(r,l){return new Bi(r,l)},Qt=Bi.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),Bi.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),Bi.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new te;for(var l in this._layers){var f=this._layers[l];r.extend(f.getBounds?f.getBounds():f.getLatLng())}return r}}),Pr=function(r,l){return new Qt(r,l)},ks=Dt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){U(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,l){var f=this._getIconUrl(r);if(!f){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _=this._createImg(f,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(_,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_},_setIconStyles:function(r,l){var f=this.options,_=f[l+"Size"];typeof _=="number"&&(_=[_,_]);var b=A(_),w=A(l==="shadow"&&f.shadowAnchor||f.iconAnchor||b&&b.divideBy(2,!0));r.className="leaflet-marker-"+l+" "+(f.className||""),w&&(r.style.marginLeft=-w.x+"px",r.style.marginTop=-w.y+"px"),b&&(r.style.width=b.x+"px",r.style.height=b.y+"px")},_createImg:function(r,l){return l=l||document.createElement("img"),l.src=r,l},_getIconUrl:function(r){return me.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function Ra(r){return new ks(r)}var Ds=ks.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof Ds.imagePath!="string"&&(Ds.imagePath=this._detectIconPath()),(this.options.imagePath||Ds.imagePath)+ks.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var l=function(f,_,b){var w=_.exec(f);return w&&w[b]};return r=l(r,/^url\((['"])?(.+)\1\)$/,2),r&&l(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ze("div","leaflet-default-icon-path",document.body),l=Mi(r,"background-image")||Mi(r,"backgroundImage");if(document.body.removeChild(r),l=this._stripUrl(l),l)return l;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),Xo=gn.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new di(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var l=this._marker,f=l._map,_=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,w=hi(l._icon),R=f.getPixelBounds(),z=f.getPixelOrigin(),q=ie(R.min._subtract(z).add(b),R.max._subtract(z).subtract(b));if(!q.contains(w)){var Q=A((Math.max(q.max.x,w.x)-q.max.x)/(R.max.x-q.max.x)-(Math.min(q.min.x,w.x)-q.min.x)/(R.min.x-q.min.x),(Math.max(q.max.y,w.y)-q.max.y)/(R.max.y-q.max.y)-(Math.min(q.min.y,w.y)-q.min.y)/(R.min.y-q.min.y)).multiplyBy(_);f.panBy(Q,{animate:!1}),this._draggable._newPos._add(Q),this._draggable._startPos._add(Q),ht(l._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=qe(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Ze(this._panRequest),this._panRequest=qe(this._adjustPan.bind(this,r)))},_onDrag:function(r){var l=this._marker,f=l._shadow,_=hi(l._icon),b=l._map.layerPointToLatLng(_);f&&ht(f,_),l._latlng=b,r.latlng=b,r.oldLatLng=this._oldLatLng,l.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Ze(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ps=vn.extend({options:{icon:new Ds,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,l){U(this,l),this._latlng=se(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var l=this._latlng;return this._latlng=se(r),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=r.icon.createIcon(this._icon),_=!1;f!==this._icon&&(this._icon&&this._removeIcon(),_=!0,r.title&&(f.title=r.title),f.tagName==="IMG"&&(f.alt=r.alt||"")),Ce(f,l),r.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Te(f,"focus",this._panOnFocus,this);var b=r.icon.createShadow(this._shadow),w=!1;b!==this._shadow&&(this._removeShadow(),w=!0),b&&(Ce(b,l),b.alt=""),this._shadow=b,r.opacity<1&&this._updateOpacity(),_&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&w&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Be(this._icon,"focus",this._panOnFocus,this),tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tt(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&ht(this._icon,r),this._shadow&&ht(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Xo)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Xo(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Vt(this._icon,r),this._shadow&&Vt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var l=this.options.icon.options,f=l.iconSize?A(l.iconSize):A(0,0),_=l.iconAnchor?A(l.iconAnchor):A(0,0);r.panInside(this._latlng,{paddingTopLeft:_,paddingBottomRight:f.subtract(_)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qo(r,l){return new Ps(r,l)}var Wn=vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return U(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zr=Wn.extend({options:{fill:!0,radius:10},initialize:function(r,l){U(this,l),this._latlng=se(r),this._radius=this.options.radius},setLatLng:function(r){var l=this._latlng;return this._latlng=se(r),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var l=r&&r.radius||this._radius;return Wn.prototype.setStyle.call(this,r),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,l=this._radiusY||r,f=this._clickTolerance(),_=[r+f,l+f];this._pxBounds=new V(this._point.subtract(_),this._point.add(_))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ic(r,l){return new zr(r,l)}var $o=zr.extend({initialize:function(r,l,f){if(typeof l=="number"&&(l=c({},f,{radius:l})),U(this,l),this._latlng=se(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new te(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Wn.prototype.setStyle,_project:function(){var r=this._latlng.lng,l=this._latlng.lat,f=this._map,_=f.options.crs;if(_.distance===je.distance){var b=Math.PI/180,w=this._mRadius/je.R/b,R=f.project([l+w,r]),z=f.project([l-w,r]),q=R.add(z).divideBy(2),Q=f.unproject(q).lat,oe=Math.acos((Math.cos(w*b)-Math.sin(l*b)*Math.sin(Q*b))/(Math.cos(l*b)*Math.cos(Q*b)))/b;(isNaN(oe)||oe===0)&&(oe=w/Math.cos(Math.PI/180*l)),this._point=q.subtract(f.getPixelOrigin()),this._radius=isNaN(oe)?0:q.x-f.project([Q,r-oe]).x,this._radiusY=q.y-R.y}else{var ue=_.unproject(_.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(ue).x}this._updateBounds()}});function bf(r,l,f){return new $o(r,l,f)}var Kn=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,l){U(this,l),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var l=1/0,f=null,_=ji,b,w,R=0,z=this._parts.length;R<z;R++)for(var q=this._parts[R],Q=1,oe=q.length;Q<oe;Q++){b=q[Q-1],w=q[Q];var ue=_(r,b,w,!0);ue<l&&(l=ue,f=_(r,b,w))}return f&&(f.distance=Math.sqrt(l)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ko(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,l){return l=l||this._defaultShape(),r=se(r),l.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new te,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return At(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var l=[],f=At(r),_=0,b=r.length;_<b;_++)f?(l[_]=se(r[_]),this._bounds.extend(l[_])):l[_]=this._convertLatLngs(r[_]);return l},_project:function(){var r=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),l=new J(r,r);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(r,l,f){var _=r[0]instanceof fe,b=r.length,w,R;if(_){for(R=[],w=0;w<b;w++)R[w]=this._map.latLngToLayerPoint(r[w]),f.extend(R[w]);l.push(R)}else for(w=0;w<b;w++)this._projectLatlngs(r[w],l,f)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,f,_,b,w,R,z,q;for(f=0,b=0,w=this._rings.length;f<w;f++)for(q=this._rings[f],_=0,R=q.length;_<R-1;_++)z=Qu(q[_],q[_+1],r,_,!0),z&&(l[b]=l[b]||[],l[b].push(z[0]),(z[1]!==q[_+1]||_===R-2)&&(l[b].push(z[1]),b++))}},_simplifyPoints:function(){for(var r=this._parts,l=this.options.smoothFactor,f=0,_=r.length;f<_;f++)r[f]=Ku(r[f],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,l){var f,_,b,w,R,z,q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(f=0,w=this._parts.length;f<w;f++)for(z=this._parts[f],_=0,R=z.length,b=R-1;_<R;b=_++)if(!(!l&&_===0)&&Yo(r,z[b],z[_])<=q)return!0;return!1}});function Sf(r,l){return new Kn(r,l)}Kn._flat=$u;var zs=Kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ca(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var l=Kn.prototype._convertLatLngs.call(this,r),f=l.length;return f>=2&&l[0]instanceof fe&&l[0].equals(l[f-1])&&l.pop(),l},_setLatLngs:function(r){Kn.prototype._setLatLngs.call(this,r),At(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return At(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,l=this.options.weight,f=new J(l,l);if(r=new V(r.min.subtract(f),r.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var _=0,b=this._rings.length,w;_<b;_++)w=Wu(this._rings[_],r,!0),w.length&&this._parts.push(w)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var l=!1,f,_,b,w,R,z,q,Q;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(w=0,q=this._parts.length;w<q;w++)for(f=this._parts[w],R=0,Q=f.length,z=Q-1;R<Q;z=R++)_=f[R],b=f[z],_.y>r.y!=b.y>r.y&&r.x<(b.x-_.x)*(r.y-_.y)/(b.y-_.y)+_.x&&(l=!l);return l||Kn.prototype._containsPoint.call(this,r,!0)}});function $t(r,l){return new zs(r,l)}var Jt=Qt.extend({initialize:function(r,l){U(this,l),this._layers={},r&&this.addData(r)},addData:function(r){var l=$(r)?r:r.features,f,_,b;if(l){for(f=0,_=l.length;f<_;f++)b=l[f],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var w=this.options;if(w.filter&&!w.filter(r))return this;var R=Ur(r,w);return R?(R.feature=Us(r),R.defaultOptions=R.options,this.resetStyle(R),w.onEachFeature&&w.onEachFeature(r,R),this.addLayer(R)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=c({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(l){this._setLayerStyle(l,r)},this)},_setLayerStyle:function(r,l){r.setStyle&&(typeof l=="function"&&(l=l(r.feature)),r.setStyle(l))}});function Ur(r,l){var f=r.type==="Feature"?r.geometry:r,_=f?f.coordinates:null,b=[],w=l&&l.pointToLayer,R=l&&l.coordsToLatLng||Oa,z,q,Q,oe;if(!_&&!f)return null;switch(f.type){case"Point":return z=R(_),Jo(w,r,z,l);case"MultiPoint":for(Q=0,oe=_.length;Q<oe;Q++)z=R(_[Q]),b.push(Jo(w,r,z,l));return new Qt(b);case"LineString":case"MultiLineString":return q=jr(_,f.type==="LineString"?0:1,R),new Kn(q,l);case"Polygon":case"MultiPolygon":return q=jr(_,f.type==="Polygon"?1:2,R),new zs(q,l);case"GeometryCollection":for(Q=0,oe=f.geometries.length;Q<oe;Q++){var ue=Ur({geometry:f.geometries[Q],type:"Feature",properties:r.properties},l);ue&&b.push(ue)}return new Qt(b);case"FeatureCollection":for(Q=0,oe=f.features.length;Q<oe;Q++){var de=Ur(f.features[Q],l);de&&b.push(de)}return new Qt(b);default:throw new Error("Invalid GeoJSON object.")}}function Jo(r,l,f,_){return r?r(l,f):new Ps(f,_&&_.markersInheritOptions&&_)}function Oa(r){return new fe(r[1],r[0],r[2])}function jr(r,l,f){for(var _=[],b=0,w=r.length,R;b<w;b++)R=l?jr(r[b],l-1,f):(f||Oa)(r[b]),_.push(R);return _}function Br(r,l){return r=se(r),r.alt!==void 0?[N(r.lng,l),N(r.lat,l),N(r.alt,l)]:[N(r.lng,l),N(r.lat,l)]}function La(r,l,f,_){for(var b=[],w=0,R=r.length;w<R;w++)b.push(l?La(r[w],At(r[w])?0:l-1,f,_):Br(r[w],_));return!l&&f&&b.length>0&&b.push(b[0].slice()),b}function yn(r,l){return r.feature?c({},r.feature,{geometry:l}):Us(l)}function Us(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var Hi={toGeoJSON:function(r){return yn(this,{type:"Point",coordinates:Br(this.getLatLng(),r)})}};Ps.include(Hi),$o.include(Hi),zr.include(Hi),Kn.include({toGeoJSON:function(r){var l=!At(this._latlngs),f=La(this._latlngs,l?1:0,!1,r);return yn(this,{type:(l?"Multi":"")+"LineString",coordinates:f})}}),zs.include({toGeoJSON:function(r){var l=!At(this._latlngs),f=l&&!At(this._latlngs[0]),_=La(this._latlngs,f?2:l?1:0,!0,r);return l||(_=[_]),yn(this,{type:(f?"Multi":"")+"Polygon",coordinates:_})}}),Bi.include({toMultiPoint:function(r){var l=[];return this.eachLayer(function(f){l.push(f.toGeoJSON(r).geometry.coordinates)}),yn(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(r){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(r);var f=l==="GeometryCollection",_=[];return this.eachLayer(function(b){if(b.toGeoJSON){var w=b.toGeoJSON(r);if(f)_.push(w.geometry);else{var R=Us(w);R.type==="FeatureCollection"?_.push.apply(_,R.features):_.push(R)}}}),f?yn(this,{geometries:_,type:"GeometryCollection"}):{type:"FeatureCollection",features:_}}});function Ma(r,l){return new Jt(r,l)}var sc=Ma,Dn=vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,l,f){this._url=r,this._bounds=le(l),U(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&Ii(this._image),this},bringToBack:function(){return this._map&&Ts(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=le(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",l=this._image=r?this._url:ze("img");if(Ce(l,"leaflet-image-layer"),this._zoomAnimated&&Ce(l,"leaflet-zoom-animated"),this.options.className&&Ce(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onload=m(this.fire,this,"load"),l.onerror=m(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(r){var l=this._map.getZoomScale(r.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;un(this._image,f,l)},_reset:function(){var r=this._image,l=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=l.getSize();ht(r,l.min),r.style.width=f.x+"px",r.style.height=f.y+"px"},_updateOpacity:function(){Vt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),js=function(r,l,f){return new Dn(r,l,f)},Ia=Dn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",l=this._image=r?this._url:ze("video");if(Ce(l,"leaflet-image-layer"),this._zoomAnimated&&Ce(l,"leaflet-zoom-animated"),this.options.className&&Ce(l,this.options.className),l.onselectstart=x,l.onmousemove=x,l.onloadeddata=m(this.fire,this,"load"),r){for(var f=l.getElementsByTagName("source"),_=[],b=0;b<f.length;b++)_.push(f[b].src);this._url=f.length>0?_:[l.src];return}$(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var w=0;w<this._url.length;w++){var R=ze("source");R.src=this._url[w],l.appendChild(R)}}});function rc(r,l,f){return new Ia(r,l,f)}var mi=Dn.extend({_initImage:function(){var r=this._image=this._url;Ce(r,"leaflet-image-layer"),this._zoomAnimated&&Ce(r,"leaflet-zoom-animated"),this.options.className&&Ce(r,this.options.className),r.onselectstart=x,r.onmousemove=x}});function ac(r,l,f){return new mi(r,l,f)}var bn=vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,l){r&&(r instanceof fe||$(r))?(this._latlng=se(r),U(this,l)):(U(this,r),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Vt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Vt(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Vt(this._container,0),this._removeTimeout=setTimeout(m(tt,void 0,this._container),200)):tt(this._container),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=se(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ii(this._container),this},bringToBack:function(){return this._map&&Ts(this._container),this},_prepareOpen:function(r){var l=this._source;if(!l._map)return!1;if(l instanceof Qt){l=null;var f=this._source._layers;for(var _ in f)if(f[_]._map){l=f[_];break}if(!l)return!1;this._source=l}if(!r)if(l.getCenter)r=l.getCenter();else if(l.getLatLng)r=l.getLatLng();else if(l.getBounds)r=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")r.innerHTML=l;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),l=A(this.options.offset),f=this._getAnchor();this._zoomAnimated?ht(this._container,r.add(f)):l=l.add(r).add(f);var _=this._containerBottom=-l.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=_+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});Re.include({_initOverlay:function(r,l,f,_){var b=l;return b instanceof r||(b=new r(_).setContent(l)),f&&b.setLatLng(f),b}}),vn.include({_initOverlay:function(r,l,f,_){var b=f;return b instanceof r?(U(b,_),b._source=this):(b=l&&!_?l:new r(_,this),b.setContent(f)),b}});var Hr=bn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,bn.prototype.openOn.call(this,r)},onAdd:function(r){bn.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",Yn))},onRemove:function(r){bn.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",Yn))},getEvents:function(){var r=bn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",l=this._container=ze("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=ze("div",r+"-content-wrapper",l);if(this._contentNode=ze("div",r+"-content",f),Ls(l),Os(this._contentNode),Te(l,"contextmenu",Yn),this._tipContainer=ze("div",r+"-tip-container",l),this._tip=ze("div",r+"-tip",this._tipContainer),this.options.closeButton){var _=this._closeButton=ze("a",r+"-close-button",l);_.setAttribute("role","button"),_.setAttribute("aria-label","Close popup"),_.href="#close",_.innerHTML='<span aria-hidden="true">&#215;</span>',Te(_,"click",function(b){mt(b),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,l=r.style;l.width="",l.whiteSpace="nowrap";var f=r.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),l.width=f+1+"px",l.whiteSpace="",l.height="";var _=r.offsetHeight,b=this.options.maxHeight,w="leaflet-popup-scrolled";b&&_>b?(l.height=b+"px",Ce(r,w)):nt(r,w),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),f=this._getAnchor();ht(this._container,l.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,l=parseInt(Mi(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+l,_=this._containerWidth,b=new J(this._containerLeft,-f-this._containerBottom);b._add(hi(this._container));var w=r.layerPointToContainerPoint(b),R=A(this.options.autoPanPadding),z=A(this.options.autoPanPaddingTopLeft||R),q=A(this.options.autoPanPaddingBottomRight||R),Q=r.getSize(),oe=0,ue=0;w.x+_+q.x>Q.x&&(oe=w.x+_-Q.x+q.x),w.x-oe-z.x<0&&(oe=w.x-z.x),w.y+f+q.y>Q.y&&(ue=w.y+f-Q.y+q.y),w.y-ue-z.y<0&&(ue=w.y-z.y),(oe||ue)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([oe,ue]))}},_getAnchor:function(){return A(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ef=function(r,l){return new Hr(r,l)};Re.mergeOptions({closePopupOnClick:!0}),Re.include({openPopup:function(r,l,f){return this._initOverlay(Hr,r,l,f).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),vn.include({bindPopup:function(r,l){return this._popup=this._initOverlay(Hr,this._popup,r,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Qt||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){kn(r);var l=r.layer||r.target;if(this._popup._source===l&&!(l instanceof Wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=l,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ka=bn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){bn.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){bn.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=bn.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",l=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+g(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var l,f,_=this._map,b=this._container,w=_.latLngToContainerPoint(_.getCenter()),R=_.layerPointToContainerPoint(r),z=this.options.direction,q=b.offsetWidth,Q=b.offsetHeight,oe=A(this.options.offset),ue=this._getAnchor();z==="top"?(l=q/2,f=Q):z==="bottom"?(l=q/2,f=0):z==="center"?(l=q/2,f=Q/2):z==="right"?(l=0,f=Q/2):z==="left"?(l=q,f=Q/2):R.x<w.x?(z="right",l=0,f=Q/2):(z="left",l=q+(oe.x+ue.x)*2,f=Q/2),r=r.subtract(A(l,f,!0)).add(oe).add(ue),nt(b,"leaflet-tooltip-right"),nt(b,"leaflet-tooltip-left"),nt(b,"leaflet-tooltip-top"),nt(b,"leaflet-tooltip-bottom"),Ce(b,"leaflet-tooltip-"+z),ht(b,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Vt(this._container,r)},_animateZoom:function(r){var l=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(l)},_getAnchor:function(){return A(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wf=function(r,l){return new ka(r,l)};Re.include({openTooltip:function(r,l,f){return this._initOverlay(ka,r,l,f).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),vn.include({bindTooltip:function(r,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ka,this._tooltip,r,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var l=r?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[l](f),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Qt||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&(Te(l,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),Te(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var l=typeof r.getElement=="function"&&r.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var l=r.latlng,f,_;this._tooltip.options.sticky&&r.originalEvent&&(f=this._map.mouseEventToContainerPoint(r.originalEvent),_=this._map.containerPointToLayerPoint(f),l=this._map.layerPointToLatLng(_)),this._tooltip.setLatLng(l)}});var el=ks.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var l=r&&r.tagName==="DIV"?r:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Pt(l),l.appendChild(f.html)):l.innerHTML=f.html!==!1?f.html:"",f.bgPos){var _=A(f.bgPos);l.style.backgroundPosition=-_.x+"px "+-_.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function oc(r){return new el(r)}ks.Default=Ds;var Fi=vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:me.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){U(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),tt(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ii(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ts(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=y(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof J?r:new J(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var l=this.getPane().children,f=-r(-1/0,1/0),_=0,b=l.length,w;_<b;_++)w=l[_].style.zIndex,l[_]!==this._container&&w&&(f=r(f,+w));isFinite(f)&&(this.options.zIndex=f+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!me.ielt9){Vt(this._container,this.options.opacity);var r=+new Date,l=!1,f=!1;for(var _ in this._tiles){var b=this._tiles[_];if(!(!b.current||!b.loaded)){var w=Math.min(1,(r-b.loaded)/200);Vt(b.el,w),w<1?l=!0:(b.active?f=!0:this._onOpaqueTile(b),b.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),l&&(Ze(this._fadeFrame),this._fadeFrame=qe(this._updateOpacity,this))}},_onOpaqueTile:x,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,l=this.options.maxZoom;if(r!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===r?(this._levels[f].el.style.zIndex=l-Math.abs(r-f),this._onUpdateLevel(f)):(tt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var _=this._levels[r],b=this._map;return _||(_=this._levels[r]={},_.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),_.el.style.zIndex=l,_.origin=b.project(b.unproject(b.getPixelOrigin()),r).round(),_.zoom=r,this._setZoomTransform(_,b.getCenter(),b.getZoom()),x(_.el.offsetWidth),this._onCreateLevel(_)),this._level=_,_}},_onUpdateLevel:x,_onRemoveLevel:x,_onCreateLevel:x,_pruneTiles:function(){if(this._map){var r,l,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)l=this._tiles[r],l.retain=l.current;for(r in this._tiles)if(l=this._tiles[r],l.current&&!l.active){var _=l.coords;this._retainParent(_.x,_.y,_.z,_.z-5)||this._retainChildren(_.x,_.y,_.z,_.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var l in this._tiles)this._tiles[l].coords.z===r&&this._removeTile(l)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)tt(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,l,f,_){var b=Math.floor(r/2),w=Math.floor(l/2),R=f-1,z=new J(+b,+w);z.z=+R;var q=this._tileCoordsToKey(z),Q=this._tiles[q];return Q&&Q.active?(Q.retain=!0,!0):(Q&&Q.loaded&&(Q.retain=!0),R>_?this._retainParent(b,w,R,_):!1)},_retainChildren:function(r,l,f,_){for(var b=2*r;b<2*r+2;b++)for(var w=2*l;w<2*l+2;w++){var R=new J(b,w);R.z=f+1;var z=this._tileCoordsToKey(R),q=this._tiles[z];if(q&&q.active){q.retain=!0;continue}else q&&q.loaded&&(q.retain=!0);f+1<_&&this._retainChildren(b,w,f+1,_)}},_resetView:function(r){var l=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var l=this.options;return l.minNativeZoom!==void 0&&r<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<r?l.maxNativeZoom:r},_setView:function(r,l,f,_){var b=Math.round(l);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var w=this.options.updateWhenZooming&&b!==this._tileZoom;(!_||w)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(r),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(r,l)},_setZoomTransforms:function(r,l){for(var f in this._levels)this._setZoomTransform(this._levels[f],r,l)},_setZoomTransform:function(r,l,f){var _=this._map.getZoomScale(f,r.zoom),b=r.origin.multiplyBy(_).subtract(this._map._getNewPixelOrigin(l,f)).round();me.any3d?un(r.el,b,_):ht(r.el,b)},_resetGrid:function(){var r=this._map,l=r.options.crs,f=this._tileSize=this.getTileSize(),_=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,l.wrapLng[0]],_).x/f.x),Math.ceil(r.project([0,l.wrapLng[1]],_).x/f.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([l.wrapLat[0],0],_).y/f.x),Math.ceil(r.project([l.wrapLat[1],0],_).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var l=this._map,f=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),_=l.getZoomScale(f,this._tileZoom),b=l.project(r,this._tileZoom).floor(),w=l.getSize().divideBy(_*2);return new V(b.subtract(w),b.add(w))},_update:function(r){var l=this._map;if(l){var f=this._clampZoom(l.getZoom());if(r===void 0&&(r=l.getCenter()),this._tileZoom!==void 0){var _=this._getTiledPixelBounds(r),b=this._pxBoundsToTileRange(_),w=b.getCenter(),R=[],z=this.options.keepBuffer,q=new V(b.getBottomLeft().subtract([z,-z]),b.getTopRight().add([z,-z]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Q in this._tiles){var oe=this._tiles[Q].coords;(oe.z!==this._tileZoom||!q.contains(new J(oe.x,oe.y)))&&(this._tiles[Q].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(r,f);return}for(var ue=b.min.y;ue<=b.max.y;ue++)for(var de=b.min.x;de<=b.max.x;de++){var we=new J(de,ue);if(we.z=this._tileZoom,!!this._isValidTile(we)){var it=this._tiles[this._tileCoordsToKey(we)];it?it.current=!0:R.push(we)}}if(R.sort(function(Rt,cn){return Rt.distanceTo(w)-cn.distanceTo(w)}),R.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ft=document.createDocumentFragment();for(de=0;de<R.length;de++)this._addTile(R[de],ft);this._level.el.appendChild(ft)}}}},_isValidTile:function(r){var l=this._map.options.crs;if(!l.infinite){var f=this._globalTileRange;if(!l.wrapLng&&(r.x<f.min.x||r.x>f.max.x)||!l.wrapLat&&(r.y<f.min.y||r.y>f.max.y))return!1}if(!this.options.bounds)return!0;var _=this._tileCoordsToBounds(r);return le(this.options.bounds).overlaps(_)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var l=this._map,f=this.getTileSize(),_=r.scaleBy(f),b=_.add(f),w=l.unproject(_,r.z),R=l.unproject(b,r.z);return[w,R]},_tileCoordsToBounds:function(r){var l=this._tileCoordsToNwSe(r),f=new te(l[0],l[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var l=r.split(":"),f=new J(+l[0],+l[1]);return f.z=+l[2],f},_removeTile:function(r){var l=this._tiles[r];l&&(tt(l.el),delete this._tiles[r],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Ce(r,"leaflet-tile");var l=this.getTileSize();r.style.width=l.x+"px",r.style.height=l.y+"px",r.onselectstart=x,r.onmousemove=x,me.ielt9&&this.options.opacity<1&&Vt(r,this.options.opacity)},_addTile:function(r,l){var f=this._getTilePos(r),_=this._tileCoordsToKey(r),b=this.createTile(this._wrapCoords(r),m(this._tileReady,this,r));this._initTile(b),this.createTile.length<2&&qe(m(this._tileReady,this,r,null,b)),ht(b,f),this._tiles[_]={el:b,coords:r,current:!0},l.appendChild(b),this.fire("tileloadstart",{tile:b,coords:r})},_tileReady:function(r,l,f){l&&this.fire("tileerror",{error:l,tile:f,coords:r});var _=this._tileCoordsToKey(r);f=this._tiles[_],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Vt(f.el,0),Ze(this._fadeFrame),this._fadeFrame=qe(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),l||(Ce(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),me.ielt9||!this._map._fadeAnimated?qe(this._pruneTiles,this):setTimeout(m(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var l=new J(this._wrapX?C(r.x,this._wrapX):r.x,this._wrapY?C(r.y,this._wrapY):r.y);return l.z=r.z,l},_pxBoundsToTileRange:function(r){var l=this.getTileSize();return new V(r.min.unscaleBy(l).floor(),r.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Sn(r){return new Fi(r)}var qi=Fi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,l){this._url=r,l=U(this,l),l.detectRetina&&me.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,l){return this._url===r&&l===void 0&&(l=!0),this._url=r,l||this.redraw(),this},createTile:function(r,l){var f=document.createElement("img");return Te(f,"load",m(this._tileOnLoad,this,l,f)),Te(f,"error",m(this._tileOnError,this,l,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(r),f},getTileUrl:function(r){var l={r:me.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-r.y;this.options.tms&&(l.y=f),l["-y"]=f}return ee(this._url,c(l,this.options))},_tileOnLoad:function(r,l){me.ielt9?setTimeout(m(r,this,null,l),0):r(null,l)},_tileOnError:function(r,l,f){var _=this.options.errorTileUrl;_&&l.getAttribute("src")!==_&&(l.src=_),r(f,l)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,l=this.options.maxZoom,f=this.options.zoomReverse,_=this.options.zoomOffset;return f&&(r=l-r),r+_},_getSubdomain:function(r){var l=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var r,l;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(l=this._tiles[r].el,l.onload=x,l.onerror=x,!l.complete)){l.src=re;var f=this._tiles[r].coords;tt(l),delete this._tiles[r],this.fire("tileabort",{tile:l,coords:f})}},_removeTile:function(r){var l=this._tiles[r];if(l)return l.el.setAttribute("src",re),Fi.prototype._removeTile.call(this,r)},_tileReady:function(r,l,f){if(!(!this._map||f&&f.getAttribute("src")===re))return Fi.prototype._tileReady.call(this,r,l,f)}});function en(r,l){return new qi(r,l)}var tn=qi.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,l){this._url=r;var f=c({},this.defaultWmsParams);for(var _ in l)_ in this.options||(f[_]=l[_]);l=U(this,l);var b=l.detectRetina&&me.retina?2:1,w=this.getTileSize();f.width=w.x*b,f.height=w.y*b,this.wmsParams=f},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,qi.prototype.onAdd.call(this,r)},getTileUrl:function(r){var l=this._tileCoordsToNwSe(r),f=this._crs,_=ie(f.project(l[0]),f.project(l[1])),b=_.min,w=_.max,R=(this._wmsVersion>=1.3&&this._crs===tc?[b.y,b.x,w.y,w.x]:[b.x,b.y,w.x,w.y]).join(","),z=qi.prototype.getTileUrl.call(this,r);return z+Y(this.wmsParams,z,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+R},setParams:function(r,l){return c(this.wmsParams,r),l||this.redraw(),this}});function Bs(r,l){return new tn(r,l)}qi.WMS=tn,en.wms=Bs;var En=vn.extend({options:{padding:.1},initialize:function(r){U(this,r),g(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,l){var f=this._map.getZoomScale(l,this._zoom),_=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,l),w=_.multiplyBy(-f).add(b).subtract(this._map._getNewPixelOrigin(r,l));me.any3d?un(this._container,w,f):ht(this._container,w)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,l=this._map.getSize(),f=this._map.containerPointToLayerPoint(l.multiplyBy(-r)).round();this._bounds=new V(f,f.add(l.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Fr=En.extend({options:{tolerance:0},getEvents:function(){var r=En.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){En.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");Te(r,"mousemove",this._onMouseMove,this),Te(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Te(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Ze(this._redrawRequest),delete this._ctx,tt(this._container),Be(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var l in this._layers)r=this._layers[l],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var r=this._bounds,l=this._container,f=r.getSize(),_=me.retina?2:1;ht(l,r.min),l.width=_*f.x,l.height=_*f.y,l.style.width=f.x+"px",l.style.height=f.y+"px",me.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){En.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[g(r)]=r;var l=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var l=r._order,f=l.next,_=l.prev;f?f.prev=_:this._drawLast=_,_?_.next=f:this._drawFirst=f,delete r._order,delete this._layers[g(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var l=r.options.dashArray.split(/[, ]+/),f=[],_,b;for(b=0;b<l.length;b++){if(_=Number(l[b]),isNaN(_))return;f.push(_)}r.options._dashArray=f}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||qe(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var l=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(r._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(r._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var l=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,l=this._redrawBounds;if(this._ctx.save(),l){var f=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var _=this._drawFirst;_;_=_.next)r=_.layer,(!l||r._pxBounds&&r._pxBounds.intersects(l))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,l){if(this._drawing){var f,_,b,w,R=r._parts,z=R.length,q=this._ctx;if(z){for(q.beginPath(),f=0;f<z;f++){for(_=0,b=R[f].length;_<b;_++)w=R[f][_],q[_?"lineTo":"moveTo"](w.x,w.y);l&&q.closePath()}this._fillStroke(q,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var l=r._point,f=this._ctx,_=Math.max(Math.round(r._radius),1),b=(Math.max(Math.round(r._radiusY),1)||_)/_;b!==1&&(f.save(),f.scale(1,b)),f.beginPath(),f.arc(l.x,l.y/b,_,0,Math.PI*2,!1),b!==1&&f.restore(),this._fillStroke(f,r)}},_fillStroke:function(r,l){var f=l.options;f.fill&&(r.globalAlpha=f.fillOpacity,r.fillStyle=f.fillColor||f.color,r.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(r.setLineDash&&r.setLineDash(l.options&&l.options._dashArray||[]),r.globalAlpha=f.opacity,r.lineWidth=f.weight,r.strokeStyle=f.color,r.lineCap=f.lineCap,r.lineJoin=f.lineJoin,r.stroke())},_onClick:function(r){for(var l=this._map.mouseEventToLayerPoint(r),f,_,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(l)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(f))&&(_=f);this._fireEvent(_?[_]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,l)}},_handleMouseOut:function(r){var l=this._hoveredLayer;l&&(nt(this._container,"leaflet-interactive"),this._fireEvent([l],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,l){if(!this._mouseHoverThrottled){for(var f,_,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(l)&&(_=f);_!==this._hoveredLayer&&(this._handleMouseOut(r),_&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([_],r,"mouseover"),this._hoveredLayer=_)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(m(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,l,f){this._map._fireDOMEvent(l,f||l.type,r)},_bringToFront:function(r){var l=r._order;if(l){var f=l.next,_=l.prev;if(f)f.prev=_;else return;_?_.next=f:f&&(this._drawFirst=f),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(r)}},_bringToBack:function(r){var l=r._order;if(l){var f=l.next,_=l.prev;if(_)_.next=f;else return;f?f.prev=_:_&&(this._drawLast=_),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(r)}}});function qr(r){return me.canvas?new Fr(r):null}var Zi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Hs={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(En.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var l=r._container=Zi("shape");Ce(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",r._path=Zi("path"),l.appendChild(r._path),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){var l=r._container;this._container.appendChild(l),r.options.interactive&&r.addInteractiveTarget(l)},_removePath:function(r){var l=r._container;tt(l),r.removeInteractiveTarget(l),delete this._layers[g(r)]},_updateStyle:function(r){var l=r._stroke,f=r._fill,_=r.options,b=r._container;b.stroked=!!_.stroke,b.filled=!!_.fill,_.stroke?(l||(l=r._stroke=Zi("stroke")),b.appendChild(l),l.weight=_.weight+"px",l.color=_.color,l.opacity=_.opacity,_.dashArray?l.dashStyle=$(_.dashArray)?_.dashArray.join(" "):_.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=_.lineCap.replace("butt","flat"),l.joinstyle=_.lineJoin):l&&(b.removeChild(l),r._stroke=null),_.fill?(f||(f=r._fill=Zi("fill")),b.appendChild(f),f.color=_.fillColor||_.color,f.opacity=_.fillOpacity):f&&(b.removeChild(f),r._fill=null)},_updateCircle:function(r){var l=r._point.round(),f=Math.round(r._radius),_=Math.round(r._radiusY||f);this._setPath(r,r._empty()?"M0 0":"AL "+l.x+","+l.y+" "+f+","+_+" 0,"+65535*360)},_setPath:function(r,l){r._path.v=l},_bringToFront:function(r){Ii(r._container)},_bringToBack:function(r){Ts(r._container)}},Zr=me.vml?Zi:Ru,pi=En.extend({_initContainer:function(){this._container=Zr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tt(this._container),Be(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var r=this._bounds,l=r.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,f.setAttribute("width",l.x),f.setAttribute("height",l.y)),ht(f,r.min),f.setAttribute("viewBox",[r.min.x,r.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(r){var l=r._path=Zr("path");r.options.className&&Ce(l,r.options.className),r.options.interactive&&Ce(l,"leaflet-interactive"),this._updateStyle(r),this._layers[g(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){tt(r._path),r.removeInteractiveTarget(r._path),delete this._layers[g(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var l=r._path,f=r.options;l&&(f.stroke?(l.setAttribute("stroke",f.color),l.setAttribute("stroke-opacity",f.opacity),l.setAttribute("stroke-width",f.weight),l.setAttribute("stroke-linecap",f.lineCap),l.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?l.setAttribute("stroke-dasharray",f.dashArray):l.removeAttribute("stroke-dasharray"),f.dashOffset?l.setAttribute("stroke-dashoffset",f.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),f.fill?(l.setAttribute("fill",f.fillColor||f.color),l.setAttribute("fill-opacity",f.fillOpacity),l.setAttribute("fill-rule",f.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(r,l){this._setPath(r,Ou(r._parts,l))},_updateCircle:function(r){var l=r._point,f=Math.max(Math.round(r._radius),1),_=Math.max(Math.round(r._radiusY),1)||f,b="a"+f+","+_+" 0 1,0 ",w=r._empty()?"M0 0":"M"+(l.x-f)+","+l.y+b+f*2+",0 "+b+-f*2+",0 ";this._setPath(r,w)},_setPath:function(r,l){r._path.setAttribute("d",l)},_bringToFront:function(r){Ii(r._path)},_bringToBack:function(r){Ts(r._path)}});me.vml&&pi.include(Hs);function Vi(r){return me.svg||me.vml?new pi(r):null}Re.include({getRenderer:function(r){var l=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var l=this._paneRenderers[r];return l===void 0&&(l=this._createRenderer({pane:r}),this._paneRenderers[r]=l),l},_createRenderer:function(r){return this.options.preferCanvas&&qr(r)||Vi(r)}});var lc=zs.extend({initialize:function(r,l){zs.prototype.initialize.call(this,this._boundsToLatLngs(r),l)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=le(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function nn(r,l){return new lc(r,l)}pi.create=Zr,pi.pointsToPath=Ou,Jt.geometryToLayer=Ur,Jt.coordsToLatLng=Oa,Jt.coordsToLatLngs=jr,Jt.latLngToCoords=Br,Jt.latLngsToCoords=La,Jt.getFeature=yn,Jt.asFeature=Us,Re.mergeOptions({boxZoom:!0});var Da=gn.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){Te(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Be(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ln(),Lr(),this._startPoint=this._map.mouseEventToContainerPoint(r),Te(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var l=new V(this._point,this._startPoint),f=l.getSize();ht(this._box,l.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(tt(this._box),nt(this._container,"leaflet-crosshair")),Or(),Ho(),Be(document,{contextmenu:kn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(m(this._resetState,this),0);var l=new te(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Re.addInitHook("addHandler","boxZoom",Da),Re.mergeOptions({doubleClickZoom:!0});var Pn=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var l=this._map,f=l.getZoom(),_=l.options.zoomDelta,b=r.originalEvent.shiftKey?f-_:f+_;l.options.doubleClickZoom==="center"?l.setZoom(b):l.setZoomAround(r.containerPoint,b)}});Re.addInitHook("addHandler","doubleClickZoom",Pn),Re.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var tl=gn.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new di(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nt(this._map._container,"leaflet-grab"),nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=le(this._map.options.maxBounds);this._offsetLimit=ie(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var l=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(l),this._prunePositions(l)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,l){return r-(r-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;r.x<l.min.x&&(r.x=this._viscousLimit(r.x,l.min.x)),r.y<l.min.y&&(r.y=this._viscousLimit(r.y,l.min.y)),r.x>l.max.x&&(r.x=this._viscousLimit(r.x,l.max.x)),r.y>l.max.y&&(r.y=this._viscousLimit(r.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,l=Math.round(r/2),f=this._initialWorldOffset,_=this._draggable._newPos.x,b=(_-l+f)%r+l-f,w=(_+l+f)%r-l-f,R=Math.abs(b+f)<Math.abs(w+f)?b:w;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=R},_onDragEnd:function(r){var l=this._map,f=l.options,_=!f.inertia||r.noInertia||this._times.length<2;if(l.fire("dragend",r),_)l.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),w=(this._lastTime-this._times[0])/1e3,R=f.easeLinearity,z=b.multiplyBy(R/w),q=z.distanceTo([0,0]),Q=Math.min(f.inertiaMaxSpeed,q),oe=z.multiplyBy(Q/q),ue=Q/(f.inertiaDeceleration*R),de=oe.multiplyBy(-ue/2).round();!de.x&&!de.y?l.fire("moveend"):(de=l._limitOffset(de,l.options.maxBounds),qe(function(){l.panBy(de,{duration:ue,easeLinearity:R,noMoveStart:!0,animate:!0})}))}}});Re.addInitHook("addHandler","dragging",tl),Re.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Vr=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),Te(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Be(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,l=document.documentElement,f=r.scrollTop||l.scrollTop,_=r.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(_,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var l=this._panKeys={},f=this.keyCodes,_,b;for(_=0,b=f.left.length;_<b;_++)l[f.left[_]]=[-1*r,0];for(_=0,b=f.right.length;_<b;_++)l[f.right[_]]=[r,0];for(_=0,b=f.down.length;_<b;_++)l[f.down[_]]=[0,r];for(_=0,b=f.up.length;_<b;_++)l[f.up[_]]=[0,-1*r]},_setZoomDelta:function(r){var l=this._zoomKeys={},f=this.keyCodes,_,b;for(_=0,b=f.zoomIn.length;_<b;_++)l[f.zoomIn[_]]=r;for(_=0,b=f.zoomOut.length;_<b;_++)l[f.zoomOut[_]]=-r},_addHooks:function(){Te(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Be(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var l=r.keyCode,f=this._map,_;if(l in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(_=this._panKeys[l],r.shiftKey&&(_=A(_).multiplyBy(3)),f.options.maxBounds&&(_=f._limitOffset(A(_),f.options.maxBounds)),f.options.worldCopyJump){var b=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(_)));f.panTo(b)}else f.panBy(_)}else if(l in this._zoomKeys)f.setZoom(f.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;kn(r)}}});Re.addInitHook("addHandler","keyboard",Vr),Re.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var _i=gn.extend({addHooks:function(){Te(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Be(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var l=kr(r),f=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var _=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(m(this._performZoom,this),_),kn(r)},_performZoom:function(){var r=this._map,l=r.getZoom(),f=this._map.options.zoomSnap||0;r._stop();var _=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(_))))/Math.LN2,w=f?Math.ceil(b/f)*f:b,R=r._limitZoom(l+(this._delta>0?w:-w))-l;this._delta=0,this._startTime=null,R&&(r.options.scrollWheelZoom==="center"?r.setZoom(l+R):r.setZoomAround(this._lastMousePos,l+R))}});Re.addInitHook("addHandler","scrollWheelZoom",_i);var nl=600;Re.mergeOptions({tapHold:me.touchNative&&me.safari&&me.mobile,tapTolerance:15});var Pa=gn.extend({addHooks:function(){Te(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Be(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var l=r.touches[0];this._startPos=this._newPos=new J(l.clientX,l.clientY),this._holdTimeout=setTimeout(m(function(){this._cancel(),this._isTapValid()&&(Te(document,"touchend",mt),Te(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),nl),Te(document,"touchend touchcancel contextmenu",this._cancel,this),Te(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){Be(document,"touchend",mt),Be(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),Be(document,"touchend touchcancel contextmenu",this._cancel,this),Be(document,"touchmove",this._onMove,this)},_onMove:function(r){var l=r.touches[0];this._newPos=new J(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,l){var f=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});f._simulated=!0,l.target.dispatchEvent(f)}});Re.addInitHook("addHandler","tapHold",Pa),Re.mergeOptions({touchZoom:me.touch,bounceAtZoomLimits:!0});var Gi=gn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),Te(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),Be(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var l=this._map;if(!(!r.touches||r.touches.length!==2||l._animatingZoom||this._zooming)){var f=l.mouseEventToContainerPoint(r.touches[0]),_=l.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(f.add(_)._divideBy(2))),this._startDist=f.distanceTo(_),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Te(document,"touchmove",this._onTouchMove,this),Te(document,"touchend touchcancel",this._onTouchEnd,this),mt(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var l=this._map,f=l.mouseEventToContainerPoint(r.touches[0]),_=l.mouseEventToContainerPoint(r.touches[1]),b=f.distanceTo(_)/this._startDist;if(this._zoom=l.getScaleZoom(b,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&b<1||this._zoom>l.getMaxZoom()&&b>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var w=f._add(_)._divideBy(2)._subtract(this._centerPoint);if(b===1&&w.x===0&&w.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(w),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),Ze(this._animRequest);var R=m(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=qe(R,this,!0),mt(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ze(this._animRequest),Be(document,"touchmove",this._onTouchMove,this),Be(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Re.addInitHook("addHandler","touchZoom",Gi),Re.BoxZoom=Da,Re.DoubleClickZoom=Pn,Re.Drag=tl,Re.Keyboard=Vr,Re.ScrollWheelZoom=_i,Re.TapHold=Pa,Re.TouchZoom=Gi,i.Bounds=V,i.Browser=me,i.CRS=ct,i.Canvas=Fr,i.Circle=$o,i.CircleMarker=zr,i.Class=Dt,i.Control=Gt,i.DivIcon=el,i.DivOverlay=bn,i.DomEvent=lf,i.DomUtil=Zu,i.Draggable=di,i.Evented=ae,i.FeatureGroup=Qt,i.GeoJSON=Jt,i.GridLayer=Fi,i.Handler=gn,i.Icon=ks,i.ImageOverlay=Dn,i.LatLng=fe,i.LatLngBounds=te,i.Layer=vn,i.LayerGroup=Bi,i.LineUtil=Ju,i.Map=Re,i.Marker=Ps,i.Mixin=df,i.Path=Wn,i.Point=J,i.PolyUtil=mf,i.Polygon=zs,i.Polyline=Kn,i.Popup=Hr,i.PosAnimation=Ta,i.Projection=ec,i.Rectangle=lc,i.Renderer=En,i.SVG=pi,i.SVGOverlay=mi,i.TileLayer=qi,i.Tooltip=ka,i.Transformation=gs,i.Util=Fn,i.VideoOverlay=Ia,i.bind=m,i.bounds=ie,i.canvas=qr,i.circle=bf,i.circleMarker=ic,i.control=Ms,i.divIcon=oc,i.extend=c,i.featureGroup=Pr,i.geoJSON=Ma,i.geoJson=sc,i.gridLayer=Sn,i.icon=Ra,i.imageOverlay=js,i.latLng=se,i.latLngBounds=le,i.layerGroup=nc,i.map=Dr,i.marker=Qo,i.point=A,i.polygon=$t,i.polyline=Sf,i.popup=Ef,i.rectangle=nn,i.setOptions=U,i.stamp=g,i.svg=Vi,i.svgOverlay=ac,i.tileLayer=en,i.tooltip=wf,i.transformation=Ci,i.version=a,i.videoOverlay=rc;var Fs=window.L;i.noConflict=function(){return window.L=Fs,this},window.L=i})}(Wl,Wl.exports)),Wl.exports}var Au=NL();const Yp=m0(Au);function Wp(s,e,i){return Object.freeze({instance:s,context:e,container:i})}function Kp(s,e){return e==null?function(a,c){const h=I.useRef(void 0);return h.current||(h.current=s(a,c)),h}:function(a,c){const h=I.useRef(void 0);h.current||(h.current=s(a,c));const m=I.useRef(a),{instance:v}=h.current;return I.useEffect(function(){m.current!==a&&(e(v,a,m.current),m.current=a)},[v,a,e]),h}}function AL(s,e){I.useEffect(function(){return(e.layerContainer??e.map).addLayer(s.instance),function(){var h;(h=e.layerContainer)==null||h.removeLayer(s.instance),e.map.removeLayer(s.instance)}},[e,s])}function JS(s){return function(i){const a=Vp(),c=s(Gp(i,a),a);return QS(a.map,i.attribution),$S(c.current,i.eventHandlers),AL(c.current,a),c}}function RL(s,e){const i=Kp(s,e),a=JS(i);return EL(a)}function OL(s,e){const i=Kp(s),a=CL(i,e);return wL(a)}function LL(s,e){const i=Kp(s,e),a=JS(i);return TL(a)}function ML(s,e,i){const{opacity:a,zIndex:c}=e;a!=null&&a!==i.opacity&&s.setOpacity(a),c!=null&&c!==i.zIndex&&s.setZIndex(c)}function IL(){return Vp().map}function kL({bounds:s,boundsOptions:e,center:i,children:a,className:c,id:h,placeholder:m,style:v,whenReady:g,zoom:y,...C},x){const[N]=I.useState({className:c,id:h,style:v}),[D,k]=I.useState(null),U=I.useRef(void 0);I.useImperativeHandle(x,()=>(D==null?void 0:D.map)??null,[D]);const Y=I.useCallback(ee=>{if(ee!==null&&!U.current){const $=new Au.Map(ee,C);U.current=$,i!=null&&y!=null?$.setView(i,y):s!=null&&$.fitBounds(s,e),g!=null&&$.whenReady(g),k(bL($))}},[]);I.useEffect(()=>()=>{D==null||D.map.remove()},[D]);const X=D?bm.createElement(Zp,{value:D},a):m??null;return bm.createElement("div",{...N,ref:Y},X)}const DL=I.forwardRef(kL),c0=RL(function({position:e,...i},a){const c=new Au.Marker(e,i);return Wp(c,SL(a,{overlayContainer:c}))},function(e,i,a){i.position!==a.position&&e.setLatLng(i.position),i.icon!=null&&i.icon!==a.icon&&e.setIcon(i.icon),i.zIndexOffset!=null&&i.zIndexOffset!==a.zIndexOffset&&e.setZIndexOffset(i.zIndexOffset),i.opacity!=null&&i.opacity!==a.opacity&&e.setOpacity(i.opacity),e.dragging!=null&&i.draggable!==a.draggable&&(i.draggable===!0?e.dragging.enable():e.dragging.disable())}),h0=OL(function(e,i){const a=new Au.Popup(e,i.overlayContainer);return Wp(a,i)},function(e,i,{position:a},c){I.useEffect(function(){const{instance:m}=e;function v(y){y.popup===m&&(m.update(),c(!0))}function g(y){y.popup===m&&c(!1)}return i.map.on({popupopen:v,popupclose:g}),i.overlayContainer==null?(a!=null&&m.setLatLng(a),m.openOn(i.map)):i.overlayContainer.bindPopup(m),function(){var C;i.map.off({popupopen:v,popupclose:g}),(C=i.overlayContainer)==null||C.unbindPopup(),i.map.removeLayer(m)}},[e,i,c,a])}),PL=LL(function({url:e,...i},a){const c=new Au.TileLayer(e,Gp(i,a));return Wp(c,a)},function(e,i,a){ML(e,i,a);const{url:c}=i;c!=null&&c!==a.url&&e.setUrl(c)}),f0=async()=>{try{const s=VS(WS,"immigration-offices"),e=await GS(s);if(e.exists()){const i=e.val();return Array.isArray(i)?i:Object.values(i)}return[]}catch(s){return console.error("Error fetching immigration offices:",s),[]}},d0=async()=>{try{const s=VS(WS,"photo-booths"),e=await GS(s);if(e.exists()){const i=e.val();return Array.isArray(i)?i:Object.values(i)}return[]}catch(s){return console.error("Error fetching photo booths:",s),[]}};delete Yp.Icon.Default.prototype._getIconUrl;Yp.Icon.Default.mergeOptions({iconRetinaUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon-2x.png",iconUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-icon.png",shadowUrl:"https://unpkg.com/leaflet@1.7.1/dist/images/marker-shadow.png"});const zL=new Yp.Icon({iconUrl:"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),UL=({userPosition:s,onViewChange:e,mapRef:i})=>{const a=IL(),c=()=>{s&&a.setView(s,13,{animate:!0,duration:1})};return I.useEffect(()=>{const h=()=>{if(s){const m=a.getCenter(),v=a.getZoom(),g=Math.abs(m.lat-s[0])<.001&&Math.abs(m.lng-s[1])<.001&&v>=12;e(g)}};return a.on("moveend",h),a.on("zoomend",h),h(),()=>{a.off("moveend",h),a.off("zoomend",h)}},[a,s,e]),I.useEffect(()=>{i.current&&(i.current.resetToUserLocation=()=>{s&&a.setView(s,13,{animate:!0,duration:1})})},[a,s,i]),E.jsx("div",{className:"map-controls",children:E.jsx("button",{className:"my-location-btn",onClick:c,title:"Go to my location",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/100/define-location--v1.png",alt:"My Location"})})})},Zl=(s,e,i,a)=>{const h=(i-s)*Math.PI/180,m=(a-e)*Math.PI/180,v=Math.sin(h/2)*Math.sin(h/2)+Math.cos(s*Math.PI/180)*Math.cos(i*Math.PI/180)*Math.sin(m/2)*Math.sin(m/2);return 6371*(2*Math.atan2(Math.sqrt(v),Math.sqrt(1-v)))},eE=I.forwardRef(({locationType:s,onViewChange:e},i)=>{const[a,c]=I.useState(null),[h,m]=I.useState([]),[v,g]=I.useState(!0),[y,C]=I.useState(null),[x,N]=I.useState(!1);I.useEffect(()=>{const $=async()=>{try{navigator.geolocation?navigator.geolocation.getCurrentPosition(async re=>{const De=re.coords.latitude,_e=re.coords.longitude;c([De,_e]);let xe=[];s==="immigration"?xe=await f0():xe=await d0();const ye=xe.filter(et=>Zl(De,_e,et.lat,et.lon)<=20);ye.sort((et,qe)=>{const Ze=Zl(De,_e,et.lat,et.lon),Fn=Zl(De,_e,qe.lat,qe.lon);return Ze-Fn}),m(ye),g(!1)},re=>{console.error("Error getting location:",re),c([35.630184,139.744451]),ce()}):(c([35.630184,139.744451]),ce())}catch(re){console.error("Error fetching data:",re),g(!1)}},ce=async()=>{try{let re=[];s==="immigration"?re=await f0():re=await d0(),m(re),g(!1)}catch(re){console.error("Error fetching fallback data:",re),g(!1)}};$()},[s]);const D=$=>{C($),N(!0)},k=()=>{alert("Phone functionality will be implemented here")},U=()=>{if(y){const $=`https://www.google.com/maps/dir/?api=1&origin=${a==null?void 0:a[0]},${a==null?void 0:a[1]}&destination=${y.lat},${y.lon}&travelmode=driving`;window.open($,"_blank")}},Y=()=>{N(!1),C(null)},X=$=>{e&&e($)};if(I.useEffect(()=>{i&&typeof i=="object"&&(i.current={resetToUserLocation:()=>{}})},[i]),v)return E.jsx("div",{className:"map-wrapper map-loading",children:E.jsx("div",{children:"Getting your location..."})});const ee=s==="immigration"?"offices":"photo machines";return E.jsxs("div",{className:"map-wrapper",children:[E.jsxs(DL,{center:a,zoom:13,className:"map-container",zoomControl:!0,attributionControl:!1,children:[E.jsx(PL,{url:"https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png"}),E.jsx(UL,{userPosition:a,onViewChange:X,mapRef:i}),h.map(($,ce)=>{const re=a?Zl(a[0],a[1],$.lat,$.lon):0;return E.jsx(c0,{position:[$.lat,$.lon],children:E.jsx(h0,{closeButton:!1,children:E.jsxs("div",{className:"location-popup clickable",onClick:()=>D($),children:[E.jsx("strong",{children:$.name}),a&&E.jsxs("p",{children:["Distance: ",re.toFixed(1)," km"]}),E.jsx("p",{className:"click-for-more",children:"Click for more details"})]})})},ce)}),a&&E.jsx(c0,{position:a,icon:zL,children:E.jsx(h0,{closeButton:!1,children:E.jsxs("div",{children:[E.jsx("strong",{children:"Your Location"}),E.jsxs("p",{children:["Found ",h.length," ",ee," within 20km"]})]})})})]}),x&&y&&E.jsx("div",{className:"detail-popup-overlay",children:E.jsxs("div",{className:"detail-popup",children:[E.jsx("button",{className:"close-button",onClick:Y,children:"×"}),E.jsxs("div",{className:"detail-content",children:[E.jsx("h3",{children:y.name}),a&&E.jsxs("p",{className:"distance",children:["Distance:"," ",Zl(a[0],a[1],y.lat,y.lon).toFixed(1)," ","km"]}),E.jsxs("div",{className:"action-buttons",children:[E.jsxs("button",{className:"action-btn phone-btn",onClick:k,children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/phone.png",alt:"Phone"}),E.jsx("span",{children:"Call"})]}),E.jsxs("button",{className:"action-btn direction-btn",onClick:U,children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/compass.png",alt:"Directions"}),E.jsx("span",{children:"Directions"})]})]})]})]})})]})});eE.displayName="Map";const jL=()=>{const[s,e]=I.useState("immigration"),[i,a]=I.useState(!0),c=I.useRef(null),h=()=>{e("immigration")},m=()=>{e("photobooth")},v=()=>{c.current&&c.current.resetToUserLocation&&c.current.resetToUserLocation()},g=y=>{a(y)};return E.jsxs("div",{className:"locator-container",children:[E.jsxs("div",{className:"top-section",children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/map.png",alt:"Logo"}),E.jsx("h1",{children:"Map"})]}),E.jsxs("div",{className:"middle-section",children:[E.jsx("div",{className:"map-wrapper",children:E.jsx(eE,{locationType:s,ref:c,onViewChange:g})}),!i&&E.jsxs("button",{className:"reset-button",onClick:v,children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/center-direction.png",alt:"Reset Location"}),E.jsx("span",{children:"Reset"})]}),E.jsx("div",{className:"locator-options-overlay",children:E.jsxs("div",{className:"locator-buttons",children:[E.jsxs("button",{className:`locator-option immigration-offices ${s==="immigration"?"active":""}`,onClick:h,children:[E.jsx("div",{className:"option-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/666666/office.png",alt:"Immigration Offices"})}),E.jsx("div",{className:"option-info",children:E.jsx("h2",{children:"Immigration Offices"})})]}),E.jsxs("button",{className:`locator-option photo-booths ${s==="photobooth"?"active":""}`,onClick:m,children:[E.jsx("div",{className:"option-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/666666/camera.png",alt:"Photo Booths"})}),E.jsx("div",{className:"option-info",children:E.jsx("h2",{children:"Photo Booths"})})]})]})})]}),E.jsx("div",{className:"bottom-section",children:E.jsx(qp,{})})]})},BL=({onBack:s})=>E.jsxs("div",{className:"account-container",children:[E.jsx("div",{className:"section-header",children:E.jsxs("button",{className:"back-button",onClick:s,children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/0078d4/back.png",alt:"back"}),"Back"]})}),E.jsxs("div",{className:"account-content",children:[E.jsx("h2",{children:"Help & Support"}),E.jsxs("ul",{style:{listStyle:"none",padding:0},children:[E.jsxs("li",{children:[E.jsx("strong",{children:"FAQ"}),E.jsx("p",{children:"Find answers to frequently asked questions."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Contact Support"}),E.jsx("p",{children:"Get in touch with our support team."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"User Guide"}),E.jsx("p",{children:"Learn how to use the app effectively."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Report a Bug"}),E.jsx("p",{children:"Report any issues you encounter."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Feature Request"}),E.jsx("p",{children:"Suggest new features for the app."})]})]})]})]}),HL=({onBack:s})=>E.jsxs("div",{className:"account-container",children:[E.jsx("div",{className:"section-header",children:E.jsxs("button",{className:"back-button",onClick:s,children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/0078d4/back.png",alt:"back"}),"Back"]})}),E.jsxs("div",{className:"account-content",children:[E.jsx("h2",{children:"Privacy & Security"}),E.jsxs("ul",{style:{listStyle:"none",padding:0},children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Password"}),E.jsx("p",{children:"Change your account password."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Two-Factor Authentication"}),E.jsx("p",{children:"Enable or manage 2FA for extra security."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"App Permissions"}),E.jsx("p",{children:"Manage what data the app can access."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Data Sharing"}),E.jsx("p",{children:"Control how your data is shared with third parties."})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Delete Account"}),E.jsx("p",{children:"Permanently delete your account and data."})]})]})]})]});class FL{constructor(){Xd(this,"registration",null);Xd(this,"intervalId",null)}async requestPermission(){return"Notification"in window?Notification.permission==="granted"?!0:Notification.permission==="denied"?(console.log("Notification permission denied"),!1):await Notification.requestPermission()==="granted":(console.log("This browser does not support notifications"),!1)}async registerServiceWorker(){if(!("serviceWorker"in navigator))return console.log("Service Worker not supported"),!1;try{const e="/vizy/sw.js";return this.registration=await navigator.serviceWorker.register(e,{scope:"/vizy/"}),console.log("Service Worker registered successfully"),!0}catch(e){return console.error("Service Worker registration failed:",e),!1}}async sendNotification(e,i){if(!this.registration){console.log("Service Worker not registered");return}console.log("Attempting to send notification:",e,i);const a="/vizy";try{await this.registration.showNotification(e,{body:i,icon:`${a}/vizy.svg`,badge:`${a}/vizy.svg`,requireInteraction:!0,silent:!1,tag:"vizy-notification",data:{dateOfArrival:Date.now(),primaryKey:1}}),console.log("Notification sent successfully")}catch(c){console.error("Failed to send notification:",c)}}startTestNotifications(){if(this.intervalId){console.log("Test notifications already running");return}console.log("Starting test notifications every 1 second..."),console.log("Service Worker registration:",this.registration),this.intervalId=setInterval(async()=>{const e=new Date().toLocaleTimeString();console.log("Sending notification at:",e),await this.sendNotification("Vizy Test Notification",`This is a test notification sent at ${e}`)},1e3)}stopTestNotifications(){this.intervalId&&(clearInterval(this.intervalId),this.intervalId=null,console.log("Test notifications stopped"))}async initialize(){return await this.requestPermission()?await this.registerServiceWorker():!1}async testBasicNotification(){if(console.log("Testing basic notification..."),console.log("Notification permission:",Notification.permission),Notification.permission==="granted")try{const e=new Notification("Test Notification",{body:"This is a basic test notification",tag:"test-notification",requireInteraction:!0,silent:!1});console.log("Basic notification created:",e),e.onshow=()=>{console.log("Notification shown!")},e.onclick=()=>{console.log("Notification clicked!"),e.close()},e.onclose=()=>{console.log("Notification closed!")},e.onerror=i=>{console.error("Notification error:",i)},setTimeout(()=>{e&&(console.log("Auto-closing notification"),e.close())},5e3)}catch(e){console.error("Basic notification failed:",e)}else console.log("Notification permission not granted")}}const Vl=new FL,qL=()=>{const[s,e]=I.useState(!1),[i,a]=I.useState(!1),[c,h]=I.useState("");I.useEffect(()=>{m()},[]);const m=async()=>{h("Initializing notifications...");const x=await Vl.initialize();e(x),h(x?"Ready to send notifications":"Failed to initialize")},v=()=>{Vl.startTestNotifications(),a(!0),h("Sending notifications every 10 seconds...")},g=()=>{Vl.stopTestNotifications(),a(!1),h("Notifications stopped")},y=async()=>{await Vl.sendNotification("Single Test Notification","This is a single test notification!"),h("Single notification sent")},C=async()=>{await Vl.testBasicNotification()};return E.jsxs("div",{className:"notification-test",children:[E.jsx("h2",{children:"Push Notification Test"}),E.jsxs("div",{className:"status-section",children:[E.jsxs("p",{className:"status-text",children:["Status: ",c]}),E.jsx("div",{className:`status-indicator ${s?"ready":"error"}`,children:s?"✓ Ready":"✗ Not Ready"})]}),E.jsxs("div",{className:"controls",children:[E.jsx("button",{className:"test-button single",onClick:y,disabled:!s,children:"Send Single Notification"}),E.jsx("button",{className:"test-button start",onClick:v,disabled:!s||i,children:"Start 10-Second Test"}),E.jsx("button",{className:"test-button stop",onClick:g,disabled:!i,children:"Stop Test"}),E.jsx("button",{className:"test-button basic",onClick:C,disabled:!s,children:"Test Basic Notification"})]}),E.jsxs("div",{className:"info",children:[E.jsx("h3",{children:"How it works:"}),E.jsxs("ul",{children:[E.jsx("li",{children:'Click "Send Single Notification" to send one notification'}),E.jsx("li",{children:'Click "Start 10-Second Test" to send notifications every 10 seconds'}),E.jsx("li",{children:'Click "Stop Test" to stop the automatic notifications'}),E.jsx("li",{children:"Notifications will appear even when the app is closed"})]})]})]})},ZL=()=>{const[s,e]=I.useState(null),[i,a]=I.useState(!1),[c,h]=I.useState(!1),{logout:m}=Lo(),v=N=>{e(N)},g=()=>{e(null)},y=()=>{a(!0)},C=async()=>{h(!0);try{await m(),window.location.href="/vizy/login"}catch(N){console.error("Failed to logout:",N),alert("Failed to logout. Please try again.")}finally{h(!1),a(!1)}},x=()=>{a(!1)};return s==="account"?E.jsx(XS,{onBack:g}):s==="help"?E.jsx(BL,{onBack:g}):s==="privacy"?E.jsx(HL,{onBack:g}):s==="notification-test"?E.jsx(qL,{}):E.jsxs("div",{className:"settings-container",children:[E.jsxs("div",{className:"top-section",children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/settings.png",alt:"Settings"}),E.jsx("h1",{children:"Settings"})]}),E.jsx("div",{className:"middle-section",children:E.jsxs("div",{className:"settings-grid",children:[E.jsxs("button",{className:"settings-card",onClick:()=>v("account"),children:[E.jsx("div",{className:"card-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/667eea/user.png",alt:"Account"})}),E.jsxs("div",{className:"card-content",children:[E.jsx("h3",{children:"Account"}),E.jsx("p",{children:"Manage your profile and account settings"})]}),E.jsx("div",{className:"card-arrow",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/999999/chevron-right.png",alt:">"})})]}),E.jsxs("button",{className:"settings-card",onClick:()=>v("help"),children:[E.jsx("div",{className:"card-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/667eea/help.png",alt:"Help"})}),E.jsxs("div",{className:"card-content",children:[E.jsx("h3",{children:"Help & Support"}),E.jsx("p",{children:"Get help and contact support"})]}),E.jsx("div",{className:"card-arrow",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/999999/chevron-right.png",alt:">"})})]}),E.jsxs("button",{className:"settings-card",onClick:()=>v("privacy"),children:[E.jsx("div",{className:"card-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/667eea/privacy.png",alt:"Privacy"})}),E.jsxs("div",{className:"card-content",children:[E.jsx("h3",{children:"Privacy & Security"}),E.jsx("p",{children:"Manage your privacy and security settings"})]}),E.jsx("div",{className:"card-arrow",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/999999/chevron-right.png",alt:">"})})]}),E.jsxs("button",{className:"settings-card",onClick:()=>v("notification-test"),children:[E.jsx("div",{className:"card-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/667eea/notification.png",alt:"Notifications"})}),E.jsxs("div",{className:"card-content",children:[E.jsx("h3",{children:"Notification Test"}),E.jsx("p",{children:"Test push notifications"})]}),E.jsx("div",{className:"card-arrow",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/999999/chevron-right.png",alt:">"})})]}),E.jsxs("button",{className:"settings-card logout-card",onClick:y,children:[E.jsx("div",{className:"card-icon logout-icon",children:E.jsx("img",{src:"https://img.icons8.com/ios-glyphs/100/999999/open-pane.png",alt:"Logout"})}),E.jsxs("div",{className:"card-content",children:[E.jsx("h3",{children:"Logout"}),E.jsx("p",{children:"Sign out of your account"})]}),E.jsx("div",{className:"card-arrow",children:E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/999999/chevron-right.png",alt:">"})})]})]})}),E.jsx("div",{className:"bottom-section",children:E.jsx(qp,{})}),i&&E.jsx("div",{className:"popup-overlay",onClick:x,children:E.jsxs("div",{className:"popup-content logout-popup",onClick:N=>N.stopPropagation(),children:[E.jsxs("div",{className:"popup-header",children:[E.jsx("h3",{children:"Confirm Logout"}),E.jsx("button",{className:"close-button",onClick:x,children:"×"})]}),E.jsxs("div",{className:"popup-body",children:[E.jsxs("div",{className:"logout-header",children:[E.jsx("img",{src:"https://img.icons8.com/ios-glyphs/100/open-pane.png",alt:"Logout"}),E.jsx("p",{className:"logout-message",children:"Are you sure you want to logout? You will need to sign in again to access your account."})]}),E.jsxs("div",{className:"popup-actions",children:[E.jsx("button",{className:"cancel-button",onClick:x,disabled:c,children:"Cancel"}),E.jsx("button",{className:"confirm-logout-button",onClick:C,disabled:c,children:c?"Logging out...":"Yes, Logout"})]})]})]})})]})},VL=()=>{const[s,e]=I.useState(""),[i,a]=I.useState(""),[c,h]=I.useState(""),[m,v]=I.useState(!1),{login:g,loginWithGoogle:y,currentUser:C}=Lo(),x=Hh();I.useEffect(()=>{C&&(console.log("User already logged in, redirecting to home"),x("/"))},[C,x]);async function N(k){k.preventDefault();try{h(""),v(!0),await g(s,i)}catch(U){h("Failed to log in: "+U.message)}finally{v(!1)}}async function D(){try{h(""),v(!0),await y()}catch(k){h("Failed to authenticate with Google: "+k.message)}finally{v(!1)}}return C?E.jsx("div",{className:"login-page",children:E.jsx("div",{className:"login-container",children:E.jsx("div",{children:"Redirecting..."})})}):E.jsx("div",{className:"login-page",children:E.jsxs("div",{className:"login-container",children:[E.jsxs("div",{className:"login-header",children:[E.jsx("img",{src:"/src/assets/icons/vizy.svg",alt:"Vizy Logo",className:"logo"}),E.jsx("h1",{children:"Welcome to Vizy"}),E.jsx("p",{children:"Your immigration assistant"})]}),c&&E.jsx("div",{className:"error-message",children:c}),E.jsxs("form",{onSubmit:N,className:"login-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Email"}),E.jsx("input",{type:"email",id:"email",value:s,onChange:k=>e(k.target.value),required:!0,placeholder:"Enter your email"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Password"}),E.jsx("input",{type:"password",id:"password",value:i,onChange:k=>a(k.target.value),required:!0,placeholder:"Enter your password",minLength:6})]}),E.jsx("button",{type:"submit",className:"login-button primary",disabled:m,children:m?"Logging in...":"Login"})]}),E.jsx("div",{className:"divider",children:E.jsx("span",{children:"or"})}),E.jsxs("button",{onClick:D,className:"login-button google",disabled:m,children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/google.png",alt:"Google"}),"Continue with Google"]}),E.jsx("div",{className:"login-footer",children:E.jsxs("p",{children:["Don't have an account?"," ",E.jsx("a",{href:"/vizy/signup",className:"link-button",children:"Sign up"})]})})]})})},GL=()=>{const[s,e]=I.useState(""),[i,a]=I.useState(""),[c,h]=I.useState(""),[m,v]=I.useState(""),[g,y]=I.useState(!1),[C,x]=I.useState(!1),[N,D]=I.useState(""),[k,U]=I.useState(!1),{signup:Y,loginWithGoogle:X}=Lo();async function ee(ce){if(ce.preventDefault(),!s.trim())return D("First name is required");if(c!==m)return D("Passwords do not match");if(c.length<6)return D("Password must be at least 6 characters long");if(!g)return D("You must agree to the Terms of Service");try{D(""),U(!0);const re=await Y(i,c);re.user&&await vb(re.user,{displayName:s.trim()}),window.location.href="/vizy/"}catch(re){D("Failed to create an account: "+re.message)}finally{U(!1)}}async function $(){try{D(""),U(!0),await X(),window.location.href="/vizy/"}catch(ce){D("Failed to sign up with Google: "+ce.message)}finally{U(!1)}}return E.jsxs("div",{className:"signup-page",children:[E.jsxs("div",{className:"signup-container",children:[E.jsxs("div",{className:"signup-header",children:[E.jsx("h1",{children:"Create Your Account"}),E.jsx("p",{children:"Join Vizy and start your immigration journey"})]}),N&&E.jsx("div",{className:"error-message",children:N}),E.jsxs("form",{onSubmit:ee,className:"signup-form",children:[E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"firstName",children:"First Name"}),E.jsx("input",{type:"text",id:"firstName",value:s,onChange:ce=>e(ce.target.value),required:!0,placeholder:"Enter your first name"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"email",children:"Email"}),E.jsx("input",{type:"email",id:"email",value:i,onChange:ce=>a(ce.target.value),required:!0,placeholder:"Enter your email"})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"password",children:"Password"}),E.jsx("input",{type:"password",id:"password",value:c,onChange:ce=>h(ce.target.value),required:!0,placeholder:"Enter your password",minLength:6})]}),E.jsxs("div",{className:"form-group",children:[E.jsx("label",{htmlFor:"confirmPassword",children:"Confirm Password"}),E.jsx("input",{type:"password",id:"confirmPassword",value:m,onChange:ce=>v(ce.target.value),required:!0,placeholder:"Re-enter your password",minLength:6})]}),E.jsx("div",{className:"terms-checkbox",children:E.jsxs("label",{className:"checkbox-label",children:[E.jsx("input",{type:"checkbox",checked:g,onChange:ce=>y(ce.target.checked)}),E.jsx("span",{className:"checkmark"}),"I agree to the"," ",E.jsx("button",{type:"button",className:"terms-link",onClick:()=>x(!0),children:"Terms of Service"})]})}),E.jsx("button",{type:"submit",className:"signup-button primary",disabled:k,children:k?"Creating Account...":"Create Account"})]}),E.jsx("div",{className:"divider",children:E.jsx("span",{children:"or"})}),E.jsxs("button",{onClick:$,className:"signup-button google",disabled:k,children:[E.jsx("img",{src:"https://img.icons8.com/ios-filled/50/FFFFFF/google.png",alt:"Google"}),"Continue with Google"]}),E.jsx("div",{className:"signup-footer",children:E.jsxs("p",{children:["Already have an account?"," ",E.jsx("a",{href:"/vizy/login",className:"link-button",children:"Log in"})]})})]}),C&&E.jsx("div",{className:"terms-overlay",children:E.jsxs("div",{className:"terms-modal",children:[E.jsxs("div",{className:"terms-header",children:[E.jsx("h3",{children:"Terms of Service"}),E.jsx("button",{className:"close-button",onClick:()=>x(!1),children:"×"})]}),E.jsxs("div",{className:"terms-content",children:[E.jsx("h4",{children:"Welcome to Vizy"}),E.jsx("p",{children:"By using our service, you agree to the following terms:"}),E.jsx("h5",{children:"1. Service Description"}),E.jsx("p",{children:"Vizy is an immigration assistant application designed to help users find immigration offices and photo booths in Japan."}),E.jsx("h5",{children:"2. User Responsibilities"}),E.jsx("p",{children:"You are responsible for:"}),E.jsxs("ul",{children:[E.jsx("li",{children:"Providing accurate information"}),E.jsx("li",{children:"Maintaining the security of your account"}),E.jsx("li",{children:"Using the service in compliance with local laws"})]}),E.jsx("h5",{children:"3. Privacy"}),E.jsx("p",{children:"We collect and process your data in accordance with our Privacy Policy. Your personal information is protected and will not be shared with third parties without your consent."}),E.jsx("h5",{children:"4. Limitation of Liability"}),E.jsx("p",{children:"Vizy provides information for reference purposes only. We are not responsible for any decisions made based on the information provided through our service."}),E.jsx("h5",{children:"5. Changes to Terms"}),E.jsx("p",{children:"We reserve the right to modify these terms at any time. Continued use of the service constitutes acceptance of any changes."}),E.jsxs("p",{children:[E.jsx("strong",{children:"Last updated:"})," ",new Date().toLocaleDateString()]})]}),E.jsx("div",{className:"terms-footer",children:E.jsx("button",{className:"signup-button primary",onClick:()=>x(!1),children:"I Understand"})})]})})]})};function YL(){return E.jsx(BT,{basename:"/vizy",children:E.jsx(dL,{children:E.jsxs(_T,{children:[E.jsx(na,{path:"/login",element:E.jsx(VL,{})}),E.jsx(na,{path:"/signup",element:E.jsx(GL,{})}),E.jsx(na,{path:"/",element:E.jsx(ym,{children:E.jsx(vL,{})})}),E.jsx(na,{path:"/locator",element:E.jsx(ym,{children:E.jsx(jL,{})})}),E.jsx(na,{path:"/settings",element:E.jsx(ym,{children:E.jsx(ZL,{})})}),E.jsx(na,{path:"*",element:E.jsx(C0,{to:"/login",replace:!0})})]})})})}Cw.createRoot(document.getElementById("root")).render(E.jsx(I.StrictMode,{children:E.jsx(YL,{})}));
